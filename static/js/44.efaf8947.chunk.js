(this.webpackJsonp=this.webpackJsonp||[]).push([[44],{3965:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringBase",(function(){return h})),r.d(t,"KeyringBaseMock",(function(){return O}));var n=r(2),i=r.n(n),o=r(6),u=r.n(o),c=r(9),a=r.n(c),s=r(14),d=r.n(s),f=r(7),l=r.n(f);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l()(e);if(t){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d()(this,r)}}var h=function(e){a()(r,e);var t=p(r);function r(e){var r;return(r=t.call(this,e.options)).vault=e,r}return r.prototype.addressFromBase=function(){var e=i()((function*(e){return this.vault.addressFromBase(e)}));return function(t){return e.apply(this,arguments)}}(),u()(r)}(r(1607).VaultContext),O=function(e){a()(r,e);var t=p(r);function r(){return t.apply(this,arguments)}return u()(r)}(h)},3967:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringSoftwareBase",(function(){return E}));var n=r(4),i=r.n(n),o=r(3),u=r.n(o),c=r(2),a=r.n(c),s=r(6),d=r.n(s),f=r(9),l=r.n(f),p=r(14),h=r.n(p),O=r(7),y=r.n(O),v=r(18),P=r(22);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var E=function(e){l()(r,e);var t=m(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.signTransaction=function(){var e=a()((function*(e,t){var r=t.password;if("undefined"===typeof r)throw new P.OneKeyInternalError("Software signing requires a password.");var n=yield this.getSigners(r,e.inputs.map((function(e){return e.address})));return v.default.engine.info("signTransaction",this.networkId,e),w(w({},yield this.engine.providerManager.signTransaction(this.networkId,e,n)),{},{encodedTx:e.encodedTx})}));return function(t,r){return e.apply(this,arguments)}}(),n.signMessage=function(){var e=a()((function*(e,t){var r=this,n=t.password;if("undefined"===typeof n)throw new P.OneKeyInternalError("Software signing requires a password.");var o=yield this.getDbAccount(),u=Object.values(yield this.getSigners(n,[o.address])),c=i()(u,1)[0];return v.default.engine.info("signMessage",this.networkId,e),Promise.all(e.map((function(e){return r.engine.providerManager.signMessage(r.networkId,e,c)})))}));return function(t,r){return e.apply(this,arguments)}}(),n.getAddress=function(){throw new Error("Method not implemented.")},n.batchGetAddress=function(){throw new Error("Method not implemented.")},n.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},d()(r)}(r(3965).KeyringBase)},3972:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"VaultBaseChainOnly",(function(){return U})),r.d(t,"VaultBase",(function(){return R}));var n=r(207),i=r.n(n),o=r(3),u=r.n(o),c=r(61),a=r.n(c),s=r(2),d=r.n(s),f=r(6),l=r.n(f),p=r(9),h=r.n(p),O=r(14),y=r.n(O),v=r(7),P=r.n(v),g=r(21),w=r.n(g),m=r(175),E=r.n(m),T=r(12),I=r(18),A=r(25),b=r(66),_=r(22),S=r(191),N=r(965),x=r(52),F=r(1607);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var i=P()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}if(A.default.isExtensionUi)throw new Error("engine/VaultBase is not allowed imported from ui");var U=function(e){h()(r,e);var t=D(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.initProvider=function(){var e=d()((function*(){var e=(yield this.getNetwork()).impl;a()(N.IMPL_MAPPINGS[e])||(this.engineProvider=yield this.engine.providerManager.getProvider(this.networkId))}));return function(){return e.apply(this,arguments)}}(),n.proxyJsonRPCCall=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),n.createClientFromURL=function(e){throw new _.NotImplemented},n.getEthersProvider=function(){var e=d()((function*(){throw new _.NotImplemented}));return function(){return e.apply(this,arguments)}}(),n.getClientEndpointStatus=function(){var e=d()((function*(e){var t=this.createClientFromURL(e),r=performance.now(),n=(yield t.getInfo()).bestBlockNumber;return{responseTime:Math.floor(performance.now()-r),latestBlock:n}}));return function(t){return e.apply(this,arguments)}}(),n.checkRpcBatchSupport=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),n.getDisplayAddress=function(){var e=d()((function*(e){return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),n.validateAddress=function(){var e=d()((function*(e){var t=yield this.engineProvider.verifyAddress(e),r=t.normalizedAddress;if(!t.isValid||!r)throw new _.InvalidAddress;return Promise.resolve(r)}));return function(t){return e.apply(this,arguments)}}(),n.validateImportedCredential=function(e){return Promise.resolve(this.settings.importedAccountEnabled&&/^(0x)?[0-9a-zA-Z]{64}$/.test(e))},n.validateWatchingCredential=function(){var e=d()((function*(e){return Promise.resolve(this.settings.watchingAccountEnabled&&(yield this.engineProvider.verifyAddress(e)).isValid)}));return function(t){return e.apply(this,arguments)}}(),n.validateTokenAddress=function(){var e=d()((function*(e){var t=yield this.engineProvider.verifyTokenAddress(e),r=t.normalizedAddress;if(!t.isValid||"undefined"===typeof r)throw new _.InvalidTokenAddress;return Promise.resolve(r)}));return function(t){return e.apply(this,arguments)}}(),n.validateCanCreateNextAccount=function(){var e=d()((function*(e,t){return Promise.resolve(!0)}));return function(t,r){return e.apply(this,arguments)}}(),n.checkAccountExistence=function(){var e=d()((function*(e,t){return Promise.resolve(!0)}));return function(t,r){return e.apply(this,arguments)}}(),n.getBalances=function(){var e=d()((function*(e,t,r){return(yield this.engine.providerManager.getClient(this.networkId)).getBalances(e.map((function(e){var t=e.address,r=e.tokenAddress;return{address:t,coin:B({},"string"===typeof r?{tokenAddress:r}:{})}})))}));return function(t,r,n){return e.apply(this,arguments)}}(),n.getFrozenBalance=function(){var e=d()((function*(e){return 0}));return function(t){return e.apply(this,arguments)}}(),n.fetchBalanceDetails=function(){var e=d()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.password;return Promise.resolve(void 0)}));return function(){return e.apply(this,arguments)}}(),n.getTransactionStatuses=function(e){return this.engine.providerManager.getTransactionStatuses(this.networkId,e)},n.getTransactionFeeInNative=function(e){return Promise.resolve("")},n.isContractAddress=function(){var e=d()((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),n.getAccountNameInfoMap=function(){var e=d()((function*(){var e=yield this.getNetwork();return Object(S.getAccountNameInfoByImpl)(e.impl)}));return function(){return e.apply(this,arguments)}}(),n.canAutoCreateNextAccount=function(){var e=d()((function*(e){return Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),n.filterAccounts=function(){var e=d()((function*(e){var t=e.accounts;e.networkId;return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),n.shouldChangeAccountWhenNetworkChanged=function(){var e=d()((function*(e){e.previousNetwork,e.newNetwork,e.activeAccountId;return Promise.resolve({shouldReloadAccountList:!1,shouldChangeActiveAccount:!1})}));return function(t){return e.apply(this,arguments)}}(),n.getAccountNameInfosByImportedOrWatchingCredential=function(){var e=d()((function*(e){return Promise.resolve([])}));return function(t){return e.apply(this,arguments)}}(),n.checkIsUnlimitedAllowance=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),n.checkIsApprovedForAll=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),n.checkIsBatchTransfer=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),n.getFeePricePerUnit=function(){var e=d()((function*(){throw new _.NotImplemented}));return function(){return e.apply(this,arguments)}}(),n.fetchRpcChainId=function(){var e=d()((function*(e){return null}));return function(t){return e.apply(this,arguments)}}(),n.getTxWaitingSeconds=function(){var e=d()((function*(){return[]}));return function(){return e.apply(this,arguments)}}(),n.getUserNFTAssets=function(){var e=d()((function*(e){e.serviceData;return Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),l()(r)}(F.VaultContext),R=function(t){h()(n,t);var r=D(n);function n(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).uuid=E.a.v4().toString(),e}var o=n.prototype;return o.init=function(){var e=d()((function*(e){yield this.initProvider(),yield this.initKeyring(e)}));return function(t){return e.apply(this,arguments)}}(),o.initKeyring=function(){var e=d()((function*(e){this.keyring=yield e.keyringCreator(this)}));return function(t){return e.apply(this,arguments)}}(),o.signTransaction=function(){var e=d()((function*(e,t){return this.keyring.signTransaction(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),o.signAndSendTransaction=function(){var e=d()((function*(e,t,r){var n=yield this.signTransaction(e,t);return r?B(B({},n),{},{encodedTx:e.encodedTx}):this.broadcastTransaction(B(B({},n),{},{encodedTx:e.encodedTx}))}));return function(t,r,n){return e.apply(this,arguments)}}(),o.broadcastTransaction=function(){var e=d()((function*(e,t){I.default.engine.info("broadcastTransaction START:",{rawTx:e.rawTx});var r=yield this.engine.providerManager.broadcastTransaction(this.networkId,e.rawTx,t);return I.default.engine.info("broadcastTransaction END:",{txid:r,rawTx:e.rawTx}),B(B({},e),{},{txid:r,encodedTx:e.encodedTx})}));return function(t,r){return e.apply(this,arguments)}}(),o.buildEncodedTxFromBatchTransfer=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),o.buildEncodedTxsFromSetApproveForAll=function(){var e=d()((function*(e,t){throw new _.NotImplemented}));return function(t,r){return e.apply(this,arguments)}}(),o.activateAccount=function(){var e=d()((function*(){throw new _.NotImplemented}));return function(){return e.apply(this,arguments)}}(),o.activateToken=function(){var e=d()((function*(e,t){throw new _.NotImplemented}));return function(t,r){return e.apply(this,arguments)}}(),o.getTokenAllowance=function(){var e=d()((function*(e,t){throw new _.NotImplemented}));return function(t,r){return e.apply(this,arguments)}}(),o.batchTokensAllowance=function(){var e=d()((function*(e,t){throw new _.NotImplemented}));return function(t,r){return e.apply(this,arguments)}}(),o.getOutputAccount=function(){var e=d()((function*(){var e=yield this.getDbAccount({noCache:!0});return{id:e.id,name:e.name,type:e.type,path:e.path,coinType:e.coinType,tokens:[],address:e.address,template:e.template,pubKey:i()(e,"pub","")}}));return function(){return e.apply(this,arguments)}}(),o.getAccountBalance=function(){var e=d()((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=yield this.getDbAccount(),o=i.address;return this.getBalances((t?[{address:o}]:[]).concat(e.map((function(e){return{address:o,tokenAddress:e}}))),r,n)}));return function(t){return e.apply(this,arguments)}}(),o.updatePendingTxs=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),o.getAccountNonce=function(){var e=d()((function*(){return Promise.resolve(null)}));return function(){return e.apply(this,arguments)}}(),o.fixActionDirection=function(){var e=d()((function*(e){var t,r,n,i,o=e.action,u=e.accountAddress;(o.direction=x.IDecodedTxDirection.OTHER,o.type===x.IDecodedTxActionType.NATIVE_TRANSFER)&&(o.direction=yield this.buildTxActionDirection({from:(null==(t=o.nativeTransfer)?void 0:t.from)||"",to:(null==(r=o.nativeTransfer)?void 0:r.to)||"",address:u}));o.type===x.IDecodedTxActionType.TOKEN_TRANSFER&&(o.direction=yield this.buildTxActionDirection({from:(null==(n=o.tokenTransfer)?void 0:n.from)||"",to:(null==(i=o.tokenTransfer)?void 0:i.to)||"",address:u}));return o}));return function(t){return e.apply(this,arguments)}}(),o.fixDecodedTx=function(){var e=d()((function*(e){var t,r;e.createdAt=null!=(t=e.createdAt)?t:Date.now();var n=null==(r=e.encodedTx)?void 0:r.nonce;e.nonce=a()(n)?e.nonce:new w.a(n).toNumber();for(var i=e.owner,o=0;o<e.actions.length;o+=1){var u=e.actions[o];yield this.fixActionDirection({action:u,accountAddress:i})}if(e.outputActions)for(var c=0;c<e.outputActions.length;c+=1){var s=e.outputActions[c];yield this.fixActionDirection({action:s,accountAddress:i})}return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),o.fixHistoryTx=function(){var e=d()((function*(e){return e.decodedTx=yield this.fixDecodedTx(e.decodedTx),Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),o.buildHistoryTx=function(){var e=d()((function*(e){var t=e.historyTxToMerge,r=(e.encodedTx,e.decodedTx),n=e.signedTx,i=e.isSigner,o=e.isLocalCreated,u=(null==n?void 0:n.txid)||(null==r?void 0:r.txid)||"";if(!u)throw new Error("buildHistoryTx txid not found");var c=yield this.getAccountAddress();r.txid=u||r.txid,r.owner=c,i&&(r.signer=c),null!=n&&n.txKey&&(r.extraInfo?r.extraInfo.txKey=n.txKey:r.extraInfo={txKey:n.txKey});var a=B(B({id:this.networkId+"_"+u+"_"+this.accountId,isLocalCreated:Boolean(o)},t),{},{decodedTx:r});return a=yield this.fixHistoryTx(a),Promise.resolve(a)}));return function(t){return e.apply(this,arguments)}}(),o.checkIsScamHistoryTx=function(){var e=d()((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),o.fetchOnChainHistory=function(){var e=d()((function*(e){throw new _.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),o.fixAddressCase=function(e){return Promise.resolve(e)},o.buildTxActionDirection=function(){var e=d()((function*(e){var t=e.from,r=e.to,n=e.address;return t=yield this.fixAddressCase(t||""),r=yield this.fixAddressCase(r),n=yield this.fixAddressCase(n),t===r&&t===n?x.IDecodedTxDirection.SELF:t&&t===n?x.IDecodedTxDirection.OUT:r&&r===n?x.IDecodedTxDirection.IN:x.IDecodedTxDirection.OTHER}));return function(t){return e.apply(this,arguments)}}(),o.getNextNonce=function(){var e=d()((function*(e,t){var r,n,i=null!=(r=null==(n=(yield this.engine.providerManager.getAddresses(e,[t.address]))[0])?void 0:n.nonce)?r:0,o=(yield this.engine.getHistory(e,t.id,void 0,!1),yield b.default.history.getMaxPendingNonce({accountId:this.accountId,networkId:e})),u=yield b.default.history.getPendingNonceList({accountId:this.accountId,networkId:e}),c=Math.max(a()(o)?0:o+1,i);if(Number.isNaN(c)&&(c=i),c>i)for(var s=i;s<c;s+=1)if(!u.includes(s)){c=s;break}if(c<i&&(c=i),c-i>=T.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH)throw new _.PendingQueueTooLong(T.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH);return c}));return function(t,r){return e.apply(this,arguments)}}(),o.validateSendAmount=function(e,t,r){return Promise.resolve(!0)},o.notifyChainChanged=function(e,t){},o.getFetchBalanceAddress=function(e){return Promise.resolve(e.address)},o.getPrivateKeyByCredential=function(t){return Promise.resolve(e.from(t.startsWith("0x")?t.slice(2):t,"hex"))},o.getMinDepositAmount=function(){var e=d()((function*(){return"0"}));return function(){return e.apply(this,arguments)}}(),o.specialCheckEncodedTx=function(){var e=d()((function*(e){return{success:!0}}));return function(t){return e.apply(this,arguments)}}(),o.getAllUsedAddress=function(){var e=d()((function*(){return Promise.resolve([])}));return function(){return e.apply(this,arguments)}}(),l()(n)}(U)}.call(this,r(27).Buffer)},3975:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"KeyringHardwareBase",(function(){return y}));var n=r(2),i=r.n(n),o=r(6),u=r.n(o),c=r(9),a=r.n(c),s=r(14),d=r.n(s),f=r(7),l=r.n(f),p=r(442),h=r(167);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l()(e);if(t){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d()(this,r)}}var y=function(t){a()(n,t);var r=O(n);function n(){return r.apply(this,arguments)}var o=n.prototype;return o.getHardwareInfo=function(){var e=i()((function*(){var e,t,r,n=yield this.engine.getHWDeviceByWalletId(this.vault.walletId);return{connectId:null!=(e=null==n?void 0:n.mac)?e:"",deviceId:null!=(t=null==n?void 0:n.deviceId)?t:"",deviceType:null!=(r=null==n?void 0:n.deviceType)?r:""}}));return function(){return e.apply(this,arguments)}}(),o.getWalletPassphraseState=function(){var e=i()((function*(){var e=yield this.engine.getWallet(this.vault.walletId);return{passphraseState:null==e?void 0:e.passphraseState,useEmptyPassphrase:!Object(h.isPassphraseWallet)(e)}}));return function(){return e.apply(this,arguments)}}(),o.getHardwareSDKInstance=function(){var t=i()((function*(){var t,r,n,i,o;return null!=(o=yield null==(t=e)||null==(r=t.$backgroundApiProxy)||null==(n=r.backgroundApi)||null==(i=n.serviceHardware)||null==i.getSDKInstance?void 0:i.getSDKInstance())?o:p.HardwareSDK}));return function(){return t.apply(this,arguments)}}(),o.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},u()(n)}(r(3965).KeyringBase)}.call(this,r(59))},3976:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringHdBase",(function(){return w}));var n=r(3),i=r.n(n),o=r(2),u=r.n(o),c=r(6),a=r.n(c),s=r(9),d=r.n(s),f=r(14),l=r.n(f),p=r(7),h=r.n(p),O=r(627),y=r(22);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var w=function(e){d()(r,e);var t=g(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.getPrivateKeys=function(){var e=u()((function*(e,t){var r=(yield this.getDbAccount()).path.split("/"),n=t||[r.pop()],i=r.join("/"),o=(yield this.engine.dbApi.getCredential(this.walletId,e)).seed;if("undefined"===typeof o)throw new y.OneKeyInternalError("Unable to get credential.");var u=(yield this.engine.providerManager.getChainInfoByNetworkId(this.networkId)).curve;return Object(O.batchGetPrivateKeys)(u,o,e,i,n).reduce((function(e,t){var r;return P(P({},e),{},((r={})[t.path]=t.extendedKey.key,r))}),{})}));return function(t,r){return e.apply(this,arguments)}}(),n.getAddress=function(){throw new Error("Method not implemented.")},n.batchGetAddress=function(){throw new Error("Method not implemented.")},n.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},a()(r)}(r(3967).KeyringSoftwareBase)},3977:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringImportedBase",(function(){return O}));var n=r(2),i=r.n(n),o=r(6),u=r.n(o),c=r(9),a=r.n(c),s=r(14),d=r.n(s),f=r(7),l=r.n(f),p=r(22);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l()(e);if(t){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d()(this,r)}}var O=function(e){a()(r,e);var t=h(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.getPrivateKeys=function(){var e=i()((function*(e,t){if("undefined"!==typeof t)throw new p.NotImplemented("Getting private keys from extended private key");var r=(yield this.engine.dbApi.getCredential(this.accountId,e)).privateKey;if("undefined"===typeof r)throw new p.OneKeyInternalError("Unable to get credential.");return{"":r}}));return function(t,r){return e.apply(this,arguments)}}(),n.getAddress=function(){throw new Error("Method not implemented.")},n.batchGetAddress=function(){throw new Error("Method not implemented.")},n.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},u()(r)}(r(3967).KeyringSoftwareBase)},3978:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringWatchingBase",(function(){return O}));var n=r(2),i=r.n(n),o=r(6),u=r.n(o),c=r(9),a=r.n(c),s=r(14),d=r.n(s),f=r(7),l=r.n(f),p=r(22);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l()(e);if(t){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d()(this,r)}}var O=function(e){a()(r,e);var t=h(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.signTransaction=function(){var e=i()((function*(e,t){throw new p.OneKeyInternalError("signTransaction is not supported for watching accounts")}));return function(t,r){return e.apply(this,arguments)}}(),n.signMessage=function(){var e=i()((function*(e,t){throw new p.OneKeyInternalError("signMessage is not supported for watching accounts")}));return function(t,r){return e.apply(this,arguments)}}(),n.getAddress=function(){throw new Error("Method not implemented.")},n.batchGetAddress=function(){throw new Error("Method not implemented.")},n.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},u()(r)}(r(3965).KeyringBase)},3980:function(e,t,r){"use strict";r.r(t),r.d(t,"convertDeviceError",(function(){return c}));var n=r(70),i=r(93),o=r(18);r(25);function u(e,t){return"string"!==typeof t?null:e===n.HardwareErrorCode.DeviceInitializeFailed&&t.includes("ECONNABORTED")?new i.ConnectTimeoutError({message:t}):t.includes("Bridge network error")?new i.BridgeNetworkError({message:t}):null}function c(e){var t,r=e||{},c=r.code,a=r.error,s=r.message,d=null!=(t=null!=a?a:s)?t:"Unknown error";if(u(c,d))return u(c,d);switch(o.default.hardwareSDK.info("Device Utils Convert Device Error:",c,d),c){case n.HardwareErrorCode.UnknownError:return new i.UnknownHardwareError(e);case n.HardwareErrorCode.DeviceFwException:return new i.FirmwareVersionTooLow(e);case n.HardwareErrorCode.DeviceUnexpectedMode:return"string"===typeof d&&-1!==d.indexOf("ui-device_bootloader_mode")?new i.NotInBootLoaderMode(e):new i.UnknownHardwareError(e);case n.HardwareErrorCode.DeviceCheckDeviceIdError:return new i.DeviceNotSame(e);case n.HardwareErrorCode.DeviceNotFound:return new i.DeviceNotFind(e);case n.HardwareErrorCode.DeviceUnexpectedBootloaderMode:return new i.NotInBootLoaderMode(e);case n.HardwareErrorCode.DeviceInterruptedFromOutside:case n.HardwareErrorCode.DeviceInterruptedFromUser:return new i.UserCancelFromOutside(e);case n.HardwareErrorCode.DeviceNotSupportPassphrase:return new i.NotSupportPassphraseError(e);case n.HardwareErrorCode.IFrameLoadFail:return new i.InitIframeLoadFail(e);case n.HardwareErrorCode.IframeTimeout:return new i.InitIframeTimeout(e);case n.HardwareErrorCode.FirmwareUpdateDownloadFailed:return new i.FirmwareDownloadFailed(e);case n.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot:return new i.FirmwareUpdateManuallyEnterBoot(e);case n.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure:return new i.FirmwareUpdateAutoEnterBootFailure(e);case n.HardwareErrorCode.FirmwareUpdateLimitOneDevice:return new i.FirmwareUpdateLimitOneDevice(e);case n.HardwareErrorCode.CallMethodNeedUpgradeFirmware:return new i.FirmwareVersionTooLow(e);case n.HardwareErrorCode.NewFirmwareUnRelease:return new i.NewFirmwareUnRelease(e);case n.HardwareErrorCode.NewFirmwareForceUpdate:return new i.NewFirmwareForceUpdate(e);case n.HardwareErrorCode.NetworkError:return new i.NetworkError(e);case n.HardwareErrorCode.BlePermissionError:return new i.NeedBluetoothTurnedOn(e);case n.HardwareErrorCode.BleLocationError:return new i.NeedBluetoothPermissions({message:d});case n.HardwareErrorCode.BleLocationServicesDisabled:return new i.BleLocationServiceError({message:d});case n.HardwareErrorCode.BleDeviceNotBonded:return new i.DeviceNotBonded(e);case n.HardwareErrorCode.BleDeviceBondError:return new i.DeviceBondError(e);case n.HardwareErrorCode.BleWriteCharacteristicError:return new i.BleWriteCharacteristicError(e);case n.HardwareErrorCode.BleScanError:return new i.BleScanError({message:d});case n.HardwareErrorCode.BleAlreadyConnected:return new i.BleAlreadyConnectedError(e);case n.HardwareErrorCode.RuntimeError:return-1!==d.indexOf("EIP712 blind sign is disabled")?new i.OpenBlindSign(e):-1!==d.indexOf("Unknown message")||-1!==d.indexOf("Failure_UnexpectedMessage")?new i.UnknownMethod(e):new i.UnknownHardwareError(e);case n.HardwareErrorCode.PinInvalid:return new i.InvalidPIN(e);case n.HardwareErrorCode.DeviceCheckPassphraseStateError:return new i.InvalidPassphrase(e);case n.HardwareErrorCode.DeviceOpenedPassphrase:return new i.DeviceOpenedPassphrase(e);case n.HardwareErrorCode.DeviceNotOpenedPassphrase:return new i.DeviceNotOpenedPassphrase(e);case n.HardwareErrorCode.PinCancelled:case n.HardwareErrorCode.ActionCancelled:return new i.UserCancel(e);case n.HardwareErrorCode.BridgeNotInstalled:case i.CustomOneKeyHardwareError.NeedOneKeyBridge:return new i.NeedOneKeyBridge(e);case n.HardwareErrorCode.BridgeNetworkError:return new i.BridgeNetworkError(e);case n.HardwareErrorCode.BridgeTimeoutError:return new i.BridgeTimeoutError(e);case n.HardwareErrorCode.PollingTimeout:return new i.ConnectTimeoutError(e);case n.HardwareErrorCode.PollingStop:return new i.ConnectPollingStopError(e);case n.HardwareErrorCode.BlindSignDisabled:return new i.OpenBlindSign(e);case n.HardwareErrorCode.FileAlreadyExists:return new i.FileAlreadyExistError(e);case n.HardwareErrorCode.CheckDownloadFileError:return new i.IncompleteFileError(e);case n.HardwareErrorCode.NotInSigningMode:return new i.NotInSigningModeError(e);default:return new i.UnknownHardwareError(e)}}},4117:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"verifyNexaAddress",(function(){return P})),r.d(t,"getNexaNetworkInfo",(function(){return w})),r.d(t,"getNexaPrefix",(function(){return m})),r.d(t,"verifyNexaAddressPrefix",(function(){return T})),r.d(t,"publickeyToAddress",(function(){return I})),r.d(t,"sha256sha256",(function(){return A})),r.d(t,"estimateSize",(function(){return b})),r.d(t,"estimateFee",(function(){return _})),r.d(t,"buildInputScriptBuffer",(function(){return S})),r.d(t,"buildRawTx",(function(){return C})),r.d(t,"buildTxid",(function(){return B})),r.d(t,"buildSignatureBuffer",(function(){return D})),r.d(t,"signEncodedTx",(function(){return U})),r.d(t,"decodeScriptBufferToNexaAddress",(function(){return H})),r.d(t,"buildDecodeTxFromTx",(function(){return k}));var n=r(3),i=r.n(n),o=r(2),u=r.n(o),c=r(21),a=r.n(c),s=r(174),d=r.n(s),f=r(22),l=r(509),p=r(52),h=r(4589),O=r(5118);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e){try{return Object(h.decode)(e),{isValid:!0,normalizedAddress:e}}catch(t){return{isValid:!1}}}var g={mainnet:{name:"livenet",alias:"mainnet",prefix:"nexa",pubkeyhash:25,privatekey:35,scripthash:68,xpubkey:1114203936,xprivkey:1114401651,networkMagic:1915163169},testnet:{name:"nexatest",prefix:"nexatest",pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:4108710900}};function w(e){return"testnet"===e?g.testnet:g.mainnet}function m(e){return w(e).prefix}function E(e){var t=Object(h.bufferToScripChunk)(e);return Object(h.scriptChunksToBuffer)([t])}function T(e){return e.startsWith("nexa:")||e.startsWith("nexatest:")}function I(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.NexaAddressType.PayToScriptTemplate,i=w(t);if(n===h.NexaAddressType.PayToPublicKeyHash)r=Object(l.hash160)(e);else{if(n!==h.NexaAddressType.PayToScriptTemplate)throw new f.InvalidAddress;var o=Object(h.bufferToScripChunk)(e),u=Object(h.scriptChunksToBuffer)([o]),c=Object(l.hash160)(u),a=[{opcodenum:h.Opcode.OP_FALSE},{opcodenum:h.Opcode.OP_1},Object(h.bufferToScripChunk)(c)];r=Object(h.scriptChunksToBuffer)([Object(h.bufferToScripChunk)(Object(h.scriptChunksToBuffer)(a))])}return Object(h.encode)(i.prefix,n,r)}function A(e){return Object(l.sha256)(Object(l.sha256)(e))}function b(e){var t=5;return t+=e.inputs.length<253?1:3,e.inputs.forEach((function(){t+=146})),e.outputs.forEach((function(e){var r=Object(h.getScriptBufferFromScriptTemplateOut)(e.address);t+=E(r).length+1+8+1})),t}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=b(e),n=Math.ceil(r*t+33*t);return n}function S(e,t){return Object(h.scriptChunksToBuffer)([Object(h.bufferToScripChunk)(Object(h.scriptChunksToBuffer)([Object(h.bufferToScripChunk)(e)])),Object(h.bufferToScripChunk)(t)])}function N(t){var r=t.sigtype,n=t.prevTxId,i=t.scriptBuffer,o=t.sequenceNumber,u=t.amount;return e.concat([Object(h.writeUInt8)(r),Object(h.reverseBuffer)(n),Object(h.varintBufNum)(i.length),i,Object(h.writeUInt32LE)(o),Object(h.writeUInt64LEBN)(u)])}function x(t){var r=t.sigtype,n=t.prevTxId,i=t.sequenceNumber,o=t.amount;return e.concat([Object(h.writeUInt8)(r),Object(h.reverseBuffer)(n),Object(h.writeUInt32LE)(i),Object(h.writeUInt64LEBN)(o)])}function F(t){var r=t.outType,n=t.satoshi,i=t.scriptBuffer;return e.concat([Object(h.writeUInt8)(r),Object(h.writeUInt64LEBN)(n),Object(h.varintBufNum)(i.length),i])}function C(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.concat(t.map(i?N:x)),u=e.concat(r.map(F)),c=e.concat([Object(h.writeUInt8)(0),Object(h.varintBufNum)(t.length),o,Object(h.varintBufNum)(r.length),u,Object(h.writeUInt32LE)(n)]);return c}function B(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=C(t,r,n),o=A(i),u=e.concat([Object(h.writeInt32LE)(t.length),e.concat(t.map((function(t){var r=t.scriptBuffer;return e.concat([r,Object(h.writeUInt8)(h.Opcode.OP_INVALIDOPCODE)])})))]),c=A(u),a=Object(h.reverseBuffer)(A(e.concat([o,c]))).toString("hex");return a}function D(t,r){var n=t.inputs,i=A(e.concat(n.map((function(t){return e.concat([Object(h.writeUInt8)(0),Object(h.reverseBuffer)(e.from(t.txId,"hex"))])})))),o=A(e.concat(n.map((function(e){return Object(h.writeUInt32LE)(e.sequenceNumber||4294967295)})))),u=A(e.concat(n.map((function(e){return Object(h.writeUInt64LEBN)(new d.a(e.satoshis))})))),c=function(e,t){var r=e.inputs,n=e.outputs,i=e.gas,o=n.slice(),u=r.reduce((function(e,t){return e.add(new d.a(t.satoshis))}),new d.a(0)),c=o.reduce((function(e,t){return e.add(new d.a(t.satoshis))}),new d.a(0)),a=new d.a(i||_(e)),s=u.sub(a);if(s.lt(new d.a(0)))throw new Error("Available balance cannot be less than 0, inputAmount: "+u.toString()+", dust: "+a.toString());return s.gt(c)?o.push({address:t,satoshis:s.sub(c).toString(),outType:1}):o[0].satoshis=s.gt(c)?o[0].satoshis:s.toString(),{outputSignatures:o.map((function(e){return{address:e.address,satoshi:new d.a(e.satoshis),outType:1,scriptBuffer:Object(h.getScriptBufferFromScriptTemplateOut)(e.address)}})),inputSignatures:r.map((function(e,t){return{prevTxId:e.txId,outputIndex:e.outputIndex,inputIndex:t,sequenceNumber:e.sequenceNumber||4294967295,amount:new d.a(e.satoshis),sigtype:O.NexaSignature.SIGHASH_NEXA_ALL}}))}}(t,r),a=c.outputSignatures,s=c.inputSignatures,f=A(e.concat(a.map((function(t){return e.concat([Object(h.writeUInt8)(t.outType),Object(h.writeUInt64LEBN)(new d.a(t.satoshi)),Object(h.varintBufNum)(t.scriptBuffer.length),t.scriptBuffer])})))),l=Object(h.scriptChunksToBuffer)([{opcodenum:h.Opcode.OP_FROMALTSTACK},{opcodenum:h.Opcode.OP_CHECKSIGVERIFY}]);return{signatureBuffer:e.concat([Object(h.writeUInt8)(0),i,u,o,Object(h.varintBufNum)(l.length),l,f,Object(h.writeUInt32LE)(0),Object(h.writeUInt8)(0)]),inputSignatures:s,outputSignatures:a}}function U(e,t,r){return R.apply(this,arguments)}function R(){return(R=u()((function*(e,t,r){var n=e.encodedTx,i=yield t.getPrvkey(),o=yield t.getPubkey(!0),u=D(n,r),c=u.outputSignatures,a=u.inputSignatures,s=A(u.signatureBuffer),d=Object(h.sign)(i,s),f=a.map((function(e){return v(v({},e),{},{publicKey:o,signature:d,scriptBuffer:S(o,d)})}));return{txid:B(f,c),rawTx:C(f,c,0,!0).toString("hex"),signature:d.toString("hex"),digest:s.toString("hex"),encodedTx:n}}))).apply(this,arguments)}function H(e,t){var r=Object(h.decodeScriptBufferToScriptChunks)(e);if(Object(h.isPublicKeyTemplateIn)(r)&&r[0].buf){var n=Object(l.hash160)(r[0].buf),i=E(Object(h.scriptChunksToBuffer)([{opcodenum:h.Opcode.OP_FALSE},{opcodenum:h.Opcode.OP_1},Object(h.bufferToScripChunk)(n)]));return Object(h.encode)(t,h.NexaAddressType.PayToScriptTemplate,i)}if(Object(h.isPublicKeyTemplateOut)(r)&&r[2].buf){var o=E(Object(h.scriptChunksToBuffer)([{opcodenum:h.Opcode.OP_FALSE},{opcodenum:h.Opcode.OP_1},Object(h.bufferToScripChunk)(r[2].buf)]));return Object(h.encode)(t,h.NexaAddressType.PayToScriptTemplate,o)}return""}var j=function(e,t,r){return t&&r?p.IDecodedTxDirection.SELF:t?p.IDecodedTxDirection.OUT:r?p.IDecodedTxDirection.IN:p.IDecodedTxDirection.OTHER};function k(t){var r=t.tx,n=t.dbAccountAddress,i=t.addressPrefix,o=t.decimals,u=t.token,c=t.networkId,s=t.accountId,d=r.vin.map((function(t){return H(e.from(t.scriptSig.hex,"hex"),i)})),f=r.vout.map((function(t){return H(e.from(t.scriptPubKey.hex,"hex"),i)})),l=d.includes(n)?n:d[0],h=d.includes(n)?f[0]:n,O={txid:r.txid,owner:n,signer:l,nonce:0,actions:r.vin.map((function(e,t){var r=new a.a(e.value_satoshi).shiftedBy(-u.decimals),i=d[t];return{type:p.IDecodedTxActionType.TOKEN_TRANSFER,direction:j(0,i===n,h===n),tokenTransfer:{tokenInfo:u,from:i,to:h,amount:r.toFixed(),amountValue:r.toFixed(),extraInfo:null}}})),outputActions:r.vout.map((function(e,t){var r=new a.a(e.value_satoshi).shiftedBy(-u.decimals),i=f[t];return(l===n||i===n)&&{type:p.IDecodedTxActionType.TOKEN_TRANSFER,direction:j(0,l===n,i===n),tokenTransfer:{tokenInfo:u,from:l,to:i,amount:r.toFixed(),amountValue:r.toFixed(),extraInfo:null}}})).filter(Boolean),status:r.confirmations?p.IDecodedTxStatus.Confirmed:p.IDecodedTxStatus.Pending,networkId:c,accountId:s,extraInfo:null,totalFeeInNative:new a.a(r.fee_satoshi).shiftedBy(-o).toFixed()};return O.updatedAt=r.time?1e3*r.time:Date.now(),O.createdAt=O.updatedAt,O.isFinal=O.status===p.IDecodedTxStatus.Confirmed,O}}.call(this,r(27).Buffer)},4302:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"NexaAddressType",(function(){return n})),r.d(t,"encode",(function(){return s})),r.d(t,"decode",(function(){return d}));var n,i=r(2720),o=r.n(i);function u(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function c(e,t,r,n){for(var i=n?Math.floor(e.length*t/r):Math.ceil(e.length*t/r),o=(1<<r)-1,u=new Uint8Array(i),c=0,a=0,s=0,d=0;d<e.length;d+=1){for(a=a<<t|e[d],s+=t;s>=r;)s-=r,u[c]=a>>s&o,c+=1}return n||s>0&&(u[c]=a<<r-s&o,c+=1),u}!function(e){e.PayToPublicKeyHash="P2PKH",e.PayToScriptHash="SCRIPT",e.PayToScriptTemplate="TEMPLATE",e.GroupedPayToPublicKeyTemplate="GROUP"}(n||(n={}));var a="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function s(t,r,n){var i=u(function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r+=1)t[r]=31&e[r].charCodeAt(0);return t}(t),new Uint8Array(1)),s=function(e){switch(e){case"P2PKH":return 0;case"SCRIPT":return 8;case"TEMPLATE":return 152;case"GROUP":return 88;default:throw new Error("Invalid type: "+e+".")}}(r),d=c(e.from(u(e.from(new Uint8Array([s])),n)),8,5),f=u(u(i,d),new Uint8Array(8));return t+":"+function(e){for(var t="",r=0;r<e.length;r+=1){var n=e[r];t+=a[n]}return t}(u(d,function(e){for(var t=new Uint8Array(8),r=0;r<8;r+=1)t[7-r]=e.and(31).toJSNumber(),e=e.shiftRight(5);return t}(function(e){for(var t=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=o()(1),n=0;n<e.length;n+=1){var i=e[n],u=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var c=0;c<t.length;c+=1)u.shiftRight(c).and(1).equals(1)&&(r=r.xor(t[c]))}return r.xor(1)}(f))))}function d(t){var r=t.toLowerCase().split(":"),n=r[0],i=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r+=1){var n=e[r];t[r]=String(a).indexOf(n)}return t}(r[1]),o=c(e.from(i.subarray(0,-8)),5,8,!0),u=o[0],s=o.subarray(1);return{prefix:n,type:function(e){switch(248&e){case 0:return"P2PKH";case 8:return"SCRIPT";case 152:return"TEMPLATE";case 88:return"GROUP";default:throw new Error("Invalid address type in version byte: "+e+".")}}(u),hash:s}}}.call(this,r(27).Buffer)},4529:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"KeyringHardware",(function(){return _}));var n=r(3),i=r.n(n),o=r(2),u=r.n(o),c=r(6),a=r.n(c),s=r(9),d=r.n(s),f=r(14),l=r.n(f),p=r(7),h=r.n(p),O=r(22),y=r(319),v=r(191),P=r(115),g=r(3975),w=r(3980),m=r(12),E=r(18),T=r(4117);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var _=function(t){d()(n,t);var r=b(n);function n(){return r.apply(this,arguments)}var i=n.prototype;return i.prepareAccounts=function(){var e=u()((function*(e){var t,r=this,n=e.indexes,i=e.names,o=e.template,u=Object(y.slicePathTemplate)(o),c=u.pathPrefix,a=u.pathSuffix,s=n.map((function(e){return c+"/"+a.replace("{index}",e.toString())})),d=n.map((function(e){return c+"/"+e+"'"})),f=yield this.getHardwareSDKInstance(),l=yield this.getHardwareInfo(),p=l.connectId,h=l.deviceId,g=yield this.getWalletPassphraseState(),I=Object(v.getAccountNameInfoByImpl)(m.IMPL_NEXA).default.prefix,b=yield this.getNetworkChainId();try{t=yield f.nexaGetAddress(p,h,A({bundle:s.map((function(e){return{path:e,showOnOneKey:!1,prefix:Object(T.getNexaPrefix)(b)}}))},g))}catch(S){throw E.default.common.error(S),new O.OneKeyHardwareError(S)}if(!t.success)throw E.default.common.error(t.payload),Object(w.convertDeviceError)(t.payload);var _=[];return t.payload.map((function(e,t){var u,c=e.path,a=e.pub,s=(i||[])[t]||I+" #"+(n[t]+1);return _.push(),{id:r.walletId+"--"+d[t],name:s,type:P.AccountType.UTXO,path:c,coinType:m.COINTYPE_NEXA,xpub:"",address:a,addresses:(u={},u[r.networkId]=a,u),template:o}}))}));return function(t){return e.apply(this,arguments)}}(),i.getAddress=function(){var e=u()((function*(e){var t,r,n=yield this.getHardwareSDKInstance(),i=yield this.getHardwareInfo(),o=i.connectId,u=i.deviceId,c=yield this.getWalletPassphraseState(),a=yield this.getNetworkChainId(),s=yield n.nexaGetAddress(o,u,A({path:e.path,showOnOneKey:e.showOnOneKey,prefix:Object(T.getNexaPrefix)(a),scheme:"Schnorr"},c));if(s.success&&null!=(t=s.payload)&&t.address)return null==(r=s.payload)?void 0:r.address;throw Object(w.convertDeviceError)(s.payload)}));return function(t){return e.apply(this,arguments)}}(),i.batchGetAddress=function(){var e=u()((function*(e){var t=yield this.getHardwareSDKInstance(),r=yield this.getHardwareInfo(),n=r.connectId,i=r.deviceId,o=yield this.getWalletPassphraseState(),u=yield this.getNetworkChainId(),c=yield t.nexaGetAddress(n,i,A(A({},o),{},{bundle:e.map((function(e){return{path:e.path,showOnOneKey:!!e.showOnOneKey,prefix:Object(T.getNexaPrefix)(u),scheme:"Schnorr"}}))}));if(!c.success)throw Object(w.convertDeviceError)(c.payload);return c.payload.map((function(e){var t,r;return{path:null!=(t=e.path)?t:"",address:null!=(r=e.address)?r:""}}))}));return function(t){return e.apply(this,arguments)}}(),i.signTransaction=function(){var t=u()((function*(t){E.default.common.info("signTransaction",t);var r=yield this.getDbAccount(),n=yield this.getNetworkChainId(),i=t.payload.encodedTx,o=Object(T.buildSignatureBuffer)(i,yield this.vault.getDisplayAddress(r.address)),u=o.inputSignatures,c=o.outputSignatures,a=o.signatureBuffer,s=yield this.getHardwareInfo(),d=s.connectId,f=s.deviceId,l=yield this.getWalletPassphraseState(),p=yield this.getHardwareSDKInstance(),h=yield p.nexaSignTransaction(d,f,A(A({},l),{},{inputs:[{path:r.path,prefix:Object(T.getNexaPrefix)(n),message:a.toString("hex")}]}));if(h.success){var O=h.payload,y=e.from(r.address,"hex"),v=e.from(O[0].signature,"hex"),P=u.map((function(e){return A(A({},e),{},{publicKey:y,signature:v,scriptBuffer:Object(T.buildInputScriptBuffer)(y,v)})}));return{txid:Object(T.buildTxid)(P,c),rawTx:Object(T.buildRawTx)(P,c,0,!0).toString("hex"),encodedTx:i}}throw Object(w.convertDeviceError)(h.payload)}));return function(e){return t.apply(this,arguments)}}(),a()(n)}(g.KeyringHardwareBase)}.call(this,r(27).Buffer)},4530:function(e,t,r){"use strict";r.r(t),function(e){function n(t,r,n){try{return t.toBuffer(r,n)}catch(i){return t.toArrayLike(e,r,n)}}r.d(t,"getBufferFromBN",(function(){return n}))}.call(this,r(27).Buffer)},4531:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"reverseBuffer",(function(){return d})),r.d(t,"sign",(function(){return y})),r.d(t,"verify",(function(){return v}));var n=r(174),i=r.n(n),o=r(532),u=r.n(o),c=r(509),a=r(4530),s=new(0,u.a.ec)("secp256k1");function d(t){for(var r="string"===typeof t?e.from(t,"hex"):t,n=r.length,i=e.alloc(n),o=0;o<n;o+=1)i[o]=r[n-o-1];return i}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?d(e):e,n=r.toString("hex");return new i.a(n,16)}function l(e){return!e.isInfinity()&&function(e){var t=new i.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","hex");return new i.a(e).toRed(i.a.red(t)).redPow(t.sub(new i.a(1)).div(new i.a(2))).fromRed().eq(new i.a(1))}(new i.a(e.getY().toArray()))}function p(e){return Object(a.getBufferFromBN)(e).length<32?Object(a.getBufferFromBN)(e,"be",32):Object(a.getBufferFromBN)(e)}function h(t){var r,n=Object(a.getBufferFromBN)(t.getX(),"be",32),i=Object(a.getBufferFromBN)(t.getY(),"be",32);return r=i[i.length-1]%2?e.from([3]):e.from([2]),e.concat([r,n])}function O(t,r){var n=s.curve.g,o=new i.a(s.curve.n.toArray()),u=function(t,r){var n=e.from("0101010101010101010101010101010101010101010101010101010101010101","hex"),o=e.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),u=e.concat([t,r,e.from("","ascii"),e.from("Schnorr+SHA256  ","ascii")]);o=Object(c.hmacSHA256)(o,e.concat([n,e.from("00","hex"),u])),n=Object(c.hmacSHA256)(o,n),o=Object(c.hmacSHA256)(o,e.concat([n,e.from("01","hex"),u])),n=Object(c.hmacSHA256)(o,n);for(var a=new i.a(0),d=new i.a(s.curve.n.toArray());!(a=f(n=Object(c.hmacSHA256)(o,n))).gt(new i.a(0))||!a.lt(d);)o=Object(c.hmacSHA256)(o,e.concat([n,e.from("00","hex")])),n=Object(c.hmacSHA256)(o,n);return a}(Object(a.getBufferFromBN)(t,"be",32),Object(a.getBufferFromBN)(r,"be",32)),d=n.mul(t),O=n.mul(u);l(O)||(u=o.sub(u));var y=O.getX();return{r:y,s:f(Object(c.sha256)(e.concat([p(y),h(d),Object(a.getBufferFromBN)(r,"be",32)]))).mul(t).add(u).mod(o)}}function y(t,r){var n=O(f(t),f(r)),i=n.r,o=n.s;return e.concat([Object(a.getBufferFromBN)(i,"be",32),Object(a.getBufferFromBN)(o,"be",32)])}function v(t,r,n){if(64!==n.length)return!1;var o=f(n.slice(0,32)),u=f(n.slice(32)),a=r,d=f(t.slice(1)),O=s.curve.pointFromX(d,!1);3===t[0]&&(O=s.curve.pointFromX(d,!0));var y=s.curve.g;if(O.isInfinity())return!0;var v=new i.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","hex"),P=new i.a(s.curve.n.toArray());if(o.gte(v)||u.gte(P))return!1;var g=p(o),w=h(O),m=Object(c.sha256)(e.concat([g,w,a])),E=new i.a(m,"be").umod(P),T=y.mul(u),I=O.mul(P.sub(E)),A=T.add(I);return!(A.isInfinity()||!l(A)||!A.getX().eq(o))}}.call(this,r(27).Buffer)},4589:function(e,t,r){"use strict";r.r(t),r.d(t,"Nexa",(function(){return _})),r.d(t,"Opcode",(function(){return b})),r.d(t,"bufferToScripChunk",(function(){return B})),r.d(t,"writeUInt8",(function(){return D})),r.d(t,"writeUInt32LE",(function(){return R})),r.d(t,"writeInt32LE",(function(){return H})),r.d(t,"writeUInt64LEBN",(function(){return j})),r.d(t,"varintBufNum",(function(){return k})),r.d(t,"scriptChunksToBuffer",(function(){return K})),r.d(t,"getScriptBufferFromScriptTemplateOut",(function(){return M})),r.d(t,"decodeScriptBufferToScriptChunks",(function(){return V})),r.d(t,"isPublicKeyTemplateIn",(function(){return G})),r.d(t,"isPublicKeyTemplateOut",(function(){return X})),r.d(t,"NexaAddressType",(function(){return F.NexaAddressType})),r.d(t,"encode",(function(){return F.encode})),r.d(t,"decode",(function(){return F.decode})),r.d(t,"reverseBuffer",(function(){return Y.reverseBuffer})),r.d(t,"sign",(function(){return Y.sign})),r.d(t,"verify",(function(){return Y.verify}));var n=r(2),i=r.n(n),o=r(6),u=r.n(o),c=r(9),a=r.n(c),s=r(14),d=r.n(s),f=r(7),l=r.n(f),p=r(21),h=r.n(p),O=r(4),y=r.n(O),v=r(47),P=r(561),g=r(18);r(25);var w=new Map,m=new Map,E=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;this.url=e,this.timeout=t,this.expiredTimeout=r,this.establishConnection()}var t=e.prototype;return t.waitForSocketConnection=function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i>300?r():setTimeout((function(){1===e.readyState?t():e.readyState>1?r():n.waitForSocketConnection(e,t,r,i+1)}),10)},t.readySocketConnection=function(e){var t=this;return new Promise((function(r,n){t.waitForSocketConnection(e,(function(){r(e)}),(function(){n(new Error("WebSocket connection timeout."))}))}))},t.establishConnection=function(){var e=this,t=w.get(this.url);if(t&&t.readyState<2)return 1===t.readyState?Promise.resolve(t):this.readySocketConnection(t);var r=this.url,n=new WebSocket(r);return w.set(this.url,n),new Promise((function(t,r){n.onopen=function(){e.waitForSocketConnection(n,(function(){t(n)}),(function(){r(new Error("WebSocket connection timeout."))}))},n.onmessage=function(){var t=i()((function*(t){yield e.refreshConnectionStatus();var r=e.parseRPCResponse(t.data),n=r.id,i=r.result,o=r.error,u=m.get(n);if(u){var c=y()(u,3),a=c[0],s=c[1],d=c[2];if(clearTimeout(d),o){var f="Error JSON PRC response "+o.code+": "+o.message;g.default.websocket.error(f),s(new P.JsonPRCResponseError(f))}else a(i)}m.delete(n)}));return function(e){return t.apply(this,arguments)}}(),n.onerror=function(e){r(e)}}))},t.closeConnection=function(){var e=w.get(this.url);e&&(e.close(),w.delete(this.url))},t.parseRPCResponse=function(e){var t;try{t=JSON.parse(e)}catch(r){throw new P.ResponseError("Invalid JSON RPC response, result not found: "+e)}return t},t.refreshConnectionStatus=function(){var e=i()((function*(){var e=this,t=yield this.establishConnection();return clearTimeout(this.expiredTimerId),this.expiredTimerId=setTimeout((function(){e.closeConnection()}),this.expiredTimeout),t}));return function(){return e.apply(this,arguments)}}(),t.call=function(){var e=i()((function*(e,t,r){var n=this,i=yield this.refreshConnectionStatus();return new Promise((function(o,u){var c=Object(v.generateUUID)(),a=setTimeout((function(){m.delete(c),u(new Error("Timeout Error"))}),r||n.timeout);m.set(c,[o,u,a]);var s=function(e,t,r){return{jsonrpc:"2.0",id:r,method:e,params:t}}(e,t,c);i&&i.send(JSON.stringify(s)+"\n")}))}));return function(t,r,n){return e.apply(this,arguments)}}(),u()(e)}(),T=r(768),I=r(375);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l()(e);if(t){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d()(this,r)}}var b,_=function(e){a()(r,e);var t=A(r);function r(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"optimistic";return(r=t.call(this)).defaultFinality=n,r.rpc=new E(e),r}var n=r.prototype;return n.getAddress=function(e){throw new Error("Method not implemented.")},n.getInfo=function(){var e=i()((function*(){return{bestBlockNumber:(yield this.rpc.call("blockchain.headers.tip")).height,isReady:!0}}));return function(){return e.apply(this,arguments)}}(),n.getFeePricePerUnit=function(){throw new Error("Method not implemented.")},n.broadcastTransaction=function(){var e=i()((function*(e,t){return this.rpc.call("blockchain.transaction.broadcast",[e])}));return function(t,r){return e.apply(this,arguments)}}(),n.getBalance=function(){var e=i()((function*(e){var t=yield this.rpc.call("blockchain.address.get_balance",[e]);return new h.a(t.confirmed)}));return function(t){return e.apply(this,arguments)}}(),n.getTransaction=function(){var e=i()((function*(e){return this.rpc.call("blockchain.transaction.get",[e,!0])}));return function(t){return e.apply(this,arguments)}}(),n.estimateFee=function(){var e=i()((function*(e){var t=yield this.rpc.call("blockchain.estimatefee",[e]);return Number(t)||0}));return function(t){return e.apply(this,arguments)}}(),n.getNexaUTXOs=function(){var e=i()((function*(e){return this.rpc.call("blockchain.address.listunspent",[e])}));return function(t){return e.apply(this,arguments)}}(),n.getHistoryByAddress=function(){var e=i()((function*(e){return this.rpc.call("blockchain.address.get_history",[e])}));return function(t){return e.apply(this,arguments)}}(),n.getTransactionStatus=function(){var e=i()((function*(e){return(yield this.getTransaction(e)).confirmations>0?I.TransactionStatus.CONFIRM_AND_SUCCESS:I.TransactionStatus.PENDING}));return function(t){return e.apply(this,arguments)}}(),n.getTransactionStatuses=function(e){var t=this;return Promise.all(e.map((function(e){return t.getTransactionStatus(e)})))},u()(r)}(T.SimpleClient),S=r(27),N=r(174),x=r.n(N),F=r(4302),C=r(4530);function B(e){var t,r=e.length;if(r>=0&&r<b.OP_PUSHDATA1)t=r;else if(r<256)t=b.OP_PUSHDATA1;else if(r<65536)t=b.OP_PUSHDATA2;else{if(!(r<2**32))throw new Error("You can't push that much data");t=b.OP_PUSHDATA4}return{buf:e,len:r,opcodenum:t}}function D(e){var t=S.Buffer.alloc(1);return t.writeUInt8(e,0),t}function U(e){var t=S.Buffer.alloc(2);return t.writeUInt16LE(e,0),t}function R(e){var t=S.Buffer.alloc(4);return t.writeUInt32LE(e,0),t}function H(e){var t=S.Buffer.alloc(4);return t.writeInt32LE(e,0),t}function j(e){return Object(C.getBufferFromBN)(e,"le",8)}function k(e){var t;return e<253?(t=S.Buffer.alloc(1)).writeUInt8(e,0):e<65536?((t=S.Buffer.alloc(3)).writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?((t=S.Buffer.alloc(5)).writeUInt8(254,0),t.writeUInt32LE(e,1)):((t=S.Buffer.alloc(9)).writeUInt8(255,0),t.writeInt32LE(-1&e,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}function K(e){for(var t=[],r=0,n=0;n<e.length;n+=1){var i=e[n],o=i.opcodenum,u=i.buf,c=D(o);if(t.push(c),r+=c.length,u){var a=void 0;o===b.OP_PUSHDATA1?a=D(o):o===b.OP_PUSHDATA2?a=U(i.len||0):o===b.OP_PUSHDATA4&&(a=R(i.len||0)),a&&(t.push(a),r+=a.length),t.push(u),r+=u.length}}return S.Buffer.concat(t,r)}function L(e){var t=0,r=e.readUInt8(0);switch(t+=1,r){case 253:r=e.readUInt16LE(0),t+=2;break;case 254:r=e.readUInt32LE(0),t+=4;break;case 255:var n=function(e,t){var r,n=e.readUInt32LE(t),i=4294967296*e.readUInt32LE(t+4)+n;if(i<=9007199254740991)r=new x.a(i);else{var o=Array.prototype.slice.call(e,t,t+8);r=new x.a(o,10,"le")}return{bn:r,position:t+8}}(e,t),i=n.bn,o=n.position,u=i.toNumber();if(t=o,!(u<=2**53))throw new Error("number too large to retain precision - use readVarintBN");r=u}return{position:t,length:r}}function M(e){var t=Object(F.decode)(e).hash;return function(e){var t=L(e),r=t.position,n=t.length;return e.slice(r,n+r)}(S.Buffer.from(t))}function V(e){for(var t=0,r=[],n=S.Buffer.prototype.readUInt8.bind(e);t<e.length;){var i=n(t);t+=1;var o=0;i>0&&i<b.OP_PUSHDATA1?(o=i,r.push({buf:e.slice(t,t+o),len:o,opcodenum:i})):i===b.OP_PUSHDATA1?(o=e.readUint8(t),t+=1,r.push({buf:e.slice(t,t+o),len:o,opcodenum:i})):i===b.OP_PUSHDATA2?(o=e.readUInt16LE(t),t+=2,r.push({buf:e.slice(t,t+o),len:o,opcodenum:i})):i===b.OP_PUSHDATA4?(o=e.readUInt32LE(t),t+=4,r.push({buf:e.slice(t,t+o),len:o,opcodenum:i})):r.push({opcodenum:i}),t+=o}return r}function G(e){if(2===e.length){var t=e[0].buf,r=e[1].buf;if(r&&64===r.length&&t&&34===t.length){var n=V(t)[0].buf;if(n&&33===n.length&&(3===n[0]||2===n[0]))return!0}}return!1}function X(e){return!(3!==e.length||e[0].opcodenum!==b.OP_FALSE||e[1].opcodenum!==b.OP_1||!e[2].buf||20!==e[2].buf.length)}!function(e){e[e.OP_FALSE=0]="OP_FALSE",e[e.OP_0=0]="OP_0",e[e.OP_PUSHDATA1=76]="OP_PUSHDATA1",e[e.OP_PUSHDATA2=77]="OP_PUSHDATA2",e[e.OP_PUSHDATA4=78]="OP_PUSHDATA4",e[e.OP_1NEGATE=79]="OP_1NEGATE",e[e.OP_RESERVED=80]="OP_RESERVED",e[e.OP_TRUE=81]="OP_TRUE",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.OP_NOP=97]="OP_NOP",e[e.OP_VER=98]="OP_VER",e[e.OP_IF=99]="OP_IF",e[e.OP_NOTIF=100]="OP_NOTIF",e[e.OP_VERIF=101]="OP_VERIF",e[e.OP_VERNOTIF=102]="OP_VERNOTIF",e[e.OP_ELSE=103]="OP_ELSE",e[e.OP_ENDIF=104]="OP_ENDIF",e[e.OP_VERIFY=105]="OP_VERIFY",e[e.OP_RETURN=106]="OP_RETURN",e[e.OP_TOALTSTACK=107]="OP_TOALTSTACK",e[e.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",e[e.OP_2DROP=109]="OP_2DROP",e[e.OP_2DUP=110]="OP_2DUP",e[e.OP_3DUP=111]="OP_3DUP",e[e.OP_2OVER=112]="OP_2OVER",e[e.OP_2ROT=113]="OP_2ROT",e[e.OP_2SWAP=114]="OP_2SWAP",e[e.OP_IFDUP=115]="OP_IFDUP",e[e.OP_DEPTH=116]="OP_DEPTH",e[e.OP_DROP=117]="OP_DROP",e[e.OP_DUP=118]="OP_DUP",e[e.OP_NIP=119]="OP_NIP",e[e.OP_OVER=120]="OP_OVER",e[e.OP_PICK=121]="OP_PICK",e[e.OP_ROLL=122]="OP_ROLL",e[e.OP_ROT=123]="OP_ROT",e[e.OP_SWAP=124]="OP_SWAP",e[e.OP_TUCK=125]="OP_TUCK",e[e.OP_CAT=126]="OP_CAT",e[e.OP_SPLIT=127]="OP_SPLIT",e[e.OP_NUM2BIN=128]="OP_NUM2BIN",e[e.OP_BIN2NUM=129]="OP_BIN2NUM",e[e.OP_SIZE=130]="OP_SIZE",e[e.OP_INVERT=131]="OP_INVERT",e[e.OP_AND=132]="OP_AND",e[e.OP_OR=133]="OP_OR",e[e.OP_XOR=134]="OP_XOR",e[e.OP_EQUAL=135]="OP_EQUAL",e[e.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",e[e.OP_RESERVED1=137]="OP_RESERVED1",e[e.OP_RESERVED2=138]="OP_RESERVED2",e[e.OP_1ADD=139]="OP_1ADD",e[e.OP_1SUB=140]="OP_1SUB",e[e.OP_2MUL=141]="OP_2MUL",e[e.OP_2DIV=142]="OP_2DIV",e[e.OP_NEGATE=143]="OP_NEGATE",e[e.OP_ABS=144]="OP_ABS",e[e.OP_NOT=145]="OP_NOT",e[e.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",e[e.OP_ADD=147]="OP_ADD",e[e.OP_SUB=148]="OP_SUB",e[e.OP_MUL=149]="OP_MUL",e[e.OP_DIV=150]="OP_DIV",e[e.OP_MOD=151]="OP_MOD",e[e.OP_LSHIFT=152]="OP_LSHIFT",e[e.OP_RSHIFT=153]="OP_RSHIFT",e[e.OP_BOOLAND=154]="OP_BOOLAND",e[e.OP_BOOLOR=155]="OP_BOOLOR",e[e.OP_NUMEQUAL=156]="OP_NUMEQUAL",e[e.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",e[e.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",e[e.OP_LESSTHAN=159]="OP_LESSTHAN",e[e.OP_GREATERTHAN=160]="OP_GREATERTHAN",e[e.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",e[e.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",e[e.OP_MIN=163]="OP_MIN",e[e.OP_MAX=164]="OP_MAX",e[e.OP_WITHIN=165]="OP_WITHIN",e[e.OP_RIPEMD160=166]="OP_RIPEMD160",e[e.OP_SHA1=167]="OP_SHA1",e[e.OP_SHA256=168]="OP_SHA256",e[e.OP_HASH160=169]="OP_HASH160",e[e.OP_HASH256=170]="OP_HASH256",e[e.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",e[e.OP_CHECKSIG=172]="OP_CHECKSIG",e[e.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",e[e.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",e[e.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",e[e.OP_NOP2=177]="OP_NOP2",e[e.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",e[e.OP_NOP3=178]="OP_NOP3",e[e.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",e[e.OP_NOP1=176]="OP_NOP1",e[e.OP_NOP4=179]="OP_NOP4",e[e.OP_NOP5=180]="OP_NOP5",e[e.OP_NOP6=181]="OP_NOP6",e[e.OP_NOP7=182]="OP_NOP7",e[e.OP_NOP8=183]="OP_NOP8",e[e.OP_NOP9=184]="OP_NOP9",e[e.OP_NOP10=185]="OP_NOP10",e[e.OP_CHECKDATASIG=186]="OP_CHECKDATASIG",e[e.OP_CHECKDATASIGVERIFY=187]="OP_CHECKDATASIGVERIFY",e[e.OP_REVERSEBYTES=188]="OP_REVERSEBYTES",e[e.OP_PREFIX_BEGIN=240]="OP_PREFIX_BEGIN",e[e.OP_PREFIX_END=241]="OP_PREFIX_END",e[e.OP_SMALLINTEGER=250]="OP_SMALLINTEGER",e[e.OP_PUBKEYS=251]="OP_PUBKEYS",e[e.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",e[e.OP_PUBKEY=254]="OP_PUBKEY",e[e.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE",e[e.OP_INPUTINDEX=192]="OP_INPUTINDEX",e[e.OP_ACTIVEBYTECODE=193]="OP_ACTIVEBYTECODE",e[e.OP_TXVERSION=194]="OP_TXVERSION",e[e.OP_TXINPUTCOUNT=195]="OP_TXINPUTCOUNT",e[e.OP_TXOUTPUTCOUNT=196]="OP_TXOUTPUTCOUNT",e[e.OP_TXLOCKTIME=197]="OP_TXLOCKTIME",e[e.OP_UTXOVALUE=198]="OP_UTXOVALUE",e[e.OP_UTXOBYTECODE=199]="OP_UTXOBYTECODE",e[e.OP_OUTPOINTTXHASH=200]="OP_OUTPOINTTXHASH",e[e.OP_OUTPOINTINDEX=201]="OP_OUTPOINTINDEX",e[e.OP_INPUTBYTECODE=202]="OP_INPUTBYTECODE",e[e.OP_INPUTSEQUENCENUMBER=203]="OP_INPUTSEQUENCENUMBER",e[e.OP_OUTPUTVALUE=204]="OP_OUTPUTVALUE",e[e.OP_OUTPUTBYTECODE=205]="OP_OUTPUTBYTECODE",e[e.OP_RESERVED3=206]="OP_RESERVED3",e[e.OP_RESERVED4=207]="OP_RESERVED4"}(b||(b={}));var Y=r(4531)},5118:function(e,t,r){"use strict";var n;r.r(t),r.d(t,"NexaSignature",(function(){return n})),function(e){e[e.SIGHASH_NEXA_ALL=0]="SIGHASH_NEXA_ALL",e[e.SIGHASH_ALL=1]="SIGHASH_ALL",e[e.SIGHASH_NONE=2]="SIGHASH_NONE",e[e.SIGHASH_SINGLE=3]="SIGHASH_SINGLE",e[e.SIGHASH_FORKID=64]="SIGHASH_FORKID",e[e.SIGHASH_ANYONECANPAY=128]="SIGHASH_ANYONECANPAY"}(n||(n={}))},5330:function(e,t,r){"use strict";r.r(t),r.d(t,"KeyringHardware",(function(){return n.KeyringHardware})),r.d(t,"KeyringHd",(function(){return T})),r.d(t,"KeyringImported",(function(){return _})),r.d(t,"KeyringWatching",(function(){return N}));var n=r(4529),i=r(2),o=r.n(i),u=r(6),c=r.n(u),a=r(9),s=r.n(a),d=r(14),f=r.n(d),l=r(7),p=r.n(l),h=r(12),O=r(22),y=r(319),v=r(1365),P=r(627),g=r(115),w=r(3976),m=r(4117);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var T=function(e){s()(r,e);var t=E(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.getSigners=function(){var e=o()((function*(e,t){var r,n=yield this.getDbAccount();if(1!==t.length)throw new O.OneKeyInternalError("NEXA signers number should be 1.");if(t[0]!==n.address)throw new O.OneKeyInternalError("Wrong address required for signing.");var i=(yield this.getPrivateKeys(e))[n.path];if("undefined"===typeof i)throw new O.OneKeyInternalError("Unable to get signer.");return(r={})[n.address]=new v.Signer(i,e,"secp256k1"),r}));return function(t,r){return e.apply(this,arguments)}}(),n.getSigner=function(){var e=o()((function*(e,t){var r=t.address;return(yield this.getSigners((null==e?void 0:e.password)||"",[r]))[r]}));return function(t,r){return e.apply(this,arguments)}}(),n.signTransaction=function(){var e=o()((function*(e,t){var r=yield this.getDbAccount(),n=yield this.getSigner(t,{address:r.address});return yield Object(m.signEncodedTx)(e,n,yield this.vault.getDisplayAddress(r.address))}));return function(t,r){return e.apply(this,arguments)}}(),n.prepareAccounts=function(){var e=o()((function*(e){var t=this,r=e.password,n=e.indexes,i=e.names,o=e.template,u=(yield this.engine.dbApi.getCredential(this.walletId,r)).seed,c=Object(y.slicePathTemplate)(o),a=c.pathPrefix,s=c.pathSuffix,d=Object(P.batchGetPublicKeys)("secp256k1",u,r,a,n.map((function(e){return s.replace("{index}",e.toString())}))),f=n.map((function(e){return a+"/"+e+"'"}));if(d.length!==n.length)throw new O.OneKeyInternalError("Unable to get publick key.");return d.map((function(e,r){var u,c=e.path,a=e.extendedKey.key,s=(i||[])[r]||"NEXA #"+(n[r]+1),d=a.toString("hex");return{id:t.walletId+"--"+f[r],name:s,type:g.AccountType.UTXO,path:c,coinType:h.COINTYPE_NEXA,xpub:"",address:d,addresses:(u={},u[t.networkId]=d,u),template:o}}))}));return function(t){return e.apply(this,arguments)}}(),c()(r)}(w.KeyringHdBase),I=r(765),A=r(3977);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var _=function(e){s()(r,e);var t=b(r);function r(){return t.apply(this,arguments)}var n=r.prototype;return n.prepareAccounts=function(){var e=o()((function*(e){var t,r=e.name,n=e.privateKey;if(32!==n.length)throw new O.OneKeyInternalError("Invalid private key.");var i=I.secp256k1.publicFromPrivate(n).toString("hex");return Promise.resolve([{id:"imported--"+h.COINTYPE_NEXA+"--"+i,name:r||"",type:g.AccountType.UTXO,path:"",coinType:h.COINTYPE_NEXA,xpub:"",address:i,addresses:(t={},t[this.networkId]=i,t)}])}));return function(t){return e.apply(this,arguments)}}(),n.getSigners=function(){var e=o()((function*(e,t){var r,n=yield this.getDbAccount();if(1!==t.length)throw new O.OneKeyInternalError("NEXA signers number should be 1.");if(t[0]!==n.address)throw new O.OneKeyInternalError("Wrong address required for signing.");var i=(yield this.getPrivateKeys(e))[n.path];if("undefined"===typeof i)throw new O.OneKeyInternalError("Unable to get signer.");return(r={})[n.address]=new v.Signer(i,e,"secp256k1"),r}));return function(t,r){return e.apply(this,arguments)}}(),n.getSigner=function(){var e=o()((function*(e,t){var r=t.address;return(yield this.getSigners(e.password||"",[r]))[r]}));return function(t,r){return e.apply(this,arguments)}}(),n.signTransaction=function(){var e=o()((function*(e,t){var r=yield this.getDbAccount(),n=yield this.getSigner(t,r);return yield Object(m.signEncodedTx)(e,n,yield this.vault.getDisplayAddress(r.address))}));return function(t,r){return e.apply(this,arguments)}}(),n.signMessage=function(e,t){},c()(r)}(A.KeyringImportedBase);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var N=function(e){s()(r,e);var t=S(r);function r(){return t.apply(this,arguments)}return r.prototype.prepareAccounts=function(){var e=o()((function*(e){var t=e.name,r=e.target,n=e.accountIdPrefix,i="",o=g.AccountType.SIMPLE;if(Object(m.verifyNexaAddressPrefix)(r)){var u=r.split(":")[0],c=yield this.vault.getNetworkChainId();if(Object(m.getNexaNetworkInfo)(c).prefix!==u)throw new O.InvalidAddress;var a=Object(m.verifyNexaAddress)(r);if(i=a.normalizedAddress||"",!a.isValid||"undefined"===typeof i)throw new O.InvalidAddress}else try{Object(m.verifyNexaAddress)(yield this.vault.getDisplayAddress(r)),i=r,o=g.AccountType.UTXO}catch(s){throw new O.InvalidAddress}return Promise.resolve([{id:n+"--"+h.COINTYPE_NEXA+"--"+r,name:t||"",type:o,path:"",coinType:h.COINTYPE_NEXA,pub:"",address:i}])}));return function(t){return e.apply(this,arguments)}}(),c()(r)}(r(3978).KeyringWatchingBase)},6109:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return U}));var n=r(4),i=r.n(n),o=r(3),u=r.n(o),c=r(2),a=r.n(c),s=r(6),d=r.n(s),f=r(9),l=r.n(f),p=r(14),h=r.n(p),O=r(7),y=r.n(O),v=r(21),P=r.n(v),g=r(1671),w=r.n(g),m=r(116),E=r(47),T=r(18),I=r(22),A=r(115),b=r(52),_=r(3972),S=r(5330),N=r(4589),x=r(2767),F=r(4117);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var U=function(t){l()(n,t);var r=D(n);function n(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).keyringMap={hd:S.KeyringHd,hw:S.KeyringHardware,imported:S.KeyringImported,watching:S.KeyringWatching,external:S.KeyringWatching},e.settings=x.default,e.createSDKClient=w()(function(){var t=a()((function*(t,r){var n=e.createClientFromURL(t),i=yield e.engine.providerManager.getChainInfoByNetworkId(r);return n.setChainInfo(i),n}));return function(e,r){return t.apply(this,arguments)}}(),{promise:!0,primitive:!0,normalizer:function(e){return e[0]+":"+e[1]},max:1,maxAge:Object(E.getTimeDurationMs)({seconds:15})}),e}var o=n.prototype;return o.createClientFromURL=function(e){return new N.Nexa(e)},o.getFetchBalanceAddress=function(e){return this.getDisplayAddress(e.address)},o.getOutputAccount=function(){var e=a()((function*(){var e=yield this.getDbAccount({noCache:!0}),t=e.type===A.AccountType.SIMPLE?e.address:yield this.getDisplayAddress(e.address);return{id:e.id,name:e.name,type:e.type,path:e.path,coinType:e.coinType,tokens:[],address:t,displayAddress:t,template:e.template,pubKey:e.address}}));return function(){return e.apply(this,arguments)}}(),o.getAccountAddress=function(){var e=a()((function*(){return(yield this.getOutputAccount()).address}));return function(){return e.apply(this,arguments)}}(),o.getDisplayAddress=function(){var t=a()((function*(t){if(Object(F.verifyNexaAddressPrefix)(t))return t;var r=yield this.getNetworkChainId();return Object(F.publickeyToAddress)(e.from(t,"hex"),r)}));return function(e){return t.apply(this,arguments)}}(),o.addressFromBase=function(){var t=a()((function*(t){var r=yield this.getNetworkChainId();return Object(F.publickeyToAddress)(e.from(t.address,"hex"),r)}));return function(e){return t.apply(this,arguments)}}(),o.getSDKClient=function(){var e=a()((function*(){var e=(yield this.getNetwork()).rpcURL;return this.createSDKClient(e,this.networkId)}));return function(){return e.apply(this,arguments)}}(),o.getClientEndpointStatus=function(){var e=a()((function*(){var e=yield this.getSDKClient(),t=performance.now(),r=(yield e.getInfo()).bestBlockNumber;return{responseTime:Math.floor(performance.now()-t),latestBlock:r}}));return function(){return e.apply(this,arguments)}}(),o.validateWatchingCredential=function(){var e=a()((function*(e){return this.settings.watchingAccountEnabled?e.startsWith("nexa")?Promise.resolve(Object(F.verifyNexaAddress)(e).isValid):Object(F.verifyNexaAddress)(yield this.getDisplayAddress(e)).isValid:Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),o.validateAddress=function(){var e=a()((function*(e){var t=Object(F.verifyNexaAddress)(e),r=t.isValid,n=t.normalizedAddress;return r?Promise.resolve(n||e):Promise.reject(new I.InvalidAddress)}));return function(t){return e.apply(this,arguments)}}(),o.getBalances=function(){var e=a()((function*(e){var t=this,r=yield this.getSDKClient(),n=yield Promise.all(e.map((function(e){var r=e.address;return t.getDisplayAddress(r)})));return r.getBalances(e.map((function(e,t){var r=e.tokenAddress;return{address:n[t],coin:B({},"string"===typeof r?{tokenAddress:r}:{})}})))}));return function(t){return e.apply(this,arguments)}}(),o.attachFeeInfoToEncodedTx=function(){var e=a()((function*(e){var t=e.feeInfoValue.btcFee;return t&&(e.encodedTx.gas=t.toString()),Promise.resolve(e.encodedTx)}));return function(t){return e.apply(this,arguments)}}(),o.decodeTx=function(){var e=a()((function*(e,t){var r=yield this.getAccountAddress(),n=e.outputs.reduce((function(e,t){return e.plus(new P.a(t.satoshis))}),new P.a(0)),i=yield this.engine.getNativeTokenInfo(this.networkId),o={type:b.IDecodedTxActionType.TOKEN_TRANSFER,direction:b.IDecodedTxDirection.OUT,tokenTransfer:{tokenInfo:i,from:r,to:e.outputs[0].address,amount:n.shiftedBy(-i.decimals).toFixed(),amountValue:n.toString(),extraInfo:null}};return{txid:"",owner:r,signer:r,networkId:this.networkId,accountId:this.accountId,encodedTx:e,payload:t,extraInfo:null,nonce:0,actions:[o],status:b.IDecodedTxStatus.Pending}}));return function(t,r){return e.apply(this,arguments)}}(),o.getNextNonce=function(e,t){return Promise.resolve(0)},o.decodedTxToLegacy=function(e){return Promise.resolve({})},o.buildEncodedTxFromTransfer=function(){var e=a()((function*(e){var t=yield this.getSDKClient(),r=e.from,n=yield t.getNexaUTXOs(r),i=yield this.getNetwork();return{inputs:n.map((function(e){return{txId:e.outpoint_hash,outputIndex:e.tx_pos,satoshis:new P.a(e.value).toFixed(),address:r}})),outputs:[{address:e.to,satoshis:new P.a(e.amount).shiftedBy(i.decimals).toFixed(),outType:1}],transferInfo:{from:r,to:e.to,amount:e.amount}}}));return function(t){return e.apply(this,arguments)}}(),o.buildEncodedTxFromApprove=function(e){throw new Error("Method not implemented.")},o.updateEncodedTxTokenApprove=function(e,t){throw new Error("Method not implemented.")},o.updateEncodedTx=function(e,t,r){return Promise.resolve(e)},o.buildUnsignedTxFromEncodedTx=function(e){return Promise.resolve({inputs:[],outputs:[],payload:{encodedTx:e},encodedTx:e})},o.getTransactionStatuses=function(){var e=a()((function*(e){return(yield this.getSDKClient()).getTransactionStatuses(e)}));return function(t){return e.apply(this,arguments)}}(),o.fetchFeeInfo=function(){var e=a()((function*(e,t,r,n){var i=yield this.getNetwork(),o=yield this.getSDKClient(),u=Object(F.estimateSize)(e),c=yield o.estimateFee(u),a=Object(F.estimateFee)(e),s=r?Object(F.estimateFee)(e,Number(r)):Math.max(c,a);return{nativeSymbol:i.symbol,nativeDecimals:i.decimals,feeSymbol:i.feeSymbol,feeDecimals:i.feeDecimals,prices:[new P.a(1).shiftedBy(-i.decimals).toFixed()],feeList:[s],defaultPresetIndex:"1",isBtcForkChain:!0,tx:null}}));return function(t,r,n,i){return e.apply(this,arguments)}}(),o.getExportedCredential=function(){var e=a()((function*(e){var t=yield this.getDbAccount();if(t.id.startsWith("hd-")||t.id.startsWith("imported")){var r=this.keyring,n=Object.values(yield r.getPrivateKeys(e)),o=i()(n,1)[0];return Object(m.decrypt)(e,o).toString("hex")}throw new I.OneKeyInternalError("Only credential of HD or imported accounts can be exported")}));return function(t){return e.apply(this,arguments)}}(),o.fetchTokenInfos=function(e){throw new Error("Method not implemented.")},o.broadcastTransaction=function(){var e=a()((function*(e,t){var r=yield this.getSDKClient();return yield r.broadcastTransaction(e.rawTx),e}));return function(t,r){return e.apply(this,arguments)}}(),o.buildDecodeTx=function(){var e=a()((function*(e){var t,r=yield this.getSDKClient();try{t=yield r.getTransaction(e)}catch(s){return T.default.common.error("Failed to fetch Nexa transaction. ",e),!1}var n=yield this.getDbAccount(),i=yield this.getDisplayAddress(n.address),o=(yield this.engine.getNetwork(this.networkId)).decimals,u=yield this.getNetworkChainId(),c=Object(F.getNexaNetworkInfo)(u),a=yield this.engine.getNativeTokenInfo(this.networkId);return Object(F.buildDecodeTxFromTx)({tx:t,dbAccountAddress:i,decimals:o,addressPrefix:c.prefix,token:a,networkId:this.networkId,accountId:this.accountId})}));return function(t){return e.apply(this,arguments)}}(),o.fetchOnChainHistory=function(){var e=a()((function*(e){var t=this,r=e.tokenIdOnNetwork,n=e.localHistory,i=void 0===n?[]:n;if(r)return Promise.resolve([]);var o=yield this.getDbAccount(),u=yield this.getSDKClient(),c=yield this.getDisplayAddress(o.address),s=yield u.getHistoryByAddress(c);return(yield Promise.all(s.map(function(){var e=a()((function*(e){var r=i.find((function(t){return t.decodedTx.txid===e.tx_hash}));if(r){if(!r.decodedTx.isFinal){var n,o=yield t.buildDecodeTx(e.tx_hash);if(o)return o.createdAt=null!=(n=null==r?void 0:r.decodedTx.createdAt)?n:o.createdAt,t.buildHistoryTx({decodedTx:o,historyTxToMerge:r})}return r}var u=yield t.buildDecodeTx(e.tx_hash);return!!u&&t.buildHistoryTx({decodedTx:u})}));return function(t){return e.apply(this,arguments)}}()))).filter(Boolean)}));return function(t){return e.apply(this,arguments)}}(),d()(n)}(_.VaultBase)}.call(this,r(27).Buffer)}}]);