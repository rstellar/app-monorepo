(this.webpackJsonp=this.webpackJsonp||[]).push([[80],{4343:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAfCAMAAACmqq93AAAAUVBMVEUAAAAMDAwLCwv6+vr+/v79/f339/f6+vr7+/vu7u7Hx8f////v7+/6+vrh4eH////7+/v8/Pze3t7+/v78/Pz5+fnf39/////39/empqb///+KJeaPAAAAGnRSTlMABgqj4KGkk4JFKfBmYiTfwXET0MKyNzAiGkjwtncAAACUSURBVDjL5dFLDsIwDEXRxPknDaXl7/0vlCAxaC2ZvjnX0yNZls1/t+K0w/IZYDqjdA2MUVs8H9Gy5JyTazxy9hec+dsRzcwgXRilJw/Tzii1V5xeJE0q9ZJOOK0GpWfSKDV0v7kLGUmjNuylr/qvpCTwq7eXur633e2FNPlIwTkXx7gY01QHHFLL0jYBpR2R/bR1b4y2G5MTsa3dAAAAAElFTkSuQmCC"},4360:function(e,t,r){"use strict";r.r(t),r.d(t,"useOpenProtocolUrl",(function(){return z})),r.d(t,"OverviewDefiProtocol",(function(){return H}));var o=r(4),n=r.n(o),l=r(20),u=r(50),c=r(112),a=r(56),d=r(26),i=r(11),s=r(98),b=r(1),j=r(21),p=r.n(j),f=r(89),O=r(4343),x=r.n(O),m=r(881),v=r(111),h=r(24),y=r(196),g=r(239),w=r(90),A=r(38),k=r(123),I=r(1106),C=r(0),_=function(e){var t=e.icon,r=e.name,o=e.rate,n=e.desc,c=e.extra,d=e.onOpenDapp,i=Object(u.default)(),s=Object(b.useMemo)((function(){return Object(C.jsx)(I.OverviewBadge,{rate:o})}),[o]);return i?Object(C.jsxs)(a.default,{px:4,py:4,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(C.jsx)(A.default,{w:"full",mb:"2",children:Object(C.jsx)(A.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(C.jsxs)(A.default,{flex:"1",children:[Object(C.jsx)(k.TokenIcon,{size:6,token:{logoURI:t,name:r}}),Object(C.jsx)(l.default,{onPress:d,typography:"Body1Strong",ml:"2",children:r}),o.isNaN()?null:s]})})}),Object(C.jsxs)(a.default,{w:"full",children:[n,c]})]}):Object(C.jsxs)(A.default,{px:6,py:3,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(C.jsx)(A.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(C.jsxs)(A.default,{flex:"1",children:[Object(C.jsx)(k.TokenIcon,{size:8,token:{logoURI:t,name:r}}),Object(C.jsx)(l.default,{typography:"Heading",ml:"2",onPress:d,children:r}),o.isNaN()?null:s]})}),Object(C.jsx)(A.default,{alignItems:"center",children:Object(C.jsxs)(a.default,{children:[n,c]})})]})},P=r(320),T=r.n(P),B=r(3),N=r.n(B),S=r(1686),V=r.n(S);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){N()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=function(e){var t,r=e.pool,o=e.tokenKey,n=Object(u.default)();return Object(C.jsx)(a.default,{children:null==r||null==(t=r[o])?void 0:t.map((function(e,t){var r,o;return Object(C.jsxs)(A.default,{alignItems:"center",mt:t>0?"4px":0,flexWrap:"wrap",children:[Object(C.jsx)(k.TokenIcon,{token:e,size:n?5:4,mr:"1"}),Object(C.jsx)(l.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mr:"1",children:Object(C.jsx)(v.FormatCurrencyNumber,{onlyNumber:!0,value:new p.a(null!=(r=e.balanceParsed)?r:0)})}),Object(C.jsx)(l.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mx:"1",children:e.symbol}),Object(C.jsx)(d.default.Body2,{color:"text-subdued",children:Object(C.jsx)(v.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(o=e.value)?o:0)})})]},e.tokenAddress)}))})},U=function(e){var t=e.pools,r=Object(f.default)(),o=Object(u.default)(),n=Object(b.useCallback)((function(e){return!e.visibleOn||(null==e.visibleOn?void 0:e.visibleOn({pools:t,isVertical:o}))}),[o,t]),l=Object(b.useMemo)((function(){var e,t,r=[{dataIndex:"supplyTokens",header:"form__pool_uppercase",render:function(e){return Object(C.jsx)(R,M(M({},e),{},{tokenKey:"supplyTokens"}))},visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.supplyTokens)?void 0:t.length)>0}))}},{dataIndex:"borrowTokens",header:"form__borrowed_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.borrowTokens)?void 0:t.length)>0}))},render:function(e){return Object(C.jsx)(R,M(M({},e),{},{tokenKey:"borrowTokens"}))}},{dataIndex:"rewardTokens",header:"form__rewards_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.rewardTokens)?void 0:t.length)>0}))},render:function(e){return Object(C.jsx)(R,M(M({},e),{},{tokenKey:"rewardTokens"}))}}].filter(n),o=[{dataIndex:"lockedInfo",header:"form__unlock_time_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return!(null==e||null==(t=e.lockedInfo)||!t.unlockTime)}))},render:function(e){var t,r=e.pool,o=null==r||null==(t=r.lockedInfo)?void 0:t.unlockTime;return"number"!==typeof o?o:Object(C.jsx)(d.default.Body2Strong,{children:V()(1e3*o).format("YYYY/MM/DD HH:mm")})}},{dataIndex:"apr",header:"form__apr_uppercase",visibleOn:function(e){return e.pools.some((function(e){return!!e.apr}))},render:function(e){var t,r=e.pool;return Object(C.jsxs)(d.default.Body2Strong,{children:[Object(C.jsx)(v.FormatCurrencyNumber,{onlyNumber:!0,value:new p.a(null!=(t=r.apr)?t:0)}),"%"]})}},{dataIndex:"poolValue",header:"form__value_uppercase",render:function(e){var t,r=e.pool;return Object(C.jsx)(d.default.Body2Strong,{children:Object(C.jsx)(v.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(t=r.poolValue)?t:0)})})},boxProps:{textAlign:"right",justifyContent:"flex-end"}}].filter(n);return 1===(null==r?void 0:r.length)&&null!=r&&null!=(e=r[0])&&e.dataIndex&&r.push({header:"content__price",render:function(e){var r=e.pool;return Object(C.jsx)(a.default,{children:null==r?void 0:r[t].map((function(e){var t;return Object(C.jsx)(d.default.Body2Strong,{children:Object(C.jsx)(v.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(t=e.price)?t:0)})},e.tokenAddress)}))})},dataIndex:t=r[0].dataIndex}),r.concat(o)}),[n]),c=Object(b.useMemo)((function(){return t.length}),[t]),s=Object(b.useCallback)((function(e,t){var o=t===c-1;return Object(C.jsx)(a.default,{mb:"4",pb:o?0:4,borderBottomWidth:o?0:"1px",borderBottomColor:"border-subdued",mx:"4",children:l.map((function(t,o){return t.dataIndex&&T()(e[t.dataIndex])?null:Object(C.jsxs)(a.default,{mt:0===o?0:"4",children:[Object(C.jsx)(d.default.Subheading,{mb:"4",color:"text-subdued",children:r.formatMessage({id:t.header})}),t.dataIndex&&!T()(e[t.dataIndex])?t.render({pool:e}):null]},t.header)}))},e.poolCode)}),[l,r,c]),j=Object(b.useCallback)((function(e,r){var o=r===t.length-1;return Object(C.jsx)(A.default,{alignItems:"flex-start",borderBottomColor:"border-subdued",borderBottomWidth:o?0:"1px",mx:"6",py:"4",children:l.map((function(t){var r;return Object(b.createElement)(i.default,M(M({flex:"1"},null!=(r=t.boxProps)?r:{}),{},{key:t.header}),t.render({pool:e}))}))},e.poolCode)}),[t,l]),O=Object(b.useMemo)((function(){return o?null:Object(C.jsx)(A.default,{mx:"6",py:"0",flex:"1",children:l.map((function(e){var t;return Object(C.jsx)(i.default,M(M({flex:"1"},null!=(t=e.boxProps)?t:{}),{},{children:Object(C.jsx)(d.default.Subheading,{color:"text-subdued",children:r.formatMessage({id:e.header})})}),e.header)}))})}),[l,r,o]);return l.length?Object(C.jsxs)(i.default,{children:[O,t.map((function(e,t){return(o?s:j)(e,t)}))]}):null},F=function(e){var t,r,o=e.onConfirm,n=e.protocol,l=e.onClose,u=Object(f.default)(),b=Object(h.useActiveWalletAccount)().network;return Object(C.jsx)(c.default,{visible:!0,onClose:l,contentProps:{icon:Object(C.jsxs)(i.default,{size:"52px",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",position:"relative",children:[Object(C.jsx)(s.default,{size:"full",src:n.protocolIcon,alt:n.protocolName}),Object(C.jsx)(s.default,{source:x.a,w:"35px",h:"25px",position:"absolute",bottom:"0",right:"0",zIndex:"1"}),Object(C.jsx)(s.default,{src:null!=(t=null==b?void 0:b.logoURI)?t:"",w:"12px",h:"12px",position:"absolute",bottom:"2px",right:"2px",zIndex:"2"})]}),title:n.protocolName,contentElement:Object(C.jsxs)(a.default,{children:[Object(C.jsx)(d.default.Body2,{textAlign:"center",children:null!=(r=n.protocolUrl)?r:""}),Object(C.jsx)(d.default.Body2,{mt:"6",textAlign:"center",children:u.formatMessage({id:"content__you_are_about_to_visit_this_site_in_a_dapp_browser_do_you_want_to_continue"})})]})},footerButtonProps:{primaryActionTranslationId:"action__visit",onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==o||o()}}})},z=function(e){var t=Object(h.useNavigation)(),r=Object(u.default)(),o=Object(b.useCallback)((function(){var r;Object(g.openDapp)(null!=(r=null==e?void 0:e.protocolUrl)?r:""),t.canGoBack()&&t.goBack()}),[null==e?void 0:e.protocolUrl,t]);return Object(b.useCallback)((function(){if(null!=e&&e.protocolUrl)return r?void Object(w.showDialog)(Object(C.jsx)(F,{protocol:e,onConfirm:o})):o()}),[e,r,o])},E=function(e){var t=e.poolType,r=Object(u.default)();return Object(C.jsx)(l.default,{ml:r?4:6,my:"4",children:Object(C.jsx)(i.default,{px:"6px",bg:"surface-highlight-default",borderRadius:"6px",children:Object(C.jsx)(d.default.Body2Strong,{color:"text-default",numberOfLines:1,children:t})})})},H=function(e){var t=e._id,r=e.pools,o=e.protocolValue,c=e.protocolName,d=e.protocolIcon,s=e.claimableValue,j=e.showHeader,O=void 0===j||j,x=e.bgColor,g=e.poolCode,w=Object(f.default)(),A=Object(u.default)(),k=Object(y.useCurrentFiatValue)(),I=Object(h.useActiveWalletAccount)(),P=I.networkId,T=I.accountId,B=Object(h.useAccountValues)({networkId:P,accountId:T}),N=z(e),S=Object(b.useMemo)((function(){return new p.a(o).multipliedBy(k).div(B.value).multipliedBy(100)}),[o,B,k]),V=Object(b.useMemo)((function(){return g?r.filter((function(e){return n()(e,2)[1].filter((function(e){return e.poolCode===g})).length>0})).map((function(e){var t=n()(e,2);return[t[0],t[1].filter((function(e){return e.poolCode===g}))]})).map((function(e,r){var o,l=n()(e,2),u=l[0],c=l[1];return Object(C.jsxs)(a.default,{borderTopWidth:0===r?0:"1px",borderTopColor:"divider",children:[Object(C.jsx)(E,{poolType:u,poolName:null==c||null==(o=c[0])?void 0:o.poolName}),Object(C.jsx)(U,{networkId:t.networkId,poolType:u,pools:c})]},u)})):Object(C.jsx)(i.default,{bg:x,children:r.map((function(e,r){var o,l=n()(e,2),u=l[0],c=l[1];return Object(C.jsxs)(a.default,{borderTopWidth:0===r?0:"1px",borderTopColor:"divider",children:[Object(C.jsx)(E,{poolType:u,poolName:null==c||null==(o=c[0])?void 0:o.poolName}),Object(C.jsx)(U,{networkId:t.networkId,poolType:u,pools:c})]},u)}))})}),[x,r,t,g]);return Object(C.jsx)(m.ErrorBoundary,{children:Object(C.jsxs)(i.default,{borderRadius:"12px",bg:"surface-default",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",mb:"6",children:[O?Object(C.jsx)(_,{name:c,onOpenDapp:N,rate:S,desc:Object(C.jsx)(l.default,{typography:{md:"Heading",sm:"Body1Strong"},textAlign:A?"left":"right",children:Object(C.jsx)(v.FormatCurrencyNumber,{value:0,convertValue:new p.a(o)})}),extra:+s>0?Object(C.jsx)(l.default,{color:"text-subdued",typography:{md:"Body2Strong",sm:"CaptionStrong"},textAlign:A?"left":"right",children:w.formatMessage({id:"form__claimable_str"},{0:Object(C.jsx)(v.FormatCurrencyNumber,{value:0,convertValue:new p.a(s)})})}):void 0,icon:d}):null,V]})})}},5346:function(e,t,r){"use strict";r.r(t);var o=r(50),n=r(57),l=r(3),u=r.n(l),c=r(75),a=r(38),d=r(11),i=r(123),s=r(26),b=r(1),j=r(4360),p=r(42),f=r(21),O=r.n(f),x=r(89),m=r(111),v=r(24),h=r(196),y=r(210),g=r(1106),w=r(0);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(){var e,t=Object(x.default)(),r=Object(o.default)(),l=Object(p.useRoute)().params,u=l.networkId,f=l.protocolId,A=l.accountId,I=l.poolCode,C=Object(h.useCurrentFiatValue)(),_=Object(v.useAccountValues)({networkId:u,accountId:A}).value,P=Object(v.useAccountPortfolios)({networkId:u,accountId:A,type:y.EOverviewScanTaskType.defi}),T=P.data,B=P.loading,N=Object(b.useMemo)((function(){return null==T?void 0:T.find((function(e){return e._id.protocolId===f}))}),[T,f]),S=Object(b.useMemo)((function(){var e;return new O.a(null!=(e=null==N?void 0:N.protocolValue)?e:0).multipliedBy(C).div(_).multipliedBy(100)}),[null==N?void 0:N.protocolValue,_,C]),V=Object(b.useMemo)((function(){var e;return r?Object(w.jsx)(s.default.Caption,{children:Object(w.jsx)(m.FormatCurrencyNumber,{value:0,convertValue:new O.a(null!=(e=null==N?void 0:N.protocolValue)?e:0)})}):null}),[r,N]),D=Object(b.useMemo)((function(){var e;return r||I?Object(w.jsx)(s.default.Heading,{ml:"3",children:null==N?void 0:N.protocolName}):Object(w.jsxs)(a.default,{alignItems:"center",children:[Object(w.jsx)(i.default,{token:{logoURI:null==N?void 0:N.protocolIcon},size:8}),Object(w.jsx)(s.default.Heading,{ml:"3",children:null==N?void 0:N.protocolName}),Object(w.jsx)(d.default,{mx:"2",my:"auto",w:"1",h:"1",borderRadius:"2px",bg:"text-default"}),Object(w.jsx)(s.default.Heading,{children:Object(w.jsx)(m.FormatCurrencyNumber,{value:0,convertValue:new O.a(null!=(e=null==N?void 0:N.protocolValue)?e:0)})}),S.isGreaterThan(0)?Object(w.jsx)(g.OverviewBadge,{rate:S}):null]})}),[r,N,S,I]),M=Object(j.useOpenProtocolUrl)(N);return Object(w.jsx)(n.default,{size:"2xl",height:"560px",hidePrimaryAction:!0,hideSecondaryAction:!(null!=N&&N.protocolUrl),header:D,footer:null!=N&&N.protocolUrl?void 0:null,headerDescription:V,onSecondaryActionPress:M,secondaryActionProps:{children:t.formatMessage({id:"form__visit_str"},{0:null!=(e=null==N?void 0:N.protocolName)?e:""})},scrollViewProps:{children:B||!N?Object(w.jsx)(c.default,{}):Object(w.jsx)(j.OverviewDefiProtocol,k(k({},N),{},{showHeader:!1,bgColor:"surface-default",poolCode:I}))}})},C=r(238),_=Object(C.default)(),P=[{name:y.OverviewModalRoutes.OverviewProtocolDetail,component:I}];t.default=function(){var e=Object(o.default)();return Object(w.jsx)(_.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:P.map((function(e){return Object(w.jsx)(_.Screen,{name:e.name,component:e.component},e.name)}))})}}}]);