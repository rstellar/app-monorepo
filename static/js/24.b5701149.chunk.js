(this.webpackJsonp=this.webpackJsonp||[]).push([[24,844],{3990:function(e,t,n){"use strict";n.r(t),n.d(t,"useUserBrowserHistories",(function(){return s})),n.d(t,"useDiscoverFavorites",(function(){return u})),n.d(t,"useTaggedDapps",(function(){return d})),n.d(t,"useCategoryDapps",(function(){return f})),n.d(t,"useTagDapps",(function(){return b})),n.d(t,"useCategories",(function(){return j})),n.d(t,"useShowBookmark",(function(){return p}));var r=n(4),o=n.n(r),a=n(1),i=n(24),c=n(25),l=n(17);function s(){var e=Object(i.useAppSelector)((function(e){return e.discover.userBrowserHistories}));return Object(a.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{url:e.url,title:e.title,favicon:e.logoUrl},timestamp:e.timestamp}})):[]}),[e])}function u(){var e=Object(i.useAppSelector)((function(e){return e.discover.bookmarks}));return Object(a.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{title:e.title,favicon:e.icon,url:e.url}}})):[]}),[e])}function d(){var e=Object(i.useAppSelector)((function(e){return e.discover.home}));return Object(a.useMemo)((function(){return e?e.tagDapps.filter((function(e){return e.items.length>0})):[]}),[e])}function f(e){var t=Object(a.useState)([]),n=o()(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){e&&l.default.serviceDiscover.getCategoryDapps(e).then(i)}),[e]),r}function b(e){var t=Object(a.useState)([]),n=o()(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){e&&l.default.serviceDiscover.getTagDapps(e).then(i)}),[e]),r}function j(){var e=Object(i.useAppSelector)((function(e){return e.discover.home}));return Object(a.useMemo)((function(){return e?e.categories:[]}),[e])}function p(){var e=c.default.isNativeIOS||c.default.isMas,t=Object(i.useAppSelector)((function(e){return e.discover.showBookmark})),n=Object(i.useAppSelector)((function(e){var t;return null==(t=e.settings.devMode)?void 0:t.hideDiscoverContent}));return Object(a.useMemo)((function(){return!n&&(!e||t)}),[t,e,n])}},3993:function(e,t,n){"use strict";n.r(t);var r=n(4118);n.d(t,"default",(function(){return r.Hidden}))},3999:function(e,t,n){"use strict";n.r(t),n.d(t,"floorPriceSymbolMap",(function(){return j})),n.d(t,"PriceString",(function(){return p}));var r,o=n(3),a=n.n(o),i=n(20),c=n(15),l=n.n(c),s=n(35),u=n(0),d=["prefix","price","networkId","symbol"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=((r={})[s.OnekeyNetwork.eth]="ETH",r[s.OnekeyNetwork.optimism]="ETH",r[s.OnekeyNetwork.bsc]="BNB",r[s.OnekeyNetwork.polygon]="MATIC",r[s.OnekeyNetwork.arbitrum]="ETH",r[s.OnekeyNetwork.sol]="SOL",r[s.OnekeyNetwork.avalanche]="AVAX",r);function p(e){var t=e.prefix,n=e.price,r=e.networkId,o=e.symbol,a=null!=o?o:j[null!=r?r:""],i="\u2013";return n&&null!==n&&(i=n+" "+(null!=a?a:"")),t?t+" "+i:""+i}t.default=function(e){var t=e.prefix,n=void 0===t?"":t,r=e.price,o=e.networkId,a=e.symbol,c=l()(e,d);return Object(u.jsx)(i.default,b(b({},c),{},{children:p({prefix:n,price:r,networkId:o,symbol:a})}))}},4007:function(e,t,n){"use strict";n.r(t),n.d(t,"FallbackIcon",(function(){return y}));var r=n(3),o=n.n(r),a=n(40),i=n(15),c=n.n(i),l=n(443),s=n(11),u=n(98),d=n(4321),f=n.n(d),b=n(4322),j=n.n(b),p=n(24),O=n(0),m=["url","size","networkIds"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return{24:{borderRadius:8,innerSize:22,innerRadius:6,chainIconPadding:1.57},28:{borderRadius:9,innerSize:25,innerRadius:6,chainIconPadding:1.57},38:{borderRadius:10,innerSize:36,innerRadius:10,chainIconPadding:1.57},40:{borderRadius:12,innerSize:36,innerRadius:10,chainIconPadding:1.57},48:{borderRadius:12,innerSize:44,innerRadius:10,chainIconPadding:2.69}}[e]}var v=function(e){var t=e.networkIds,n=e.size,r=g(n).chainIconPadding,o=Object(p.useNetworkSimple)(t[0]);return t.length>1?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:f.a}),Object(O.jsx)(s.default,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",borderRadius:"full",children:Object(O.jsx)(u.default,{width:.2*n+"px",height:.2*n+"px",source:j.a})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:f.a}),Object(O.jsx)(s.default,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",children:Object(O.jsx)(l.default,{width:.2*n+"px",height:.2*n+"px",src:null==o?void 0:o.logoURI,borderRadius:"full"})})]})},y=function(e){var t=g(e.size).innerSize;return Object(O.jsx)(s.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:t+"px",height:t+"px",children:Object(O.jsx)(a.default,{size:16,name:"GlobeAltMini"})})};t.default=function(e){var t=e.url,n=e.size,r=e.networkIds,o=c()(e,m),i=g(n),u=i.innerSize,d=i.innerRadius,f=i.borderRadius;return Object(O.jsx)(s.default,h(h({justifyContent:"center",alignItems:"center",width:n+"px",height:n+"px",borderRadius:f+"px",borderWidth:"1px",borderColor:"border-subdued"},o),{},{children:Object(O.jsxs)(s.default,{width:u+"px",height:u+"px",children:[t?Object(O.jsx)(l.default,{src:t,width:u+"px",height:u+"px",borderRadius:d+"px",bgColor:"surface-neutral-default",fallbackElement:Object(O.jsx)(s.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:u+"px",height:u+"px",children:Object(O.jsx)(a.default,{size:16,name:"GlobeAltMini"})})}):Object(O.jsx)(s.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:u+"px",height:u+"px",children:Object(O.jsx)(a.default,{size:16,name:"GlobeAltMini"})}),r&&r.length>0?Object(O.jsx)(v,{size:n,networkIds:r}):null]})}))}},4016:function(e,t,n){"use strict";n.r(t),n.d(t,"gotoSite",(function(){return u})),n.d(t,"openMatchDApp",(function(){return d})),n.d(t,"onItemSelect",(function(){return f}));var r=n(17),o=n(192),a=n(400),i=n(275),c=n(239),l=n(496),s=n(832),u=function(e){var t=e.url,n=e.title,u=e.favicon,d=e.dAppId,f=e.isNewWindow,b=e.isInPlace,j=e.id,p=e.userTriggered,O=Object(o.appSelector)((function(e){return e})).discover.bookmarks,m=Object(s.getWebTabs)(),x=m.tabs,h=m.currentTabId,g=j||h,v=x.find((function(e){return e.id===g})),y=r.default.dispatch;if(t&&v){var w=Object(l.validateUrl)(t);if(!w)return;if(p&&(y(Object(i.addUserBrowserHistory)({url:w,dappId:d,title:n,timestamp:Date.now()})),r.default.serviceDiscover.fillInUserBrowserHistory({dappId:d,url:w})),"browser"===l.webHandler)return Object(c.openUrl)(w);var k=v.id,_=!w.startsWith("http")&&"about:blank"!==w,S=(f||"home"===k||_)&&"tabbedWebview"===l.webHandler,I=null==O?void 0:O.map((function(e){return e.url})),C=null==I?void 0:I.includes(t);return S?a.webTabsActions.addWebTab({title:n,url:w,favicon:u,isCurrent:!0,isBookmarked:C}):a.webTabsActions.setWebTabData({id:k,url:w,title:n,favicon:u,isBookmarked:C}),S||b||Object(l.crossWebviewLoadUrl)({url:w,tabId:k}),_&&"tabbedWebview"===l.webHandler&&setTimeout((function(){a.webTabsActions.closeWebTab(k)}),1e3),!0}return!1},d=function(e){var t=e.dapp,n=e.webSite,r=e.isNewWindow;return n?u({url:n.url,title:n.title,favicon:n.favicon,isNewWindow:r,userTriggered:!0}):t?u({url:t.url,title:t.name,dAppId:t._id,favicon:t.logoURL,userTriggered:!0,isNewWindow:r}):void 0},f=function(e){d({id:e._id,dapp:e})}},4022:function(e,t,n){"use strict";n.r(t),n.d(t,"useCurrencyData",(function(){return d})),n.d(t,"useCurrencyListData",(function(){return f})),n.d(t,"useCurrencyUnit",(function(){return b}));var r=n(13),o=n.n(r),a=n(4060),i=n.n(a),c=n(1),l=n(24),s=["usd","eur","gbp","jpy","cny","hkd"],u=["btc","eth","sats","bits"],d=function(e){var t=Object(l.useAppSelector)((function(e){return e.fiatMoney.map}));return Object(c.useMemo)((function(){var n;return null!=(n=t[e])?n:{}}),[t,e])},f=function(){var e=Object(l.useAppSelector)((function(e){return e.fiatMoney.symbolList})),t=Object(l.useAppSelector)((function(e){return e.fiatMoney.map})),n=i()(s,e),r=i()(u,e);return{popularList:n,ratesSectionList:[{title:"crypto",data:o()(r)},{title:"fiat",data:e.filter((function(e){var n,r;return null==(n=t[e])||null==(r=n.type)?void 0:r.includes("fiat")}))}]}},b=function(e){var t=d(e).unit;return Object(c.useMemo)((function(){return null!=t?t:"$"}),[t])}},4023:function(e,t,n){"use strict";n.r(t),n.d(t,"StatsListContext",(function(){return o})),n.d(t,"useStatsListContext",(function(){return a}));var r=n(1),o=Object(r.createContext)(null);function a(){return Object(r.useContext)(o)}},4024:function(e,t,n){"use strict";n.r(t),n.d(t,"useMarketSelectedCategoryId",(function(){return d})),n.d(t,"useMarketSelectedCategory",(function(){return b})),n.d(t,"useMarketCategoryList",(function(){return j})),n.d(t,"useMarketFavoriteRecommentedList",(function(){return p})),n.d(t,"useMarketFavoriteCategoryTokenIds",(function(){return O})),n.d(t,"useMarketSearchCategoryList",(function(){return m}));var r=n(13),o=n.n(r),a=n(50),i=n(1),c=n(42),l=n(17),s=n(24),u=n(271),d=function(){return Object(s.useAppSelector)((function(e){return e.market.selectedCategoryId}))},f=function(){return Object(s.useAppSelector)((function(e){return e.market.categorys}))},b=function(){var e=d(),t=f();return Object(i.useMemo)((function(){return e?t[e]:null}),[t,e])},j=function(){var e=Object(c.useIsFocused)(),t=f();return Object(i.useEffect)((function(){e&&l.default.serviceMarket.fetchMarketCategorys()}),[e]),Object(i.useMemo)((function(){return t&&Object.values(t).length>0?Object.values(t).filter((function(e){return e.type===u.MarketCategoryType.MRKET_CATEGORY_TYPE_TAB})):[]}),[t])},p=function(){var e=f(),t=Object(a.default)(),n=e[u.MARKET_FAVORITES_CATEGORYID];return Object(i.useMemo)((function(){var e,r,a;return n&&null!=(e=n.recommendedTokens)&&e.length?(null==(r=n.recommendedTokens)?void 0:r.length)>12?o()(n.recommendedTokens).slice(0,t?8:12):(null==(a=n.recommendedTokens)?void 0:a.length)>8&&t?o()(n.recommendedTokens).slice(0,8):o()(n.recommendedTokens):[]}),[n,t])},O=function(){var e=f()[u.MARKET_FAVORITES_CATEGORYID];return Object(i.useMemo)((function(){return e&&e.coingeckoIds?e.coingeckoIds:[]}),[e])},m=function(){var e=f();return Object(i.useMemo)((function(){return e&&Object.values(e).length>0?Object.values(e).filter((function(e){return e.type===u.MarketCategoryType.MRKET_CATEGORY_TYPE_SEARCH})):[]}),[e])}},4025:function(e,t,n){"use strict";n.r(t),n.d(t,"useMarketTokenChart",(function(){return s})),n.d(t,"useMarketTokenItem",(function(){return u}));var r=n(50),o=n(1),a=n(42),i=n(17),c=n(24),l=n(4026),s=function(e){var t=e.coingeckoId,n=e.days,r=void 0===n?"1":n,l=e.points,s=e.pollingIntervall,u=void 0===s?120:s,d=Object(c.useAppSelector)((function(e){return e.market.charts})),f=Object(a.useIsFocused)();return Object(o.useEffect)((function(){var e;return f&&(i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:l}),e=setInterval((function(){i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:l})}),1e3*u)),function(){e&&clearInterval(e)}}),[u,r,l,t,f]),{chart:Object(o.useMemo)((function(){var e=d[t];return e?e[r]:null}),[d,t,r])}},u=function(e){var t=e.coingeckoId,n=e.isList,a=Object(r.default)(),s=Object(l.useMarketMidLayout)(),u=Object(c.useAppSelector)((function(e){return e.market.marketTokens}));return Object(o.useEffect)((function(){if(null!=t&&t.length){var e=u[t];n||e||i.default.serviceMarket.fetchMarketListDebounced({ids:t,sparkline:!a&&!s})}}),[t,n,s,a,u]),Object(o.useMemo)((function(){if(t)return u[t]}),[u,t])}},4026:function(e,t,n){"use strict";n.r(t),n.d(t,"GridLayoutContext",(function(){return u})),n.d(t,"GridLayout",(function(){return d})),n.d(t,"GRID_MAX_WIDTH",(function(){return f})),n.d(t,"useGridBoxStyle",(function(){return b})),n.d(t,"useMarketMidLayout",(function(){return j})),n.d(t,"useDevicePixelRatio",(function(){return p}));var r=n(420),o=n(50),a=n(11),i=n(4),c=n.n(i),l=n(1),s=(n(25),n(0)),u=Object(l.createContext)({}),d=function(e){var t=e.children,n=Object(l.useState)({}),r=c()(n,2),o=r[0],i=r[1],d=Object(l.useCallback)((function(e){var t=e.nativeEvent.layout.width;i({width:t})}),[]);return Object(s.jsx)(u.Provider,{value:o,children:Object(s.jsxs)(a.default,{w:"full",children:[Object(s.jsx)(a.default,{onLayout:d,w:"full"}),Object(s.jsx)(a.default,{children:t})]})})},f=700,b=function(e){var t=e.index,n=e.space,a=e.maxW,i=e.outPadding,c=Object(o.default)(),s=Object(r.default)(),d=s.screenWidth,b=s.size,j=Object(l.useMemo)((function(){return["XLARGE"].includes(b)?256:224}),[b]),p=Object(l.useContext)(u).width,O=null!=n?n:c?12:24,m=null!=a?a:f,x=c?d-(null!=i?i:0):d-j-(null!=i?i:0);p&&(x=p);var h=x<m?x:m,g=c?2:h>f?4:3;return{ml:Object(l.useMemo)((function(){return t?(t%(c?2:g)!==0?O:0)+"px":"0px"}),[t,c,O,g]),my:Object(l.useMemo)((function(){return O/2+"px"}),[O]),width:Object(l.useMemo)((function(){return void 0===t?"full":Math.floor((h-O*(g-1))/g)}),[h,O,g,t])}},j=function(){var e=Object(r.default)().size;return Object(l.useMemo)((function(){return"NORMAL"===e}),[e])},p=function(){return Object(l.useMemo)((function(){return window.devicePixelRatio||1}),[])}},4027:function(e,t,n){"use strict";n.r(t),n.d(t,"DiscoverContext",(function(){return o}));var r=n(1),o=Object(r.createContext)({itemSource:"Favorites",categoryId:"",setCategoryId:function(){},setItemSource:function(){},onItemSelect:function(){},onItemSelectHistory:function(){}})},4030:function(e,t,n){"use strict";n.r(t);var r=n(4076),o=n(3),a=n.n(o),i=n(1),c=n(17),l=n(24),s=n(0);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.url,n=e.children,o=e.hoverButtonProps,a=Object(i.useCallback)((function(){c.default.serviceDiscover.toggleFavorite(t),null==o||null==o.onPress||o.onPress()}),[o,t]),u=Object(l.useAppSelector)((function(e){return e.discover.bookmarks})),f=null==u?void 0:u.some((function(e){return e.url===t}));return Object(s.jsx)(r.default,{hoverButtonProps:d(d({type:"plain",position:"absolute",zIndex:1,pt:0,pr:0,pb:0,pl:0,iconSize:16,leftIconName:f?"StarSolid":"StarOutline",iconColor:f?"icon-warning":"icon-default"},o),{},{onPress:a}),children:n})}},4041:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(270),i=n(160),c=n(92),l=n(576),s=n(50),u=n(15),d=n.n(u),f=n(11),b=n(1),j=n(0),p=["isTab","numberOfData"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){return Object(j.jsx)(f.default,{h:"4px"})};t.default=function(e){e.isTab;var t=e.numberOfData,n=d()(e,p),r=Object(s.default)(),o=new Array(t).fill(0),u=Object(b.useMemo)((function(){return r?{ItemSeparatorComponent:x}:{showDivider:!0}}),[r]);return Object(j.jsx)(a.default,m(m({data:o,renderItem:function(){return Object(j.jsxs)(c.default,{children:[Object(j.jsx)(c.default.Column,{children:Object(j.jsx)(l.default,{width:r?"56px":"40px",height:r?"56px":"40px",borderRadius:"12px"})}),Object(j.jsx)(c.default.Column,{flex:1,text:{label:Object(j.jsx)(i.default,{shape:"Body1"}),description:Object(j.jsx)(i.default,{shape:"Body2"})}}),Object(j.jsx)(c.default.Column,{children:Object(j.jsx)(f.default,{pb:{base:"24px",md:0},children:Object(j.jsx)(i.default,{shape:"Body1"})})})]})},keyExtractor:function(e,t){return""+t}},u),n))}},4042:function(e,t,n){e.exports=n.p+"static/media/lido_pool.3f0c026b.png"},4043:function(e,t,n){"use strict";n.r(t),n.d(t,"StakingTypes",(function(){return o})),n.d(t,"coingeckoId2StakingTypes",(function(){return j})),n.d(t,"getStakeSelectNetworkAccountFilter",(function(){return O})),n.d(t,"isAccountCompatibleWithStakingTypes",(function(){return m})),n.d(t,"isSupportStakingType",(function(){return x})),n.d(t,"getLidoTokenEvmAddress",(function(){return h})),n.d(t,"isSTETH",(function(){return g})),n.d(t,"fetchStEthRate",(function(){return v})),n.d(t,"buildWithdrawStEthTransaction",(function(){return w}));var r,o,a=n(2),i=n.n(a),c=n(113),l=n(35),s=n(17),u=n(4045),d=n(566),f=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],b=[];!function(e){e.eth="eth",e.matic="matic"}(o||(o={}));var j={ethereum:o.eth},p=((r={})[o.eth]=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],r[o.matic]=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],r),O=function(e){var t=p[e];if(t&&0!==t.length)return function(e){var n=e.network;return!!n&&t.includes(n.id)}},m=function(e,t){var n=p[t];return!(!n||0===n.length)&&n.some((function(t){return Object(c.isAccountCompatibleWithNetwork)(e,t)}))},x=function(e){var t=function(e){var t=e.tokenIdOnNetwork,n=e.networkId;return n?t?n+"--"+t:""+n:""}({networkId:e.networkId,tokenIdOnNetwork:e.tokenIdOnNetwork});return f.includes(t)?o.eth:b.includes(t)?o.matic:void 0},h=function(e,t){if(e)return e!==l.OnekeyNetwork.goerli||t?e!==l.OnekeyNetwork.eth||t?void 0:d.MainnetLidoContractAddress:d.TestnetLidoContractAddress},g=function(e,t){return!(!e||!t)&&(e===l.OnekeyNetwork.goerli&&t.toLowerCase()===d.TestnetLidoContractAddress.toLowerCase()||e===l.OnekeyNetwork.eth&&t.toLowerCase()===d.MainnetLidoContractAddress.toLowerCase())};function v(e){return y.apply(this,arguments)}function y(){return(y=i()((function*(e){var t=e.networkId,n=e.account,r=e.amount||"0.1",o=yield s.default.engine.getNativeTokenInfo(t),a=yield s.default.serviceStaking.getStEthToken({networkId:t}),i=yield s.default.engine.getNetwork(t),c={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address};return yield u.SwapQuoter.client.fetchQuote(c)}))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=i()((function*(e){var t=e.networkId,n=e.account,r=e.typedValue,o=yield s.default.engine.getNativeTokenInfo(t),a=yield s.default.serviceStaking.getStEthToken({networkId:t}),i=yield s.default.engine.getNetwork(t),c={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address},l=yield u.SwapQuoter.client.fetchQuote(c),d=null==l?void 0:l.data;if(!d)throw new Error("failed to build unstake params");return{params:c,quote:d}}))).apply(this,arguments)}},4058:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"DiscoverModalRoutes",(function(){return r})),function(e){e.SearchHistoryModal="SearchHistoryModal",e.ShareModal="ShareModal",e.DAppListModal="DAppListModal",e.EditBookmark="EditBookmark",e.History="History",e.Favorites="Favorites"}(r||(r={}))},4059:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(133),c=n(1),l=n(28),s=n(4357),u=n(26),d=n(0);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.children,n=Object(i.default)("text-default"),r=Object(i.default)("text-subdued"),o=Object(a.default)(),f=Object(i.default)("divider"),j=Object(c.useMemo)((function(){return l.default.create({body:b({color:r},o?u.Body1Props:u.Body2Props),paragraph:{marginVertical:4},heading1:b({marginTop:12,color:n},u.DisplayMediumProps),heading3:b({marginTop:24,marginBottom:4,color:n},u.DisplaySmallProps),list_item:{marginVertical:4,flexDirection:"row"},hr:{marginTop:24,marginBottom:12,backgroundColor:f,height:1}})}),[r,n,f,o]);return Object(d.jsx)(s.default,{mergeStyle:!1,style:j,children:t})}},4063:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"NFTMarketRoutes",(function(){return r})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(r||(r={}))},4064:function(e,t,n){"use strict";n.r(t),n.d(t,"useEvmWalletsAndAccounts",(function(){return h})),n.d(t,"useEnabledAccountDynamicAccounts",(function(){return g})),n.d(t,"usePriceAlertlist",(function(){return v})),n.d(t,"checkAccountCanSubscribe",(function(){return y}));var r=n(3),o=n.n(r),a=n(2),i=n.n(a),c=n(4),l=n.n(c),s=n(1),u=n(191),d=n(247),f=n(91),b=n(12),j=n(17),p=n(48);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){return[d.ADDRESS_ZERO,d.DUMMY_ADDRESS,d.DUMMY_ADDRESS_2,d.DUMMY_ADDRESS_3].includes(e)},h=function(){var e=j.default.engine,t=Object(s.useState)([]),n=l()(t,2),r=n[0],o=n[1],a=Object(p.useRuntime)().wallets,c=Object(s.useCallback)(i()((function*(){var t=yield Promise.all(a.map(function(){var t=i()((function*(t){var n,r=yield e.getAccounts(t.accounts);return m(m({},t),{},{accounts:null!=(n=null==r?void 0:r.filter((function(e){if(!e)return!1;var t=e||{},n=t.address,r=t.coinType;return!x(n)&&!!Object(u.isCoinTypeCompatibleWithImpl)(r,b.IMPL_EVM)})))?n:[]})}));return function(e){return t.apply(this,arguments)}}()));return o(t),t})),[e,a]);return Object(s.useEffect)((function(){c()}),[c]),{wallets:r,getWalletsAndAccounts:c}},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.useState)(!1),n=l()(t,2),r=n[0],o=n[1],a=j.default.serviceNotification,c=h(),u=c.wallets,d=c.getWalletsAndAccounts,f=Object(s.useState)([]),b=l()(f,2),p=b[0],O=b[1],m=Object(s.useCallback)(i()((function*(){var e=yield a.queryAccountDynamic();O(e)})),[a]),x=Object(s.useCallback)(i()((function*(){o(!0);try{yield m(),yield d()}finally{o(!1)}})),[m,d]);return Object(s.useEffect)((function(){e&&x()}),[x,e]),{loading:r,wallets:u,enabledAccounts:p,refresh:x}},v=function(){var e=j.default.serviceNotification,t=Object(s.useState)(!1),n=l()(t,2),r=n[0],o=n[1],a=Object(s.useState)([]),c=l()(a,2),u=c[0],d=c[1],f=Object(s.useCallback)(i()((function*(){o(!0);try{var t=yield e.queryPriceAlertList();d(t||[])}catch(n){}o(!1)})),[e]);return Object(s.useEffect)((function(){f()}),[f]),{alerts:u,loading:r,fetchPriceAlerts:f}},y=function(){var e=i()((function*(e,t){if(!e)return!1;var n=e||{},r=n.address,o=n.coinType;return!x(r)&&(!!Object(u.isCoinTypeCompatibleWithImpl)(o,b.IMPL_EVM)&&!(yield Object(f.makeTimeoutPromise)({asyncFunc:function(){var e=i()((function*(){return j.default.validator.isContractAddress(t,r)}));return function(){return e.apply(this,arguments)}}(),timeout:6e3,timeoutResult:!1})))}));return function(t,n){return e.apply(this,arguments)}}()},4074:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n(251),a=n(263),i=n(0),c=function(e){var t=e.children,n=e.footer,c=Object(a.default)().bottom;return c=0===c?20:c,Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.default,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),n?Object(i.jsx)(r.default,{mx:4,py:4,mb:c+"px",children:n}):null]})};c.defaultProps={},t.default=c},4076:function(e,t,n){"use strict";n.r(t),n.d(t,"AnimatedButton",(function(){return b}));var r=n(3),o=n.n(r),a=n(53),i=n(5170),c=n(214),l=n(182),s=n(917),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=c.default.createAnimatedComponent(a.default),j={code:"function anonymous(){const{isHovered}=this._closure;return{display:isHovered.value?'flex':'none',opacity:isHovered.value?1:0};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/HoverContainer/index.tsx"};t.default=function(e){var t=e.children,n=e.hoverButtonProps,r=Object(l.useSharedValue)(!1),o=Object(s.useAnimatedStyle)(function(){var e=function(){return{display:r.value?"flex":"none",opacity:r.value?1:0}};return e._closure={isHovered:r},e.__initData=j,e.__workletHash=0xbd90e3e89ab,e}(),[]);return Object(u.jsxs)(i.MotiPressable,{hoveredValue:r,children:[t,Object(u.jsx)(b,f({style:o},n))]})}},4078:function(e,t,n){"use strict";n.r(t);var r=n(335),o=n(3),a=n.n(o),i=n(11),c=n(40),l=n(20),s=n(123),u=n(50),d=n(1),f=n(665),b=n(89),j=n(24),p=n(35),O=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=[p.OnekeyNetwork.eth,p.OnekeyNetwork.bsc,p.OnekeyNetwork.optimism,p.OnekeyNetwork.polygon,p.OnekeyNetwork.arbitrum,p.OnekeyNetwork.avalanche];t.default=function(e){var t=e.tiggerProps,n=e.selectedNetwork,o=e.triggerSize,a=e.onChange,p=Object(b.default)(),m=Object(u.default)(),g=Object(j.useManageNetworks)().enabledNetworks,v=Object(d.useMemo)((function(){return g?g.filter((function(e){return h.includes(e.id)})).map((function(e){return{title:e.shortName,label:e.name,value:e,tokenProps:{token:{logoURI:null==e?void 0:e.logoURI,name:null==e?void 0:e.name}}}})):[]}),[g]);return Object(O.jsx)(i.default,{children:Object(O.jsx)(r.default,{title:p.formatMessage({id:"network__network"}),dropdownPosition:"right",dropdownProps:m?{}:{minW:"240px"},headerShown:!1,options:v,isTriggerPlain:!0,activatable:!0,footer:null,onChange:a,renderTrigger:function(e){var r=e.isHovered,a=e.isPressed;return Object(O.jsx)(i.default,x(x({m:"-8px"},t),{},{children:Object(O.jsxs)(f.default,{alignItems:"center",p:"8px",bgColor:a?"surface-pressed":r?"surface-hovered":"transparent",borderRadius:"xl",children:[Object(O.jsx)(s.default,{size:"lg"===o?"24px":"20px",token:{logoURI:null==n?void 0:n.logoURI}}),!m&&Object(O.jsx)(l.default,{ml:"8px",typography:"Body2Strong",children:null==n?void 0:n.name}),Object(O.jsx)(i.default,{ml:"4px",children:Object(O.jsx)(c.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}))}})})}},4079:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(15),i=n.n(a),c=n(20),l=n(101),s=n(0),u=["text","short","prefix"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.text,n=e.short,r=e.prefix,o=i()(e,u),a=t;return n&&(a=Object(l.shortenAddress)(a)),Object(s.jsxs)(c.default,f(f({},o),{},{children:[!!r&&r,a]}))};b.displayName="Address",b.defaultProps={short:!1},t.default=b},4081:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"GasPanelRoutes",(function(){return r})),function(e){e.GasPanelModal="GasPanelModal"}(r||(r={}))},4082:function(e,t,n){"use strict";n.r(t),n.d(t,"DesktopDragZoneAbsoluteBar",(function(){return o}));var r=n(1),o=(n(0),r.Fragment);t.default=r.Fragment},4083:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(133),i=n(50),c=n(15),l=n.n(c),s=n(1),u=n(28),d=n(41),f=n(963),b=n(11),j=n(78),p=n(107),O=n(687),m=n(0),x=function(e){var t=e.navigation,n=void 0===t?Object(p.getAppNavigation)():t,r=Object(i.default)();return Object(m.jsx)(j.default,{type:"plain",size:"lg",name:r?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){null!=n&&n.canGoBack()?null==n||n.goBack():O.navigationShortcuts.navigateToHome()},circle:!0})},h=n(4),g=n.n(h),v=n(89),y=n(20),w=function(e){var t=e.title,n=e.subtitle,r=e.i18nTitle,o=e.i18nSubtitle,a=e.inCenter,c=void 0===a||a,l=e.children,d=Object(i.default)(),f=Object(v.default)(),j=Object(s.useMemo)((function(){return[r?f.formatMessage({id:r}):t,o?f.formatMessage({id:o}):n]}),[r,f,t,o,n]),p=g()(j,2),O=p[0],x=p[1],h=Object(s.useMemo)((function(){return Object(m.jsxs)(b.default,{flex:1,justifyContent:"center",alignItems:c?"center":"flex-start",style:u.default.absoluteFill,zIndex:-1,children:[l,!!O&&Object(m.jsx)(y.default,{typography:c?"Heading":"PageHeading",children:O}),!!x&&Object(m.jsx)(y.default,{typography:"Caption",color:"text-subdued",children:x})]})}),[l,c,x,O]),w=Object(s.useMemo)((function(){return Object(m.jsxs)(b.default,{flex:1,flexDirection:"row",alignItems:"baseline",children:[l,!!O&&Object(m.jsx)(y.default,{typography:"Heading",children:O}),!!x&&Object(m.jsx)(y.default,{typography:"Body2",ml:"12px",color:"text-subdued",children:x})]})}),[l,x,O]);return d?h:w},k=["headerLeft","headerRight","headerTitle","safeTop","alwaysShowBackButton","style","navigation","options","route","back"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=u.default.create({content:{flex:1,flexDirection:"row",alignItems:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});t.default=function(e){var t=e.headerLeft,n=e.headerRight,r=e.headerTitle,o=e.safeTop,c=e.alwaysShowBackButton,j=e.style,p=e.navigation,O=e.options,h=void 0===O?{}:O,g=e.route,v=e.back,y=l()(e,k),_=Object(f.useSafeAreaInsets)(),C=Object(i.default)(),P=Object(a.default)("background-default"),M=C?56:64,A=Boolean(v||c||t),T=Object(s.useMemo)((function(){if(r)return Object(m.jsx)(w,{inCenter:A,children:r()});if("function"===typeof h.headerTitle)return Object(m.jsx)(w,{inCenter:A,children:h.headerTitle()});var e=h,t=S({title:e.title,i18nTitle:e.i18nTitle,subtitle:e.subtitle,i18nSubtitle:e.i18nSubtitle},y);return Object(m.jsx)(w,S({inCenter:A},t))}),[A,r,y,h]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.default,{pointerEvents:"box-none",style:[u.default.absoluteFill,{zIndex:0,backgroundColor:P}]}),Object(m.jsx)(d.default,{testID:"App-General-Nav-Header--"+((null==g?void 0:g.name)||""),pointerEvents:"box-none",style:[{height:M,marginTop:null!=o?o:_.top,backgroundColor:P},j],children:Object(m.jsxs)(d.default,{pointerEvents:"box-none",style:[I.content,{marginHorizontal:C?16:32}],children:[Object(m.jsxs)(d.default,{pointerEvents:"box-none",style:[I.left,{marginStart:_.left}],children:[(!!v||c)&&Object(m.jsx)(b.default,{ml:"-6px",mr:"8px",children:Object(m.jsx)(x,{navigation:p})}),t?t():null==h.headerLeft?void 0:h.headerLeft()]}),T,Object(m.jsx)(d.default,{pointerEvents:"box-none",style:[I.right,I.expand,{marginEnd:_.right}],children:n?n():null==h.headerRight?void 0:h.headerRight()})]})})]})}},4119:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(11),i=n(40),c=n(20),l=n(50),s=n(15),u=n.n(s),d=n(1),f=n(679),b=n(0),j=["backupTime","numOfHDWallets","numOfImportedAccounts","numOfWatchingAccounts","numOfContacts","size"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.backupTime,n=e.numOfHDWallets,r=e.numOfImportedAccounts,o=e.numOfWatchingAccounts,s=e.numOfContacts,p=e.size,m=u()(e,j),x=Object(l.default)(),h=Object(f.default)(),g=Object(d.useMemo)((function(){return[{iconName:"WalletOutline",count:n},{iconName:"InboxArrowDownOutline",count:r},{iconName:"EyeOutline",count:o},{iconName:"BookOpenOutline",count:s}]}),[s,n,r,o]);return Object(b.jsxs)(a.default,O(O({alignItems:"heading"===p&&x?"center":void 0},m),{},{children:[Object(b.jsx)(c.default,{typography:"heading"===p?"PageHeading":"Body1Strong",children:h.format(new Date(t),"MMM d, yyyy, HH:mm")}),Object(b.jsx)(a.default,{flexDirection:"row",mt:"heading"===p?3:1,mx:-3,flexWrap:"wrap",children:g.map((function(e,t){return Object(b.jsxs)(a.default,{flexDirection:"row",mx:3,children:[Object(b.jsx)(i.default,{name:e.iconName,size:20,color:"icon-subdued"}),Object(b.jsx)(c.default,{typography:"Body2",color:"text-subdued",pl:2,children:e.count})]},t)}))})]}))}},4122:function(e,t,n){"use strict";n.r(t),n.d(t,"Chains",(function(){return s}));var r=n(11),o=n(98),a=n(49),i=n(40),c=n(24),l=n(0),s=function(e){var t=e.networkIds,n=Object(c.useAppSelector)((function(e){return e.runtime.networks})).filter((function(e){return null==t?void 0:t.includes(e.id)}));return Object(l.jsx)(r.default,{flexDirection:"row",children:null==n?void 0:n.map((function(e,t){return Object(l.jsx)(r.default,{ml:t>0?-1:0,children:Object(l.jsx)(o.default,{size:4,borderRadius:"full",src:e.logoURI,fallbackElement:Object(l.jsx)(a.default,{width:4,height:4,borderRadius:"full",bg:"background-selected",children:Object(l.jsx)(i.default,{name:"QuestionMarkOutline"})})})},e.id)}))})}},4123:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(4079),i=n(11),c=n(26),l=n(0);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.name,n=e.address,r=e.amount,o=e.priorityAmount,s=e.notShowAddress,d=e.containerProps,f=void 0===d?{}:d,b=e.color,j=null,p=!1,O=!1;null!=t?j=t:null==n||s||(p=!0);var m=null;return o||p||!n||s?(null!=j||p)&&(m=null!=r?r:null):O=!0,Object(l.jsx)(i.default,u(u({alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},f),{},{children:!!(j||m||p||O)&&Object(l.jsxs)(i.default,{children:[!(!j&&!p)&&(p?Object(l.jsx)(a.default,{typography:"Body2Strong",text:n,short:!0,color:b||"text-default"}):Object(l.jsx)(c.default.Body2Strong,{color:b||"text-default",isTruncated:!0,children:j})),!(!m&&!O)&&(O?Object(l.jsx)(a.default,{color:b||"text-subdued",typography:"Body2",text:n,short:!0}):Object(l.jsx)(c.default.Body2,{color:b||"text-subdued",children:m}))]})}))};d.defaultProps={avatarSize:"md",hiddenAvatar:!1},t.default=d},4125:function(e,t,n){"use strict";n.r(t),n.d(t,"OverlayPanel",(function(){return g}));var r=n(50),o=n(1611),a=n(11),i=n(3),c=n.n(i),l=n(57),s=n(263),u=n(133),d=n(1),f=n(873),b=n(1649),j=n(335),p=n(0);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.closeOverlay,n=e.modalProps,r=e.children,o=e.modalLizeProps,a=Object(d.useRef)(null),i=Object(u.default)("surface-subdued"),c=Object(s.default)().bottom;return Object(d.useEffect)((function(){setTimeout((function(){var e;return null==(e=a.current)?void 0:e.open()}),10)}),[]),Object(p.jsx)(f.Modalize,m(m({ref:a,onClosed:t,closeOnOverlayTap:!0,adjustToContentHeight:!0,withHandle:!1,modalStyle:{backgroundColor:i,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"}},o),{},{children:Object(p.jsx)(l.default,m(m({visible:!0,footer:null,closeAction:t,staticChildrenProps:{padding:"8px",paddingBottom:c+8+"px"}},n),{},{children:r}))}))},h=function(e){var t=e.closeOverlay,n=e.children,r=e.triggerEle,i=e.dropdownStyle,c=e.useDropdownProps,l=Object(d.useRef)(),s=Object(b.useDropdownPosition)(m({contentRef:l,triggerEle:r,visible:!0,translateY:2,dropdownPosition:"right",autoAdjust:!1},c)),u=s.position,f=s.toPxPositionValue,O=s.isPositionNotReady;return Object(p.jsxs)(a.default,{position:"absolute",w:"full",h:"full",children:[Object(p.jsx)(j.CloseBackDrop,{onClose:t}),Object(p.jsx)(o.default,{visible:!O,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:2,transition:{duration:150}},children:Object(p.jsx)(a.default,m(m({overflow:"hidden",bg:"surface-subdued",position:"absolute",w:"240px",p:"4px",borderRadius:"12px",borderWidth:1,borderColor:"border-subdued",ref:l,left:f(u.left),right:f(u.right),top:f(u.top),bottom:f(u.bottom)},i),{},{children:n}))})]})},g=function(e){return Object(r.default)()?Object(p.jsx)(x,m({},e)):Object(p.jsx)(h,m({},e))}},4174:function(e,t,n){"use strict";n.r(t),n.d(t,"gteIgnore",(function(){return i})),n.d(t,"gtIgnore",(function(){return c})),n.d(t,"lteIgnore",(function(){return l})),n.d(t,"ltIgnore",(function(){return s}));var r=n(313),o=n.n(r);function a(e,t,n,r){var a=o.a.parse(e),i=o.a.parse(t);if(null===a||null===i)return!1;if("major"===n)throw new Error("major is not supported");return"minor"===n&&(a.minor=0,i.minor=0),"minor"!==n&&"patch"!==n||(a.patch=0,i.patch=0),r(a.format(),i.format())}var i=function(e,t,n){return a(e,t,n,o.a.gte)},c=function(e,t,n){return a(e,t,n,o.a.gt)},l=function(e,t,n){return a(e,t,n,o.a.lte)},s=function(e,t,n){return a(e,t,n,o.a.lt)}},4175:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(16),o=n(107);function a(){var e=Object(o.default)();return{requestBackupPassword:function(t,n,o,a){e.navigate(r.RootRoutes.Modal,{screen:r.ModalRoutes.ImportBackupPassword,params:{screen:r.ImportBackupPasswordModalRoutes.ImportBackupPassword,params:{withPassword:t,onSuccess:n,onError:o,onCancel:a}}})}}}},4176:function(e,t,n){"use strict";n.r(t),n.d(t,"GroupedBackupDetails",(function(){return Y})),n.d(t,"checkHasRemoteData",(function(){return X}));var r=n(75),o=n(112),a=n(45),i=n(2),c=n.n(i),l=n(50),s=n(53),u=n(15),d=n.n(u),f=n(3),b=n.n(f),j=n(4),p=n.n(j),O=n(40),m=n(11),x=n(49),h=n(20),g=n(1),v=n(42),y=n(706),w=n.n(y),k=n(89),_=n(28),S=n(504),I=n(1101),C=n(4174),P=n(17),M=n(24),A=n(48),T=n(4175),D=n(1089),R=n(231),E=n(16),B=n(90),N=n(4177),L=n(4119),W=n(4178),z=n(4074),H=n(0),F=["size","ready","onImport","onDelete"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t,n=e.name,r=e.avatar,o=e.accountUUIDs,a=Object(k.default)();return Object(H.jsxs)(m.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(H.jsx)(x.default,{rounded:"full",size:"8",bgColor:null!=(t=null==r?void 0:r.bgColor)?t:"surface-neutral-default",children:null!=r&&r.emoji?Object(H.jsx)(h.default,{typography:"DisplayMedium",children:r.emoji}):void 0}),Object(H.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(H.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"form__str_accounts"},{count:o.length})})]})},q=function(e){var t=e.iconName,n=e.name,r=e.address;return Object(H.jsxs)(m.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(H.jsx)(x.default,{rounded:"full",size:"8",bgColor:"surface-neutral-default",children:Object(H.jsx)(O.default,{name:t,size:20,color:"icon-default"})}),Object(H.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(H.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:r})]})},Y=function(e){var t,n,r=e.onDevice,o=e.showTitle,a=void 0===o||o,i=e.publicBackupData,c=Object(k.default)(),l=Object.entries(i.HDWallets).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),s=Object.entries(i.importedAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),u=Object.entries(i.watchingAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),d=Object.entries(i.contacts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),f=null==i||null==(t=i.simpleDb)||null==(n=t.utxoAccounts)?void 0:n.utxos;return Object(H.jsxs)(m.default,{my:4,mx:12,children:[a&&Object(H.jsx)(h.default,{typography:"Heading",pb:"4",children:c.formatMessage({id:r?"content__active_on_this_device":"content__not_on_this_device"})}),l.map((function(e){var t=e.uuid,n=e.name,r=e.avatar,o=e.accountUUIDs;return Object(H.jsx)(G,{name:n,avatar:r,accountUUIDs:o},t)})),s.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(H.jsx)(q,{iconName:"InboxArrowDownOutline",name:n,address:r},t)})),u.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(H.jsx)(q,{iconName:"EyeOutline",name:n,address:r},t)})),d.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(H.jsx)(q,{iconName:"BookOpenOutline",name:n,address:r},t)})),null!=f&&f.length?Object(H.jsx)(q,{iconName:"TagOutline",name:c.formatMessage({id:"form__utxo_label"}),address:c.formatMessage({id:"content__int_items"},{0:null==f?void 0:f.length})}):null]})},K=function(e){var t=e.size,n=e.ready,r=e.onImport,o=e.onDelete,a=d()(e,F),i=Object(k.default)();return Object(H.jsxs)(m.default,V(V({flexDirection:"row"},a),{},{children:["undefined"===typeof r||n?void 0:Object(H.jsx)(s.default,{onPress:r,type:"primary",size:t,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__import"})}),"undefined"===typeof o||n?void 0:Object(H.jsx)(s.default,{onPress:o,type:"destructive",size:t,ml:4,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__delete"})})]}))};function X(e){var t,n;return!(null==e||null==(t=e.simpleDb)||null==(n=t.utxoAccounts)||!n.utxos.length)||Object.entries(e).filter((function(e){var t=p()(e,2),n=t[0],r=t[1];return"simpleDb"!==n&&Object.keys(r).length>0})).length>0}t.default=function(e){var t=e.onboarding,n=void 0!==t&&t,i=Object(k.default)(),s=Object(l.default)(),u=Object(M.useNavigation)(),d=Object(v.useRoute)(),f=Object(A.useAppSelector)((function(e){return e.settings.version})),b=Object(A.useData)().isPasswordSet,j=P.default.serviceCloudBackup,O=Object(D.default)().showVerify,x=Object(T.default)().requestBackupPassword,h=Object(R.useOnboardingDone)();Object(g.useLayoutEffect)((function(){var e=i.formatMessage({id:"title__backup_details"});u.setOptions({title:e})}),[u,i]);var y=d.params,w=y.backupUUID,F=y.backupTime,U=y.numOfHDWallets,V=y.numOfImportedAccounts,G=y.numOfWatchingAccounts,q=y.numOfContacts,Q=Object(g.useState)(!0),Z=p()(Q,2),J=Z[0],$=Z[1],ee=Object(g.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}}}),te=p()(ee,2),ne=te[0],re=te[1],oe=Object(g.useState)(!1),ae=p()(oe,2),ie=ae[0],ce=ae[1],le=Object(g.useState)(),se=p()(le,2),ue=se[0],de=se[1],fe=Object(g.useState)(!1),be=p()(fe,2),je=be[0],pe=be[1],Oe=Object(g.useCallback)((function(){return void 0===ue||(!ue||!Object(C.gtIgnore)(ue,f,"patch"))}),[f,ue]);Object(g.useEffect)((function(){j.getBackupDetails(w).then((function(e){var t=e.backupDetails,n=e.appVersion;de(n),re(t),ce(Object.values(t.alreadyOnDevice).some((function(e){return Object.keys(e).length>0}))),pe(X(t.notOnDevice)),$(!1)}))}),[$,j,w]);var me=Object(g.useCallback)(c()((function*(){a.default.show({title:i.formatMessage({id:"msg__backup_imported"})}),n?yield h({delay:200}):(null==u||u.popToTop(),null==u||u.navigate(E.RootRoutes.Main,{screen:E.MainRoutes.Tab,params:{screen:E.TabRoutes.Home}}))})),[i,n,h,u]),xe=Object(g.useCallback)((function(){a.default.show({title:i.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),u.goBack()}),[i,u]),he=Object(g.useCallback)((function(){!1!==Oe()?b?O((function(e){j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e}).then((function(t){t===I.RestoreResult.SUCCESS?me():t===I.RestoreResult.WRONG_PASSWORD?x((function(t){return j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:t})}),me,xe):xe()}))}),(function(){})):x((function(e){return j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:e})}),me,xe):Object(W.showUpgrateDialog)()}),[b,Oe,O,j,w,ne.notOnDevice,me,x,xe]),ge=Object(g.useCallback)((function(){Object(B.showOverlay)((function(e){return Object(H.jsx)(o.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__delete",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"destructive",onPromise:function(){var t=c()((function*(){yield j.removeBackup(w),e(),u.pop(2)}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconType:"danger",title:i.formatMessage({id:"dialog__delete_backup"}),content:i.formatMessage({id:"dialog__delete_backup_desc"},{cloudName:Object(S.backupPlatform)().cloudName})}})}))}),[w,i,u,j]);return Object(H.jsxs)(z.default,{footer:s?Object(H.jsx)(K,{ready:J,onImport:je?he:void 0,onDelete:n?void 0:ge,size:"xl",position:"absolute",bottom:0}):void 0,children:[Object(H.jsxs)(m.default,{flexDirection:s?"column":"row",alignItems:"center",children:[Object(H.jsx)(m.default,{mb:{base:6,sm:0},mr:{sm:6},children:Object(H.jsx)(N.default,{size:"lg",enabled:!0})}),Object(H.jsx)(L.default,{backupTime:F,numOfHDWallets:U,numOfImportedAccounts:V,numOfWatchingAccounts:G,numOfContacts:q,size:"heading"}),s?void 0:Object(H.jsx)(K,{ready:J,onImport:je?he:void 0,onDelete:n?void 0:ge,size:"base",ml:"auto"})]}),Object(H.jsx)(m.default,{borderBottomWidth:_.default.hairlineWidth,borderBottomColor:"divider",mt:{base:6,sm:8},mb:{base:2,sm:4}}),J?Object(H.jsx)(r.default,{size:"lg"}):Object(H.jsxs)(m.default,{flexDirection:s?"column":"row",mx:-12,children:[ie?Object(H.jsx)(Y,{onDevice:!0,publicBackupData:ne.alreadyOnDevice}):void 0,je?Object(H.jsx)(Y,{onDevice:!1,publicBackupData:ne.notOnDevice}):void 0]})]})}},4177:function(e,t,n){"use strict";n.r(t);var r=n(49),o=n(40),a=n(0);t.default=function(e){var t=e.enabled,n=e.size;return Object(a.jsx)(r.default,{rounded:"full",size:"lg"===n?"56px":"48px",bgColor:"surface-"+(t?"success":"warning")+"-subdued",children:Object(a.jsx)(o.default,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},4178:function(e,t,n){"use strict";n.r(t),n.d(t,"showUpgrateDialog",(function(){return f}));var r=n(112),o=n(45),a=n(2),i=n.n(a),c=n(89),l=n(1371),s=n(90),u=n(0);function d(e){var t=e.onClose,n=Object(c.default)();return Object(u.jsx)(r.default,{visible:!0,onClose:t,footerButtonProps:{primaryActionTranslationId:"action__upgrade",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary",onPromise:function(){var e=i()((function*(){try{var e=yield l.default.getPackageInfo();e&&(l.default.openAppUpdate({package:e}),null==t||t())}catch(r){o.default.show({title:n.formatMessage({id:"msg__network_request_failed"})})}}));return function(){return e.apply(this,arguments)}}()}},contentProps:{iconType:"info",title:n.formatMessage({id:"dialog__import_data_upgrade_required"}),content:n.formatMessage({id:"dialog__import_data_upgrade_required_desc"})}})}var f=function(){Object(s.showDialog)(Object(u.jsx)(d,{}))}},4182:function(e,t,n){"use strict";n.r(t),n.d(t,"ListEmptyComponent",(function(){return l}));var r=n(194),o=n(49),a=n(75),i=n(89),c=n(0),l=function(e){var t=e.isLoading,n=e.symbol,l=e.desc,s=Object(i.default)();if(t)return Object(c.jsx)(o.default,{w:"full",h:"20",children:Object(c.jsx)(a.default,{size:"lg"})});var u=n?s.formatMessage({id:"title__no_alert_desc"},{0:n}):"";return Object(c.jsx)(o.default,{w:"full",h:"full",children:Object(c.jsx)(r.default,{emoji:"\ud83d\udd14",title:s.formatMessage({id:"title__no_alert"}),subTitle:l||u})})}},4183:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"PushNotificationRoutes",(function(){return r})),function(e){e.GuideToPushFirstTime="GuideToPushFirstTime"}(r||(r={}))},4185:function(e,t,n){"use strict";n.r(t),n.d(t,"Options",(function(){return l}));var r=n(60),o=n(26),a=n(11),i=n(98),c=n(0),l=function(e){var t=e.title,l=e.subtitle,s=e.logo,u=e.num,d=e.onPress;return Object(c.jsxs)(r.default,{onPress:d,bg:"surface-default",px:"4",py:"3",flexDirection:"row",justifyContent:"space-between",borderRadius:12,children:[Object(c.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[Object(c.jsxs)(a.default,{mr:"3",position:"relative",children:[Object(c.jsx)(a.default,{w:"10",h:"10",borderRadius:"full",overflow:"hidden",children:Object(c.jsx)(i.default,{w:"10",h:"10",source:n(4186)})}),Object(c.jsx)(a.default,{w:"5",h:"5",background:"surface-subdued",flexDirection:"row",justifyContent:"center",alignItems:"center",borderRadius:"full",position:"absolute",bottom:"-1",right:"-1",children:Object(c.jsx)(i.default,{w:"4",h:"4",source:s})})]}),Object(c.jsxs)(a.default,{children:[Object(c.jsx)(o.default.Body1Strong,{children:t}),Object(c.jsx)(o.default.Body2,{color:"text-subdued",children:l})]})]}),Object(c.jsx)(a.default,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:Object(c.jsx)(o.default.Body1Strong,{color:"text-success",children:u})})]})}},4186:function(e,t,n){e.exports=n.p+"static/media/eth_logo.ff687f08.png"},4187:function(e,t,n){"use strict";n.r(t),n.d(t,"SwapTransactionsCancelApprovalBottomSheetModal",(function(){return d}));var r=n(484),o=n(38),a=n(53),i=n(49),c=n(26),l=n(1),s=n(89),u=n(0),d=function(e){var t=e.close,n=e.onSubmit,d=Object(s.default)(),f=Object(l.useCallback)((function(){t(),n()}),[t,n]);return Object(u.jsxs)(r.default,{closeOverlay:t,title:"",showHeader:!1,children:[Object(u.jsx)(i.default,{h:"16",children:Object(u.jsx)(c.default.Heading,{fontSize:60,children:" \u2139\ufe0f "})}),Object(u.jsx)(c.default.DisplayMedium,{mt:"4",children:d.formatMessage({id:"msg__need_to_send_str_transactions_to_change_allowance"},{0:"2"})}),Object(u.jsx)(c.default.Body1,{color:"text-subdued",my:"4",children:d.formatMessage({id:"msg__modifying_the_authorized_limit_of_usdt_requires_resetting_it_to_zero_first_so_two_authorization_transactions_may_be_initiated"})}),Object(u.jsxs)(o.default,{flexDirection:"row",space:"4",children:[Object(u.jsx)(a.default,{size:"xl",type:"basic",onPress:t,flex:"1",children:d.formatMessage({id:"action__cancel"})}),Object(u.jsx)(a.default,{size:"xl",type:"primary",onPress:f,flex:"1",children:d.formatMessage({id:"action__confirm"})})]})]})}},4190:function(e,t,n){"use strict";n.r(t);t.default=function(e){}},4192:function(e,t,n){"use strict";n.r(t),n.d(t,"showMarketCellMoreMenu",(function(){return x}));var r=n(11),o=n(20),a=n(40),i=n(45),c=n(50),l=n(1),s=n(89),u=n(791),d=n(17),f=n(271),b=n(90),j=n(4125),p=n(4024),O=n(0),m=function(e){var t=e.closeOverlay,n=e.token,b=Object(s.default)(),j=Object(p.useMarketSelectedCategoryId)(),m=Object(c.default)(),x=Object(l.useMemo)((function(){var e={id:b.formatMessage({id:"action__remove_from_favorites"}),onPress:function(){d.default.serviceMarket.cancelMarketFavoriteToken(n.coingeckoId),i.default.show({title:b.formatMessage({id:"msg__removed"})})},icon:"TrashMini",textColor:"text-critical",iconColor:"icon-critical"};return j&&j===f.MARKET_FAVORITES_CATEGORYID?[e,{id:b.formatMessage({id:"action__move_to_top"}),onPress:function(){d.default.serviceMarket.moveTopMarketFavoriteToken(n.coingeckoId)},icon:"ArrowUpMini"}]:n.favorited?[e]:[{id:b.formatMessage({id:"action__add_to_favorites"}),onPress:function(){d.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:n.coingeckoId,symbol:n.symbol}]),i.default.show({title:b.formatMessage({id:"msg__added_to_favorites"})})},icon:"StarOutline"}]}),[b,j,n.favorited,n.coingeckoId,n.symbol]);return Object(O.jsx)(r.default,{children:x.map((function(e){var n=e.id,r=e.onPress,i=e.icon,c=e.textColor,l=e.iconColor;return Object(O.jsxs)(u.default,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12px",onPress:function(){t(),r()},children:[Object(O.jsx)(a.default,{size:m?24:20,name:i,color:null!=l?l:"icon-default"}),Object(O.jsx)(o.default,{typography:m?"Body1Strong":"Body2Strong",ml:"12px",color:null!=c?c:"text-default",children:n})]},n)}))})},x=function(e,t,n){return Object(b.showOverlay)((function(r){return Object(O.jsx)(j.OverlayPanel,{triggerEle:n,closeOverlay:r,modalProps:t,useDropdownProps:{autoAdjust:!0},children:Object(O.jsx)(m,{closeOverlay:r,token:e})})}))}},4193:function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=Object(r.createContext)(void 0)},4195:function(e,t,n){"use strict";n.r(t);var r,o,a=n(50),i=n(4),c=n.n(i),l=n(1),s=n(42),u=n(17),d=n(25),f=n(4027),b=n(0);d.default.isNativeIOSPad&&(o=n(4587).Desktop);t.default=function(e){var t=e.onItemSelect,i=e.onItemSelectHistory;Object(s.useFocusEffect)(Object(l.useCallback)((function(){u.default.serviceDiscover.fetchData(),u.default.serviceTranslation.fetchData()}),[]));var d=Object(l.useState)(""),j=c()(d,2),p=j[0],O=j[1],m=Object(a.default)();m&&!r?r=n(5322).Mobile:m||o||(o=n(4587).Desktop);var x=Object(l.useState)("Favorites"),h=c()(x,2),g=h[0],v=h[1],y=Object(l.useMemo)((function(){return{categoryId:p,setCategoryId:O,itemSource:g,setItemSource:v,onItemSelect:t,onItemSelectHistory:i}}),[p,g,t,i]);return Object(b.jsx)(f.DiscoverContext.Provider,{value:y,children:m?Object(b.jsx)(r,{}):Object(b.jsx)(o,{})})}},4199:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),a=n(50),i=n(133),c=n(1),l=n(44),s=n(336),u=n(4359),d=n(0),f=function(){var e=Object(c.useRef)(new l.default.Value(0)).current,t=Object(i.default)("interactive-default"),n=Object(a.default)();return Object(c.useEffect)((function(){l.default.loop(l.default.sequence([l.default.timing(e,{toValue:1,duration:300,useNativeDriver:!0}),l.default.timing(e,{toValue:0,duration:300,useNativeDriver:!0})])).start()}),[e]),Object(d.jsx)(l.default.View,{style:{width:32,height:n?48:56,borderBottomWidth:4,borderBottomColor:t,opacity:e}})},b=function(e){var t=e.children,n=e.onTypingEnd,r=e.isPending,s=void 0===r||r,b=e.isFadeOut,j=Object(c.useRef)(new l.default.Value(1)).current,p=Object(a.default)();Object(c.useEffect)((function(){if(b){var e=l.default.timing(j,{toValue:.3,duration:300,useNativeDriver:!1});setTimeout((function(){e.start()}),150)}}),[b,j]);var O=Object(c.useState)(!1),m=o()(O,2),x=m[0],h=m[1];Object(c.useEffect)((function(){s||setTimeout((function(){h(!0)}),650)}),[s]);var g=Object(i.default)("text-default"),v=Object(c.useMemo)((function(){return t}),[]);return Object(d.jsx)(l.default.View,{style:{minHeight:p?48:56,opacity:j},children:x?Object(d.jsx)(u.default,{typing:1,style:{color:g,fontSize:p?42:48,lineHeight:p?48:56,fontWeight:"bold"},initialDelay:0,minDelay:12,maxDelay:12,onTypingEnd:n,children:v}):Object(d.jsx)(f,{})})};b.Highlight=function(e){var t=e.children,n=Object(i.default)("interactive-default");return Object(d.jsx)(s.default,{style:{color:n},children:t})},b.NormalText=function(e){var t=e.children,n=Object(i.default)("text-default");return Object(d.jsx)(s.default,{style:{color:n},children:t})};var j=b;t.default=j},4202:function(e,t){},4311:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(20),i=n(49),c=n(75),l=n(2),s=n.n(l),u=n(4),d=n.n(u),f=n(60),b=n(11),j=n(40),p=n(1),O=n(89),m=n(28),x=n(17),h=n(24),g=n(16),v=n(4119),y=n(4074),w=n(0);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=function(e){var t=e.backupUUID,n=e.backupTime,r=e.numOfHDWallets,o=e.numOfImportedAccounts,a=e.numOfWatchingAccounts,i=e.numOfContacts,c=Object(h.useNavigation)();return Object(w.jsxs)(f.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:2,mt:2,rounded:"xl",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){c.navigate(g.HomeRoutes.CloudBackupDetails,{backupUUID:t,backupTime:n,numOfHDWallets:r,numOfImportedAccounts:o,numOfWatchingAccounts:a,numOfContacts:i})},children:[Object(w.jsx)(v.default,{backupTime:n,numOfHDWallets:r,numOfImportedAccounts:o,numOfWatchingAccounts:a,numOfContacts:i,size:"normal"}),Object(w.jsx)(b.default,{children:Object(w.jsx)(j.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})};t.default=function(){var e=Object(O.default)(),t=Object(h.useNavigation)(),n=x.default.serviceCloudBackup;Object(p.useLayoutEffect)((function(){var n=e.formatMessage({id:"content__previous_backups"});t.setOptions({title:n})}),[t,e]);var r=Object(p.useState)(!0),l=d()(r,2),u=l[0],f=l[1],g=Object(p.useState)([]),v=d()(g,2),S=v[0],I=v[1];return Object(p.useEffect)((function(){(function(){var e=s()((function*(){I(yield n.getPreviousBackups()),f(!1)}));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(w.jsx)(y.default,{children:u?Object(w.jsx)(i.default,{py:16,children:Object(w.jsx)(c.default,{size:"lg"})}):Object(w.jsx)(w.Fragment,{children:S.map((function(e,t){return Object(w.jsxs)(b.default,{children:[0!==t?Object(w.jsx)(b.default,{borderBottomWidth:m.default.hairlineWidth,borderBottomColor:"divider",my:6,bgColor:"divider"}):null,Object(w.jsxs)(b.default,{flexDirection:"row",children:[Object(w.jsx)(j.default,{name:"iPadOS"===e[0].deviceInfo.osName?"DeviceTabletOutline":"DeviceMobileOutline",size:20}),Object(w.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",ml:2,children:e[0].deviceInfo.deviceName})]}),Object(w.jsx)(b.default,{mx:-2,children:e.map((function(e){return Object(w.jsx)(_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.backupUUID)}))})]},t)}))})})}},4318:function(e,t,n){"use strict";n.r(t),n.d(t,"keyExtractor",(function(){return _}));var r=n(3),o=n.n(r),a=n(60),i=n(38),c=n(20),l=n(11),s=n(195),u=n(678),d=n(420),f=n(50),b=n(15),j=n.n(b),p=n(1),O=n(342),m=n(111),x=n(196),h=n(1640),g=n(487),v=n(0),y=["onSelect","data"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n=e.data;return n.contractAddress&&n.tokenId?n.contractAddress+n.tokenId:n.tokenAddress?n.tokenAddress:"NFTAsset "+t}t.default=Object(p.memo)((function(e){var t,n,r,o=e.onSelect,b=e.data,w=j()(e,y),_=Object(f.default)(),S=Object(d.default)().screenWidth,I=_?16:20,C=_?8:12,P=_?S:Math.min(O.MAX_PAGE_CONTAINER_WIDTH,S-224),M=_?Math.floor((P-3*I)/2):177,A=Object(u.default)().themeVariant,T=b.latestTradePrice,D=Object(x.useTokenPrice)({networkId:null!=(t=b.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"}),R=(null!=D?D:0)*(null!=T?T:0),E=Object(p.useMemo)((function(){return null!=b&&b.amount&&Number(null==b?void 0:b.amount)>1&&"erc1155"===b.ercType?Object(v.jsx)(s.default,{position:"absolute",right:"8px",bottom:"8px",title:"X "+Object(h.convertToMoneyFormat)(b.amount),size:"sm",type:"default"}):null}),[null==b?void 0:b.amount,b.ercType]);return Object(v.jsx)(l.default,k(k({mb:"16px"},w),{},{children:Object(v.jsxs)(a.default,{flexDirection:"column",bgColor:"surface-default",padding:C+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===A?1:void 0,width:M,_hover:{bg:"surface-hovered"},onPress:function(){o&&o(b)},children:[Object(v.jsxs)(l.default,{position:"relative",children:[Object(v.jsx)(g.default,{asset:b,borderRadius:"6px",size:M-2*C}),E]}),Object(v.jsx)(i.default,{mt:C+"px",w:"100%",justifyContent:"space-between",children:Object(v.jsx)(c.default,{flex:1,typography:"Body2",height:"20px",numberOfLines:1,children:null!=(n=null!=(r=b.name)?r:b.collection.contractName)?n:""})}),T?Object(v.jsx)(c.default,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(v.jsx)(m.FormatCurrencyNumber,{value:0,decimals:2,convertValue:R>0?R:""})}):Object(v.jsx)(l.default,{height:"20px"})]})}))}))},4319:function(e,t,n){"use strict";n.r(t);var r,o,a=n(11),i=n(3),c=n.n(i),l=n(50),s=n(1),u=n(42),d=n(24),f=n(0);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=Object(u.useNavigation)(),t=Object(d.useTranslation)(),i=Object(u.useRoute)(),c=i.params,b=c.title,p=c._title,O=Object(l.default)();return O&&!r?r=n(4320).Mobile:O||o||(o=n(4325).Desktop),Object(s.useLayoutEffect)((function(){var n;e.setOptions({title:null!=(n=t(p))?n:b})}),[e,b,t,p]),Object(f.jsx)(a.default,{flex:"1",bg:"background-default",children:O?Object(f.jsx)(r,j({},i.params)):Object(f.jsx)(o,j({},i.params))})}},4320:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return g}));var r=n(60),o=n(26),a=n(161),i=n.n(a),c=n(482),l=n(576),s=n(11),u=n(1),d=n(28),f=n(24),b=n(4007),j=n(4030),p=n(3990),O=n(0),m=d.default.create({container:{paddingTop:24,paddingBottom:24}}),x=function(){return Object(O.jsx)(s.default,{h:"8"})},h=function(){return Object(O.jsx)(c.default,{contentContainerStyle:m.container,data:[1,2,3,4,5],renderItem:function(){return Object(O.jsxs)(s.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",children:[Object(O.jsx)(s.default,{w:"12",h:"12",borderRadius:12,mr:"3",overflow:"hidden",children:Object(O.jsx)(l.default,{})}),Object(O.jsxs)(s.default,{flex:"1",children:[Object(O.jsx)(s.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:Object(O.jsx)(l.default,{})}),Object(O.jsx)(s.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(O.jsx)(l.default,{})})]})]})},showsVerticalScrollIndicator:!1,keyExtractor:function(e){return String(e)},ItemSeparatorComponent:x})},g=function(e){var t=Object.assign({},(i()(e),e)),n=t.onItemSelect,a=t.tagId,l=Object(p.useTagDapps)(a),d=Object(f.useTranslation)(),x=Object(u.useCallback)((function(e){var t,a=e.item;return Object(O.jsx)(j.default,{url:a.url,hoverButtonProps:{right:"4px",top:"5px"},children:Object(O.jsxs)(r.default,{w:"full",mb:"5",flexDirection:"row",flex:1,alignItems:"center",onPress:function(){null==n||n(a)},children:[Object(O.jsx)(b.default,{size:48,url:a.logoURL,networkIds:a.networkIds}),Object(O.jsxs)(s.default,{flexDirection:"column",ml:"12px",flex:1,children:[Object(O.jsx)(o.default.Body2Strong,{flex:"1",numberOfLines:1,children:a.name}),Object(O.jsx)(o.default.Caption,{color:"text-subdued",mt:"4px",numberOfLines:1,children:null!=(t=d(a._subtitle))?t:a.subtitle})]})]})})}),[n,d]);return Object(O.jsx)(s.default,{flex:"1",bg:"background-default",children:Object(O.jsx)(c.default,{contentContainerStyle:m.container,data:l,px:"16px",renderItem:x,keyExtractor:function(e){return e._id},ListEmptyComponent:h})})}},4321:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAA/CAYAAABgkd/rAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7ZztcdNQEEWvaQDTgTrAqQBTAVABoQLoAFEBoYKYClKCTAfuwKICQgWb3XlPM5okTuxET9qr7JlZyx4rP3LmzurjrQwEwVwQkeUrBGNQhehxCNEj8RFBebRH7xGURSWvtSRaR3nOEZRFg1xJBkE51O8mRBdG3Z5LDwTDk1vGvxBdkCx5L7dAMByHJIfoAVGXq0OSQ/RAqMfv8ggIno6kq769HAGC01Bny5zgowR3LPACMVm6saqO2N32ea210lof+Td3eBGis9jPeKas5zBr0dZDdfMVSe4SEzJL0TnBF0gpdsHsRKtkW824xMQJvs2s7kfb2YBuruBMsjGbRGfJNZwyC9HeJRv0onNPvoJzqEWr5Eo3DSY4Lz4V9oNhDQLJBm2ic5pp5iWYE12DCGbR70AEpeh8D6MCEayJphsaZBX9FmSwiq7ARRuix4FWNBv/Q/Q47EL0OGwpL8EJ5yTeRKLLs10sFtchujwbewnR5fljLyG6LNY2WntDJzrPbLDwo3vDmOgKHLSa5m33IUSX40v/A6PoNfyz6afZYBTtfWWlRa83d1CJzguyK/im7s40+rAluoZvfqnk3/d9QXOvg2BYZqeSzw59yZRoGyiv4JNW69NDO1Ak2vmwTKv1/r6+3Md9ovOVYAOf7LTOHpNsMLQOm96v4A878Jnka7Cjab4Uf9ivFnzDHJD00GQj/mgkHS/4kRMe+x2RRtIYGj+SUvxTfNHIQIInP73L/4jN0tkzgR7uNW+RVkUuhjzQjSpaUn8zmatcHzDdGUWrZSJ3uf4iL6SiADfgDPvDqYetVAAAAABJRU5ErkJggg=="},4322:function(e,t,n){e.exports=n.p+"static/media/dappIcon_multichain.54d7ea07.png"},4325:function(e,t,n){"use strict";n.r(t),n.d(t,"EmptySkeleton",(function(){return S})),n.d(t,"Desktop",(function(){return I}));var r=n(26),o=n(4),a=n.n(o),i=n(161),c=n.n(i),l=n(482),s=n(60),u=n(160),d=n(576),f=n(11),b=n(1),j=n(28),p=n(306),O=n(24),m=n(4122),x=n(4007),h=n(4030),g=n(3990),v=n(0),y=j.default.create({container:{paddingTop:32,paddingBottom:32}}),w=function(){return Object(v.jsx)(f.default,{h:"3"})},k=function(){return Object(v.jsx)(f.default,{h:"8"})},_=function(){var e=Object(p.default)().width-270-48,t=Math.floor(e/250),n=e/t,r=Object(b.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),o=Object(b.useCallback)((function(){return Object(v.jsx)(f.default,{width:n,maxWidth:n,minWidth:n,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(s.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12px",padding:"4",width:n-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",children:[Object(v.jsxs)(f.default,{flexDirection:"row",mb:"3",children:[Object(v.jsx)(f.default,{w:"12",h:"12",overflow:"hidden",borderRadius:12,children:Object(v.jsx)(d.default,{})}),Object(v.jsxs)(f.default,{ml:"3",children:[Object(v.jsx)(u.default,{shape:"Body1"}),Object(v.jsx)(u.default,{shape:"Caption"})]})]}),Object(v.jsx)(f.default,{h:"4",w:"full",mb:"2",borderRadius:8,overflow:"hidden",children:Object(v.jsx)(d.default,{})}),Object(v.jsx)(f.default,{h:"3",w:"80%",borderRadius:6,overflow:"hidden",children:Object(v.jsx)(d.default,{})})]})})}),[n]),a=Object(b.useMemo)((function(){return Object(v.jsx)(l.default,{paddingLeft:"24px",data:r,renderItem:o,numColumns:t,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return""+e},ItemSeparatorComponent:w},"key"+t)}),[r,t,o]);return Object(v.jsx)(f.default,{width:"100%",children:a})},S=function(){return Object(v.jsx)(l.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},data:[1,2],renderItem:function(){return Object(v.jsx)(_,{})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:k})},I=function(e){var t=Object.assign({},(c()(e),e)),n=t.tagId,o=t.onItemSelect,i=Object(g.useTagDapps)(n),u=Object(O.useTranslation)(),d=Object(b.useState)(0),j=a()(d,2),p=j[0],w=j[1],k=Object(O.useDebounce)(p,200),_=k-48,I=Math.floor(_/250),C=_/I,P=Object(b.useCallback)((function(e){var t,n=e.item;return Object(v.jsx)(h.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(v.jsx)(f.default,{width:C,maxWidth:C,minWidth:C,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(s.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:C-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){o&&o(n)},children:[Object(v.jsxs)(f.default,{flexDirection:"row",children:[Object(v.jsx)(x.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(v.jsxs)(f.default,{ml:"3",flex:"1",children:[Object(v.jsx)(r.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(v.jsx)(m.Chains,{networkIds:n.networkIds})]})]}),Object(v.jsx)(r.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=u(n._subtitle))?t:n.subtitle})]})})})}),[C,o,u]);return Object(v.jsxs)(f.default,{width:"100%",height:"100%",children:[Object(v.jsx)(f.default,{w:"full",onLayout:function(e){var t=e.nativeEvent.layout.width;w(t)}}),k?Object(v.jsx)(l.default,{contentContainerStyle:y.container,paddingLeft:"24px",paddingRight:"24px",data:i,renderItem:P,numColumns:I,keyExtractor:function(e,t){return I+"key"+t+(null==e?void 0:e._id)},ListEmptyComponent:S},"key"+I):null]})}},4326:function(e,t,n){"use strict";n.r(t),n.d(t,"useSearchLocalDapp",(function(){return u}));var r=n(4),o=n.n(r),a=n(1),i=n(3990),c=n(4057),l=n(17),s={includeScore:!0,threshold:.4,keys:[{name:"name",weight:1},{name:"url",weight:.5},{name:"subtitle",weight:.3}]};var u=function(e,t){var n=Object(a.useState)(!1),r=o()(n,2),u=r[0],d=r[1],f=Object(a.useState)([]),b=o()(f,2),j=b[0],p=b[1],O=Object(i.useShowBookmark)();return Object(a.useEffect)((function(){e?l.default.serviceDiscover.searchDapps(e).then(p):p([])}),[e,t]),{loading:u,searchedDapps:Object(a.useMemo)((function(){if(0===e.length)return d(!1),[];d(!0);try{var t=j;return O||(t=[]),function(e,t){return new c.default(e,s).search(t).filter((function(e){return e.score&&e.score<.9})).map((function(e){return e.item}))}(t,e).map((function(e){return{id:e._id,dapp:e}}))}finally{d(!1)}}),[j,e,O])}}},4327:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"EnableLocalAuthenticationRoutes",(function(){return r})),function(e){e.EnableLocalAuthenticationModal="EnableLocalAuthenticationModal",e.EnableWebAuthn="EnableWebAuthn"}(r||(r={}))},4332:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ManageConnectedSitesRoutes",(function(){return r})),function(e){e.ManageConnectedSitesModel="ManageConnectedSitesModal"}(r||(r={}))},4333:function(e,t,n){"use strict";n.r(t),n.d(t,"FormatCurrencyNumber",(function(){return k}));var r=n(11),o=n(78),a=n(75),i=n(20),c=n(123),l=n(325),s=n.n(l),u=n(2),d=n.n(u),f=n(4),b=n.n(f),j=n(15),p=n.n(j),O=n(1),m=n(37),x=n(18),h=n(17),g=n(833),v=n(4022),y=n(0),w=["divider","alert"];function k(e){var t=e.value,n=e.onlyNumber,r=e.unit;return"number"!==typeof t?null:"sats"===r.toLowerCase()?Object(y.jsxs)(y.Fragment,{children:[t<.01?""+Object(g.formatDecimalZero)(t):Object(y.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10})," "+(n?"":r)]}):Object(y.jsxs)(y.Fragment,{children:[""+(n?"":r),t<.01?""+Object(g.formatDecimalZero)(t):Object(y.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10})]})}t.default=function(e){var t=e.divider,n=e.alert,l=p()(e,w),u=n.price,f=n.currency,j=Object(v.useCurrencyUnit)(f),m=Object(O.useState)(!1),g=b()(m,2),_=g[0],S=g[1],I=Object(O.useCallback)(d()((function*(){S(!0);try{yield h.default.serviceNotification.removePriceAlertConfig(s()(n,"price","currency","coingeckoId"))}catch(e){x.default.common.error("remove PriceAlert",e instanceof Error?null==e?void 0:e.message:e)}setTimeout((function(){S(!1),null==l||l.onRemove(n.price)}),200)})),[l,n]);return Object(y.jsx)(r.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:t?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:t?void 0:"12px",children:Object(y.jsxs)(r.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[Object(y.jsx)(c.default,{size:8,token:n,showNetworkIcon:!0}),Object(y.jsxs)(i.default,{typography:"Body1Strong",numberOfLines:1,ml:3,flex:"1",children:["1 "+n.symbol+" = ",Object(y.jsx)(k,{value:+(u||0),unit:j})]}),Object(y.jsx)(r.default,{w:"8",h:"8",alignItems:"center",justifyContent:"center",children:_?Object(y.jsx)(a.default,{size:"sm"}):Object(y.jsx)(o.default,{name:"TrashMini",type:"plain",circle:!0,onPress:I})})]})})}},4334:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(270),i=n(11),c=n(20),l=n(92),s=n(15),u=n.n(s),d=n(1),f=n(21),b=n(1265),j=n(89),p=n(1614),O=n(3999),m=n(1610),x=n(4023),h=n(4041),g=n(0),v=["onSelectCollection","selectNetwork","listData"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t,n,r,o=e.onSelectCollection,s=e.selectNetwork,y=e.listData,k=u()(e,v),_=null==(t=Object(x.useStatsListContext)())?void 0:t.context,S=Object(j.default)(),I=Object(m.useCollectionDetail)(),C=null!=(n=null==_?void 0:_.selectedNetwork)?n:s,P=Object(d.useCallback)((function(e){var t,n,r,a,s,u,d,b=e.item,j=e.index,m=null!=(t=b.volume_change)?t:"-";return null!=b&&null!=(n=b.volume_change)&&n.startsWith("-")?(u="surface-critical-subdued",d="text-critical"):null!=b&&null!=(r=b.volume_change)&&r.startsWith("0.00%")?d="text-subdued":(u="surface-success-subdued",d="text-success"),Object(g.jsxs)(l.default,{onPress:function(){o?o({contractAddress:b.contract_address,networkId:null==C?void 0:C.id,title:b.contract_name}):I({contractAddress:b.contract_address,networkId:null==C?void 0:C.id,title:b.contract_name})},children:[Object(g.jsx)(l.default.Column,{children:Object(g.jsx)(p.default,{src:b.logo_url,width:"56px",height:"56px",verified:b.openseaVerified})}),Object(g.jsx)(l.default.Column,{text:{label:""+(j+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(g.jsx)(l.default.Column,{flex:1,text:{label:b.contract_name,labelProps:{isTruncated:!0},description:Object(O.PriceString)({prefix:S.formatMessage({id:"content__floor"}),price:b.floor_price,networkId:null==C?void 0:C.id}),descriptionProps:{numberOfLines:1}}}),Object(g.jsx)(l.default.Column,{alignItems:"flex-end",text:{label:Object(O.PriceString)({price:new f.BigNumber(null!=(a=b.volume)?a:"0").decimalPlaces(2).toString(),networkId:null==_||null==(s=_.selectedNetwork)?void 0:s.id}),labelProps:{textAlign:"right",numberOfLines:1},description:Object(g.jsx)(i.default,{borderRadius:"6px",bgColor:u,paddingX:"6px",paddingY:"2px",children:Object(g.jsx)(c.default,{typography:"CaptionStrong",color:d,textAlign:"right",numberOfLines:1,children:m})})}})]})}),[S,null==C?void 0:C.id,null==_||null==(r=_.selectedNetwork)?void 0:r.id,o,I]),M=Object(d.useCallback)((function(){return Object(g.jsx)(i.default,{h:"4px"})}),[]),A=Object(d.useCallback)((function(){return Object(g.jsx)(i.default,{height:"20px"})}),[]);return void 0===y||0===(null==y?void 0:y.length)||null!=_&&_.loading?Object(g.jsx)(h.default,{isTab:null==_?void 0:_.isTab,numberOfData:null!=_&&_.isTab?5:10,ListHeaderComponent:k.ListHeaderComponent}):Object(g.jsx)(b.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(g.jsx)(a.default,w({data:y,renderItem:P,keyExtractor:function(e,t){return""+e.contract_address+t},ItemSeparatorComponent:M,ListFooterComponent:A},k))})}},4335:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"PasswordRoutes",(function(){return r})),function(e){e.PasswordRoutes="PasswordRoutes"}(r||(r={}))},4336:function(e,t,n){"use strict";n.r(t),n.d(t,"GuideToPushFirstTimeCheck",(function(){return P}));var r=n(57),o=n(56),a=n(11),i=n(20),c=n(49),l=n(26),s=n(3),u=n.n(s),d=n(2),f=n.n(d),b=n(1),j=n(42),p=n(89),O=n(167),m=n(18),x=(n(25),n(17)),h=n(107),g=n(16),v=n(86),y=n(187),w=n(47),k=n(4064),_=n(4183),S=n(0);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e=Object(h.default)(),t=x.default.serviceBootstrap,n=Object(b.useCallback)((function(){var n=!0;return function(){var r=f()((function*(){yield Object(w.wait)(1e3);var r=yield t.checkShouldShowNotificationGuide();n&&r&&e.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.PushNotification,params:{screen:_.PushNotificationRoutes.GuideToPushFirstTime}})}));return function(){return r.apply(this,arguments)}}()(),function(){n=!1}}),[e,t]);return Object(j.useFocusEffect)(n),null}t.default=function(){var e=Object(p.default)(),t=x.default.dispatch,n=x.default.serviceNotification,s=Object(k.useEvmWalletsAndAccounts)().wallets;Object(b.useEffect)((function(){t(Object(y.setGuideToPushFistTime)(!0))}),[t]);var u=Object(b.useCallback)(f()((function*(){var e=s.map((function(e){return e.accounts.map((function(t){return C(C({},t),{},{passphrase:Object(O.isPassphraseWallet)(e)})}))})).flat().slice(0,50),t=yield n.filterContractAddresses(e.map((function(e){return e.address})));yield n.addAccountDynamicBatch({data:e.filter((function(e){return t.some((function(t){return t===e.address}))})).map((function(e){return{passphrase:e.passphrase,accountId:e.id,address:e.address,name:e.name}}))})})),[s,n]),d=Object(b.useCallback)(function(){var e=f()((function*(e){var r=e.close;null==r||r(),t(Object(v.setPushNotificationConfig)({pushEnable:!0,priceAlertEnable:!0,btcAndEthPriceAlertEnable:!0,favoriteTokensPriceAlertEnable:!0,accountActivityPushEnable:!0}));try{yield n.syncPushNotificationConfig(),yield u()}catch(o){m.default.notification.error("close notification addAccountDynamics error",o)}}));return function(t){return e.apply(this,arguments)}}(),[t,u,n]),j=Object(b.useMemo)((function(){return[{icon:"\ud83d\udea8",title:e.formatMessage({id:"form__price_volatility"}),desc:e.formatMessage({id:"form__price_volatility_desc"})},{icon:"\ud83d\udcc8",title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"title__no_alert_desc"},{0:"tokens"})},{icon:"\ud83d\udc64",title:e.formatMessage({id:"form__account_activity"}),desc:e.formatMessage({id:"account_activity_desc"})}]}),[e]);return Object(S.jsx)(r.default,{height:"560px",hideSecondaryAction:!0,onPrimaryActionPress:d,primaryActionProps:{type:"primary"},primaryActionTranslationId:"action__allow",children:Object(S.jsxs)(o.default,{position:"relative",height:"full",children:[Object(S.jsx)(c.default,{position:"absolute",bottom:"-12px",width:"full",children:Object(S.jsx)(l.default.Body2,{children:e.formatMessage({id:"content__you_can_change_this_option_later_in_the_settings"})})}),Object(S.jsxs)(c.default,{children:[Object(S.jsx)(i.default,{fontSize:56,children:"\ud83d\udd14"}),Object(S.jsx)(l.default.DisplayLarge,{children:e.formatMessage({id:"title__notifications"})})]}),j.map((function(e,t){return Object(S.jsxs)(a.default,{px:"4",flexDirection:"row",mt:0===t?"64px":4,children:[Object(S.jsx)(l.default.DisplayLarge,{mr:"4",children:e.icon}),Object(S.jsxs)(a.default,{flex:1,children:[Object(S.jsx)(l.default.Body1Strong,{mb:"1",children:e.title}),Object(S.jsx)(l.default.Body2,{flex:1,numberOfLines:2,color:"text-subdued",children:e.desc})]})]},e.icon)}))]})})}},4337:function(e,t,n){"use strict";n.r(t),n.d(t,"useRevokeAddress",(function(){return h})),n.d(t,"useTokenAllowances",(function(){return g})),n.d(t,"useSpenderAppName",(function(){return v})),n.d(t,"useAccountCanTransaction",(function(){return y})),n.d(t,"useUpdateAllowance",(function(){return w})),n.d(t,"useIsVerticalOrMiddleLayout",(function(){return k}));var r=n(420),o=n(2),a=n.n(o),i=n(4),c=n.n(i),l=n(1),s=n(42),u=n(1092),d=n(101),f=n(247),b=n(74),j=n(153),p=n(17),O=n(24),m=n(16),x=n(1102),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(l.useState)(""),n=c()(t,2),r=n[0],o=n[1],i=Object(l.useState)(!0),s=c()(i,2),u=s[0],d=s[1],f=Object(l.useCallback)(a()((function*(){d(!0);var t=yield p.default.serviceRevoke.getAddress(e);o(null!=t?t:""),setTimeout((function(){d(!1)}),1e3)})),[e]);return Object(l.useEffect)((function(){f()}),[e,f]),{updateAddress:f,address:r,loading:u}},g=function(e,t,n){var r,o,i,c,s=Object(u.useAsync)(a()((function*(){return p.default.serviceRevoke.fetchTokenAllowance(e,t,n,!1)})),[e,t,n]),d=s.result,f=s.loading,b=s.error,O=s.execute;return Object(l.useEffect)((function(){return j.appUIEventBus.on(j.AppUIEventBusNames.RevokeRefresh,O),function(){j.appUIEventBus.off(j.AppUIEventBusNames.RevokeRefresh,O)}}),[O]),b?{address:"",prices:{},allowances:[],loading:!1,isFromRpc:!1}:{address:null!=(r=null==d?void 0:d.address)?r:"",prices:null!=(o=null==d?void 0:d.prices)?o:{},allowances:null!=(i=null==d?void 0:d.allowance)?i:[],isFromRpc:null!=(c=null==d?void 0:d.isFromRpc)&&c,loading:f,error:b}},v=function(e,t){var n=Object(l.useState)(""),r=c()(n,2),o=r[0],i=r[1],s=Object(l.useCallback)(a()((function*(){var n=yield p.default.serviceRevoke.getSpenderName(e,t);i(n)})),[t,e]);return Object(l.useEffect)((function(){s()}),[s]),o||Object(d.shortenAddress)(t)},y=function(e){var t=Object(O.useActiveWalletAccount)(),n=t.account,r=t.wallet;return Object(l.useMemo)((function(){return n&&n.id&&(null==n?void 0:n.address.toLowerCase())===e.toLowerCase()&&(null==r?void 0:r.type)!==b.WALLET_TYPE_WATCHING}),[n,e,null==r?void 0:r.type])},w=function(e){var t=e.networkId,n=e.spender,r=e.contract,o=Object(s.useNavigation)(),i=Object(O.useActiveWalletAccount)(),c=i.accountId,u=i.accountAddress;return Object(l.useCallback)(function(){var e=a()((function*(e){var a,i=e.amount,l=e.tokenId;a=e.assetType===x.AssetType.tokens?yield p.default.engine.buildEncodedTxFromApprove({amount:i,networkId:t,spender:n,accountId:c,token:r}):"undefined"!==typeof l?yield p.default.serviceRevoke.buildEncodedTxsFromApprove({from:u,to:null!=r?r:"",approve:f.ADDRESS_ZERO,tokenId:l}):yield p.default.serviceRevoke.buildEncodedTxsFromSetApprovalForAll({from:u,to:null!=r?r:"",approved:!1,spender:n}),o.navigate(m.RootRoutes.Modal,{screen:m.ModalRoutes.Send,params:{screen:m.SendModalRoutes.SendConfirm,params:{accountId:c,networkId:t,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,encodedTx:a,onSuccess:function(){j.appUIEventBus.emit(j.AppUIEventBusNames.RevokeRefresh)}}}})}));return function(t){return e.apply(this,arguments)}}(),[c,r,o,t,n,u])},k=function(){var e=Object(r.default)().size;return Object(l.useMemo)((function(){return["SMALL","NORMAL"].includes(e)}),[e])}},4338:function(e,t,n){"use strict";n.r(t),n.d(t,"useSwapSubmit",(function(){return E}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(45),l=n(2),s=n.n(l),u=n(1),d=n(21),f=n.n(d),b=n(89),j=n(113),p=n(12),O=n(153),m=n(18),x=n(17),h=n(24),g=n(16),v=n(192),y=n(212),w=n(254),k=n(47),_=n(90),S=n(4187),I=n(4045),C=n(964),P=n(173),M=n(4080),A=n(0);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(){var e=s()((function*(e){var t,n,r,o,a=e.hash,i=e.decodedTx,c=e.params,l=e.response,s=e.recipient,u=e.quote,d=null==l?void 0:l.result;if(void 0!==l&&void 0!==d){var b,j=[Object(y.clearState)()],p=d.sellAmount||u.sellAmount,m=d.buyAmount||u.buyAmount,h=u.type,g=u.quoterlogo,k=yield x.default.engine.getNetwork(c.tokenIn.networkId),_=yield x.default.engine.getNetwork(c.tokenIn.networkId),S=Object(P.getTokenAmountValue)(c.tokenIn,p),C=Object(P.getTokenAmountValue)(c.tokenOut,m),M=null==i?void 0:i.nonce;i&&(b=Object(P.calculateDecodedTxNetworkFee)(i,k));var A={networkId:c.tokenIn.networkId,token:c.tokenIn,amount:Object(P.formatAmount)(new f.a(d.sellAmount).shiftedBy(-c.tokenIn.decimals))||Object(P.formatAmount)(S)},T={networkId:c.tokenOut.networkId,token:c.tokenOut,amount:Object(P.formatAmount)(new f.a(d.buyAmount).shiftedBy(-c.tokenOut.decimals))||Object(P.formatAmount)(C)};j.push(Object(w.addTransaction)({accountId:c.activeAccount.id,networkId:c.tokenIn.networkId,transaction:{hash:a,from:c.activeAccount.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:c.activeAccount.id,networkId:c.tokenIn.networkId,quoterType:h,quoterLogo:g,nonce:M,attachment:l.attachment,receivingAccountId:null==s?void 0:s.accountId,receivingAddress:null==s?void 0:s.address,providers:null!=(t=null==d?void 0:d.sources)?t:u.providers,arrivalTime:u.arrivalTime,percentageFee:u.percentageFee,protocalFees:u.protocolFees,networkFee:b,viewed:!1,tokens:{from:A,to:T,rate:Number(null!=(n=null==d?void 0:d.instantRate)?n:u.instantRate)}}}));var D,R=Object(v.appSelector)((function(e){return e.swapTransactions.slippage}));if(R&&R.autoReset&&j.push(Object(w.setSlippage)({mode:"auto"})),x.default.dispatch.apply(x.default,j),x.default.serviceToken.addAccountToken(c.tokenIn.networkId,c.activeAccount.id,c.tokenIn.tokenIdOnNetwork),c.tokenIn.networkId===c.tokenOut.networkId&&x.default.serviceToken.addAccountToken(c.tokenOut.networkId,c.activeAccount.id,c.tokenOut.tokenIdOnNetwork),"swftc"===(null==(r=l.result)?void 0:r.quoter)&&null!=(o=l.attachment)&&o.swftcOrderId)I.SwapQuoter.client.swftModifyTxId(null==(D=l.attachment)?void 0:D.swftcOrderId,a);var E=null==k?void 0:k.shortName,B=null==_?void 0:_.shortName;x.default.serviceSwap.addRecord({txid:a,from:{networkId:A.networkId,networkName:null!=E?E:"",tokenAddress:A.token.tokenIdOnNetwork,tokenName:A.token.name,amount:A.amount},to:{networkId:T.networkId,networkName:null!=B?B:"",tokenAddress:T.token.tokenIdOnNetwork,tokenName:T.token.name,amount:T.amount},params:c,response:l}),O.appUIEventBus.emit(O.AppUIEventBusNames.SwapAddTransaction)}}));return function(t){return e.apply(this,arguments)}}();var E=function(){var e=Object(b.default)(),t=Object(M.useSwapSend)(),n=Object(h.useNavigation)();return Object(u.useCallback)(function(){var r=s()((function*(r){var o,a,l=r.params,u=r.quote,d=r.recipient,b=r.onSuccess,h=r.setProgressStatus,y=r.openProgressStatus,w=r.closeProgressStatus;if(l&&u&&d){var M=l.activeAccount,T=new P.TokenAmount(l.tokenIn,Object(P.getTokenAmountValue)(l.tokenIn,u.sellAmount).toFixed()),E="0";l.tokenIn.tokenIdOnNetwork||(E=T.value.toFixed());var B=new P.TokenAmount(l.tokenOut,Object(P.getTokenAmountValue)(l.tokenOut,u.buyAmount).toFixed());if(yield x.default.serviceSwap.checkAccountInWallets(M.id)){var N=l.tokenIn.networkId,L=yield x.default.engine.getNetwork(N);if(L){var W=Object(P.createLoggerTimer)();W.start(P.LoggerTimerTags.checkTokenBalance),null==h||h({title:e.formatMessage({id:"action__confirming_balance_str"},{0:""})});var z=yield x.default.serviceToken.getAccountBalanceFromRpc(L.id,M.id,[],!0),H=i()(z,1)[0],F=null==H||null==(o=H.main)?void 0:o.balance,U=F?l.tokenIn.networkId+" native token balance is "+F:l.tokenIn.networkId+" failed to fetch native token balance";m.default.swap.info(U),W.end(P.LoggerTimerTags.checkTokenBalance);var V=new f.a(null!=F?F:"0");if(V.isZero()){var G=yield x.default.engine.getNativeTokenInfo(N);c.default.show({title:e.formatMessage({id:"msg__str_insufficient_balance_to_pay_for_gas_fee"},{0:G.symbol.toUpperCase()})},{type:"error"})}else{var q=0;if(V.gt(0))try{var Y,K=yield x.default.servicePassword.getPassword(),X=yield x.default.engine.getFrozenBalance({accountId:M.id,networkId:L.id,password:K});m.default.swap.info("get frozenBalance ",X),q="number"===typeof X?X:null!=(Y=null==X?void 0:X[l.tokenIn.id])?Y:0}catch(ke){m.default.swap.info("failed to get frozen balanace",ke.message)}var Q=yield x.default.serviceSwap.getReservedNetworkFee(L.id);if(Q=Object(P.plus)(Q,q),(l.tokenIn.tokenIdOnNetwork?V:V.minus(T.typedValue)).lt(Q)){var Z=(yield x.default.engine.getNativeTokenInfo(N)).symbol.toUpperCase(),J=0===q?e.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:Q+" "+Z}):e.formatMessage({id:"msg__insufficient_funds_for_transaction"},{0:q+" "+Z,1:Q+" "+Z});c.default.show({title:J},{type:"error"})}else{var $,ee=D(D({},l),{},{activeAccount:M,receivingAddress:null==d?void 0:d.address,txData:u.txData,additionalParams:u.additionalParams,sellAmount:u.sellAmount,buyAmount:u.buyAmount,disableValidate:!0});try{W.start(P.LoggerTimerTags.buildTransaction),null==h||h({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})}),$=yield I.SwapQuoter.client.buildTransaction(u.type,ee),W.end(P.LoggerTimerTags.buildTransaction)}catch(ke){var te,ne,re=(null==ke||null==(te=ke.response)||null==(ne=te.data)?void 0:ne.message)||ke.message;return void c.default.show({title:re},{type:"error"})}if(void 0!==$&&null!=(a=$)&&a.data){var oe=function(e){var t=e.swapQuote,n=e.quoteParams,r=e.inputAmount,o=e.outputAmount,a=e.account,i=e.receivingAddress,c=n.networkIn,l=n.networkOut,s=n.tokenIn,u=n.tokenOut,d=n.slippagePercentage,f=n.independentField;return{accountAddress:a.address,receivingAddress:i,send:{networkId:c.id,tokenInfo:s,amount:r.typedValue,amountValue:r.amount.toFixed()},receive:{networkId:l.id,tokenInfo:u,amount:o.typedValue,amountValue:o.amount.toFixed()},slippagePercentage:d,independentField:f,swapQuote:t}}({quoteParams:l,inputAmount:T,outputAmount:B,swapQuote:u,account:M,receivingAddress:null==d?void 0:d.address}),ae=$.data;if(void 0!==ae){if(L.impl===p.IMPL_EVM){var ie=ae.value;ie.startsWith("0x")||(ae.value=Object(P.toHex)(ie))}m.default.swap.info("swap encodedTx: ",JSON.stringify(ae));var ce=$.result;if(ce){var le,se,ue=Object(j.getWalletIdFromAccountId)(M.id),de=yield x.default.engine.getWallet(ue),fe=!1;if(ce.allowanceTarget&&l.tokenIn.tokenIdOnNetwork){W.start(P.LoggerTimerTags.checkTokenAllowance);var be=yield x.default.engine.getTokenAllowance({networkId:l.tokenIn.networkId,accountId:l.activeAccount.id,tokenIdOnNetwork:l.tokenIn.tokenIdOnNetwork,spender:ce.allowanceTarget});W.end(P.LoggerTimerTags.checkTokenAllowance),be?(m.default.swap.info(l.tokenIn.networkId+" "+l.tokenIn.symbol+" allowance is "+be),fe=new f.a(Object(P.getTokenAmountString)(l.tokenIn,be)).lt(ce.sellAmount)):m.default.swap.info(l.tokenIn.networkId+" "+l.tokenIn.symbol+" failed to fetch token allowance");var je=yield x.default.serviceSwap.needToResetApproval(l.tokenIn);if(fe&&je&&Number(be||"0")>0&&(se=yield x.default.engine.buildEncodedTxFromApprove({spender:ce.allowanceTarget,networkId:l.tokenIn.networkId,accountId:M.id,token:l.tokenIn.tokenIdOnNetwork,amount:"0"})),fe){var pe=Object(v.appSelector)((function(e){return e.settings.disableSwapExactApproveAmount}))?"unlimited":Object(P.getTokenAmountValue)(l.tokenIn,ce.sellAmount).toFixed();le=yield x.default.engine.buildEncodedTxFromApprove({spender:ce.allowanceTarget,networkId:l.tokenIn.networkId,accountId:M.id,token:l.tokenIn.tokenIdOnNetwork,amount:pe}),se&&se.nonce&&(le.nonce=Number(se.nonce)+1)}}var Oe=[],me=function(){var r=s()((function*(){null==h||h({title:e.formatMessage({id:"action__swapping_str"},{0:""})});try{yield t({accountId:M.id,networkId:N,gasEstimateFallback:Boolean(le),encodedTx:ae,showSendFeedbackReceipt:!0,payloadInfo:{type:"InternalSwap",swapInfo:oe},prepaidFee:E,onDetail:function(e){n.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.Swap,params:{screen:C.SwapRoutes.Transaction,params:{txid:e}}})},onSuccess:function(){var e=s()((function*(e){var t=e.result,n=e.decodedTx;$&&(yield R({hash:t.txid,decodedTx:n,params:ee,response:$,quote:u,recipient:d}),O.appUIEventBus.emit(O.AppUIEventBusNames.SwapCompleted),null==b||b({result:t,decodedTx:n}))}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){O.appUIEventBus.emit(O.AppUIEventBusNames.SwapError)}})}finally{null==w||w()}}));return function(){return r.apply(this,arguments)}}();if(Oe.unshift(me),le){var xe=function(){var r=s()((function*(r){var o={type:"InternalSwap"};"external"!==de.type&&(o.swapInfo=D(D({},oe),{},{isApprove:!0})),W.start(P.LoggerTimerTags.approval),null==h||h({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield t({accountId:M.id,networkId:N,payloadInfo:o,encodedTx:le,gasEstimateFallback:Boolean(se),onSuccess:function(){var e=s()((function*(){"hw"===de.type&&n.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.Send,params:{screen:g.SendModalRoutes.HardwareSwapContinue,params:{networkId:N,accountId:M.id}}}),yield null==r?void 0:r()}));return function(){return e.apply(this,arguments)}}(),onFail:function(){null==w||w()}}),W.end(P.LoggerTimerTags.approval)}));return function(e){return r.apply(this,arguments)}}();Oe.unshift(xe)}if(se){var he=function(){var e=s()((function*(e){var n={type:"InternalSwap"};"external"!==de.type&&(n.swapInfo=D(D({},oe),{},{isApprove:!0})),W.start(P.LoggerTimerTags.cancelApproval),yield t({accountId:M.id,networkId:N,payloadInfo:n,encodedTx:se,onSuccess:function(){var t=s()((function*(){yield null==e?void 0:e()}));return function(){return t.apply(this,arguments)}}()}),W.end(P.LoggerTimerTags.cancelApproval)}));return function(t){return e.apply(this,arguments)}}();Oe.unshift(he)}se?Object(_.showOverlay)((function(e){return Object(A.jsx)(S.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:s()((function*(){try{null==y||y(),yield Object(P.combinedTasks)(Oe)}finally{null==w||w()}}))})})):yield Object(P.combinedTasks)(Oe),yield Object(k.wait)(1e3)}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else{var ge,ve,ye,we=null!=(ge=null==(ve=$)||null==(ye=ve.error)?void 0:ye.msg)?ge:e.formatMessage({id:"msg__unknown_error"});c.default.show({title:we},{type:"error"})}}}}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__account_deleted"},{0:M.name})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}));return function(e){return r.apply(this,arguments)}}(),[])}},4343:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAfCAMAAACmqq93AAAAUVBMVEUAAAAMDAwLCwv6+vr+/v79/f339/f6+vr7+/vu7u7Hx8f////v7+/6+vrh4eH////7+/v8/Pze3t7+/v78/Pz5+fnf39/////39/empqb///+KJeaPAAAAGnRSTlMABgqj4KGkk4JFKfBmYiTfwXET0MKyNzAiGkjwtncAAACUSURBVDjL5dFLDsIwDEXRxPknDaXl7/0vlCAxaC2ZvjnX0yNZls1/t+K0w/IZYDqjdA2MUVs8H9Gy5JyTazxy9hec+dsRzcwgXRilJw/Tzii1V5xeJE0q9ZJOOK0GpWfSKDV0v7kLGUmjNuylr/qvpCTwq7eXur633e2FNPlIwTkXx7gY01QHHFLL0jYBpR2R/bR1b4y2G5MTsa3dAAAAAElFTkSuQmCC"},4351:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"MarketRoutes",(function(){return r})),function(e){e.MarketSearchModal="MarketSearchModal"}(r||(r={}))},4352:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"CurrencySelectModal",(function(){return r})),function(e){e.CurrencySelectHome="CurrencySelectHome"}(r||(r={}))},4353:function(e,t,n){"use strict";n.r(t),n.d(t,"browserSettingUrl",(function(){return u}));var r=n(57),o=n(11),a=n(78),i=n(20),c=n(89),l=(n(25),n(591)),s=n(0);function u(){}t.default=function(){var e=Object(c.default)(),t=Object(l.useClipboard)().copyText;return Object(s.jsx)(r.default,{hidePrimaryAction:!0,hideSecondaryAction:!0,header:e.formatMessage({id:"action__clear_cache"}),footer:null,staticChildrenProps:{flex:1},children:Object(s.jsxs)(o.default,{justifyContent:"center",alignItems:"center",height:"200px",children:[Object(s.jsx)(i.default,{typography:"Body1Strong",children:e.formatMessage({id:"title__open_this_link_in_browser"})}),Object(s.jsx)(i.default,{mt:"8px",typography:"Body1",color:"text-subdued",children:void 0}),Object(s.jsx)(a.default,{onPress:function(){t(void 0)},mt:"24px",name:"DocumentDuplicateMini",children:e.formatMessage({id:"action__copy"})})]})})}},4354:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(1),o=n(4193);function a(){var e=Object(r.useContext)(o.default);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e}},4355:function(e,t,n){"use strict";n.r(t),n.d(t,"GasPrice",(function(){return h})),n.d(t,"GasPriceMini",(function(){return g}));var r=n(40),o=n(49),a=n(11),i=n(576),c=n(26),l=n(2),s=n.n(l),u=n(6),d=n.n(u),f=n(1),b=n(35),j=n(17),p=n(24),O=n(275),m=n(0),x=function(){function e(){this.loading=!1}return e.prototype.refresh=function(){var e=s()((function*(){if(!this.loading)try{this.loading=!0;var e=(yield j.default.serviceGas.getGasInfo({networkId:b.OnekeyNetwork.eth})).prices[0],t="";t="string"===typeof e?e:e.price||Number(e.baseFee).toFixed(0)||"",j.default.dispatch(Object(O.setNetworkPrice)({networkId:b.OnekeyNetwork.eth,price:t}))}finally{this.loading=!1}}));return function(){return e.apply(this,arguments)}}(),d()(e)}();x.instance=new x;var h=function(){var e=Object(p.useAppSelector)((function(e){return e.discover.networkPrices})),t=null==e?void 0:e[b.OnekeyNetwork.eth];return Object(f.useEffect)((function(){x.instance.refresh();var e=setInterval((function(){return x.instance.refresh()}),6e4);return function(){return clearInterval(e)}}),[]),Object(m.jsxs)(o.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:[t?Object(m.jsx)(c.default.Body2Strong,{lineHeight:14,color:"text-warning",children:Math.ceil(Number(t))}):Object(m.jsx)(a.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:Object(m.jsx)(i.default,{})}),Object(m.jsx)(c.default.CaptionStrong,{lineHeight:12,color:"text-warning",children:"Gwei"})]})},g=function(){var e=Object(p.useAppSelector)((function(e){return e.discover.networkPrices})),t=null==e?void 0:e[b.OnekeyNetwork.eth];return Object(f.useEffect)((function(){var e=setInterval((function(){return x.instance.refresh()}),6e4);return function(){return clearInterval(e)}}),[]),Object(m.jsx)(a.default,{flexDirection:"row",alignItems:"center",h:"full",children:t?Object(m.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(r.default,{name:"GasIllus",size:16,color:"text-warning"}),Object(m.jsx)(a.default,{ml:"1",children:Object(m.jsx)(c.default.Button2,{color:"text-warning",children:Math.ceil(Number(t))})})]}):Object(m.jsx)(a.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:Object(m.jsx)(i.default,{})})})}},4356:function(e,t,n){e.exports=n.p+"static/media/dapp_colour.5dd0344d.png"},4360:function(e,t,n){"use strict";n.r(t),n.d(t,"useOpenProtocolUrl",(function(){return z})),n.d(t,"OverviewDefiProtocol",(function(){return F}));var r=n(4),o=n.n(r),a=n(20),i=n(50),c=n(112),l=n(56),s=n(26),u=n(11),d=n(98),f=n(1),b=n(21),j=n.n(b),p=n(89),O=n(4343),m=n.n(O),x=n(881),h=n(111),g=n(24),v=n(196),y=n(239),w=n(90),k=n(38),_=n(123),S=n(1106),I=n(0),C=function(e){var t=e.icon,n=e.name,r=e.rate,o=e.desc,c=e.extra,s=e.onOpenDapp,u=Object(i.default)(),d=Object(f.useMemo)((function(){return Object(I.jsx)(S.OverviewBadge,{rate:r})}),[r]);return u?Object(I.jsxs)(l.default,{px:4,py:4,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(I.jsx)(k.default,{w:"full",mb:"2",children:Object(I.jsx)(k.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(I.jsxs)(k.default,{flex:"1",children:[Object(I.jsx)(_.TokenIcon,{size:6,token:{logoURI:t,name:n}}),Object(I.jsx)(a.default,{onPress:s,typography:"Body1Strong",ml:"2",children:n}),r.isNaN()?null:d]})})}),Object(I.jsxs)(l.default,{w:"full",children:[o,c]})]}):Object(I.jsxs)(k.default,{px:6,py:3,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(I.jsx)(k.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(I.jsxs)(k.default,{flex:"1",children:[Object(I.jsx)(_.TokenIcon,{size:8,token:{logoURI:t,name:n}}),Object(I.jsx)(a.default,{typography:"Heading",ml:"2",onPress:s,children:n}),r.isNaN()?null:d]})}),Object(I.jsx)(k.default,{alignItems:"center",children:Object(I.jsxs)(l.default,{children:[o,c]})})]})},P=n(320),M=n.n(P),A=n(3),T=n.n(A),D=n(1686),R=n.n(D);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t,n=e.pool,r=e.tokenKey,o=Object(i.default)();return Object(I.jsx)(l.default,{children:null==n||null==(t=n[r])?void 0:t.map((function(e,t){var n,r;return Object(I.jsxs)(k.default,{alignItems:"center",mt:t>0?"4px":0,flexWrap:"wrap",children:[Object(I.jsx)(_.TokenIcon,{token:e,size:o?5:4,mr:"1"}),Object(I.jsx)(a.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mr:"1",children:Object(I.jsx)(h.FormatCurrencyNumber,{onlyNumber:!0,value:new j.a(null!=(n=e.balanceParsed)?n:0)})}),Object(I.jsx)(a.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mx:"1",children:e.symbol}),Object(I.jsx)(s.default.Body2,{color:"text-subdued",children:Object(I.jsx)(h.FormatCurrencyNumber,{value:0,convertValue:new j.a(null!=(r=e.value)?r:0)})})]},e.tokenAddress)}))})},L=function(e){var t=e.pools,n=Object(p.default)(),r=Object(i.default)(),o=Object(f.useCallback)((function(e){return!e.visibleOn||(null==e.visibleOn?void 0:e.visibleOn({pools:t,isVertical:r}))}),[r,t]),a=Object(f.useMemo)((function(){var e,t,n=[{dataIndex:"supplyTokens",header:"form__pool_uppercase",render:function(e){return Object(I.jsx)(N,B(B({},e),{},{tokenKey:"supplyTokens"}))},visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.supplyTokens)?void 0:t.length)>0}))}},{dataIndex:"borrowTokens",header:"form__borrowed_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.borrowTokens)?void 0:t.length)>0}))},render:function(e){return Object(I.jsx)(N,B(B({},e),{},{tokenKey:"borrowTokens"}))}},{dataIndex:"rewardTokens",header:"form__rewards_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.rewardTokens)?void 0:t.length)>0}))},render:function(e){return Object(I.jsx)(N,B(B({},e),{},{tokenKey:"rewardTokens"}))}}].filter(o),r=[{dataIndex:"lockedInfo",header:"form__unlock_time_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return!(null==e||null==(t=e.lockedInfo)||!t.unlockTime)}))},render:function(e){var t,n=e.pool,r=null==n||null==(t=n.lockedInfo)?void 0:t.unlockTime;return"number"!==typeof r?r:Object(I.jsx)(s.default.Body2Strong,{children:R()(1e3*r).format("YYYY/MM/DD HH:mm")})}},{dataIndex:"apr",header:"form__apr_uppercase",visibleOn:function(e){return e.pools.some((function(e){return!!e.apr}))},render:function(e){var t,n=e.pool;return Object(I.jsxs)(s.default.Body2Strong,{children:[Object(I.jsx)(h.FormatCurrencyNumber,{onlyNumber:!0,value:new j.a(null!=(t=n.apr)?t:0)}),"%"]})}},{dataIndex:"poolValue",header:"form__value_uppercase",render:function(e){var t,n=e.pool;return Object(I.jsx)(s.default.Body2Strong,{children:Object(I.jsx)(h.FormatCurrencyNumber,{value:0,convertValue:new j.a(null!=(t=n.poolValue)?t:0)})})},boxProps:{textAlign:"right",justifyContent:"flex-end"}}].filter(o);return 1===(null==n?void 0:n.length)&&null!=n&&null!=(e=n[0])&&e.dataIndex&&n.push({header:"content__price",render:function(e){var n=e.pool;return Object(I.jsx)(l.default,{children:null==n?void 0:n[t].map((function(e){var t;return Object(I.jsx)(s.default.Body2Strong,{children:Object(I.jsx)(h.FormatCurrencyNumber,{value:0,convertValue:new j.a(null!=(t=e.price)?t:0)})},e.tokenAddress)}))})},dataIndex:t=n[0].dataIndex}),n.concat(r)}),[o]),c=Object(f.useMemo)((function(){return t.length}),[t]),d=Object(f.useCallback)((function(e,t){var r=t===c-1;return Object(I.jsx)(l.default,{mb:"4",pb:r?0:4,borderBottomWidth:r?0:"1px",borderBottomColor:"border-subdued",mx:"4",children:a.map((function(t,r){return t.dataIndex&&M()(e[t.dataIndex])?null:Object(I.jsxs)(l.default,{mt:0===r?0:"4",children:[Object(I.jsx)(s.default.Subheading,{mb:"4",color:"text-subdued",children:n.formatMessage({id:t.header})}),t.dataIndex&&!M()(e[t.dataIndex])?t.render({pool:e}):null]},t.header)}))},e.poolCode)}),[a,n,c]),b=Object(f.useCallback)((function(e,n){var r=n===t.length-1;return Object(I.jsx)(k.default,{alignItems:"flex-start",borderBottomColor:"border-subdued",borderBottomWidth:r?0:"1px",mx:"6",py:"4",children:a.map((function(t){var n;return Object(f.createElement)(u.default,B(B({flex:"1"},null!=(n=t.boxProps)?n:{}),{},{key:t.header}),t.render({pool:e}))}))},e.poolCode)}),[t,a]),O=Object(f.useMemo)((function(){return r?null:Object(I.jsx)(k.default,{mx:"6",py:"0",flex:"1",children:a.map((function(e){var t;return Object(I.jsx)(u.default,B(B({flex:"1"},null!=(t=e.boxProps)?t:{}),{},{children:Object(I.jsx)(s.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:e.header})})}),e.header)}))})}),[a,n,r]);return a.length?Object(I.jsxs)(u.default,{children:[O,t.map((function(e,t){return(r?d:b)(e,t)}))]}):null},W=function(e){var t,n,r=e.onConfirm,o=e.protocol,a=e.onClose,i=Object(p.default)(),f=Object(g.useActiveWalletAccount)().network;return Object(I.jsx)(c.default,{visible:!0,onClose:a,contentProps:{icon:Object(I.jsxs)(u.default,{size:"52px",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",position:"relative",children:[Object(I.jsx)(d.default,{size:"full",src:o.protocolIcon,alt:o.protocolName}),Object(I.jsx)(d.default,{source:m.a,w:"35px",h:"25px",position:"absolute",bottom:"0",right:"0",zIndex:"1"}),Object(I.jsx)(d.default,{src:null!=(t=null==f?void 0:f.logoURI)?t:"",w:"12px",h:"12px",position:"absolute",bottom:"2px",right:"2px",zIndex:"2"})]}),title:o.protocolName,contentElement:Object(I.jsxs)(l.default,{children:[Object(I.jsx)(s.default.Body2,{textAlign:"center",children:null!=(n=o.protocolUrl)?n:""}),Object(I.jsx)(s.default.Body2,{mt:"6",textAlign:"center",children:i.formatMessage({id:"content__you_are_about_to_visit_this_site_in_a_dapp_browser_do_you_want_to_continue"})})]})},footerButtonProps:{primaryActionTranslationId:"action__visit",onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==r||r()}}})},z=function(e){var t=Object(g.useNavigation)(),n=Object(i.default)(),r=Object(f.useCallback)((function(){var n;Object(y.openDapp)(null!=(n=null==e?void 0:e.protocolUrl)?n:""),t.canGoBack()&&t.goBack()}),[null==e?void 0:e.protocolUrl,t]);return Object(f.useCallback)((function(){if(null!=e&&e.protocolUrl)return n?void Object(w.showDialog)(Object(I.jsx)(W,{protocol:e,onConfirm:r})):r()}),[e,n,r])},H=function(e){var t=e.poolType,n=Object(i.default)();return Object(I.jsx)(a.default,{ml:n?4:6,my:"4",children:Object(I.jsx)(u.default,{px:"6px",bg:"surface-highlight-default",borderRadius:"6px",children:Object(I.jsx)(s.default.Body2Strong,{color:"text-default",numberOfLines:1,children:t})})})},F=function(e){var t=e._id,n=e.pools,r=e.protocolValue,c=e.protocolName,s=e.protocolIcon,d=e.claimableValue,b=e.showHeader,O=void 0===b||b,m=e.bgColor,y=e.poolCode,w=Object(p.default)(),k=Object(i.default)(),_=Object(v.useCurrentFiatValue)(),S=Object(g.useActiveWalletAccount)(),P=S.networkId,M=S.accountId,A=Object(g.useAccountValues)({networkId:P,accountId:M}),T=z(e),D=Object(f.useMemo)((function(){return new j.a(r).multipliedBy(_).div(A.value).multipliedBy(100)}),[r,A,_]),R=Object(f.useMemo)((function(){return y?n.filter((function(e){return o()(e,2)[1].filter((function(e){return e.poolCode===y})).length>0})).map((function(e){var t=o()(e,2);return[t[0],t[1].filter((function(e){return e.poolCode===y}))]})).map((function(e,n){var r,a=o()(e,2),i=a[0],c=a[1];return Object(I.jsxs)(l.default,{borderTopWidth:0===n?0:"1px",borderTopColor:"divider",children:[Object(I.jsx)(H,{poolType:i,poolName:null==c||null==(r=c[0])?void 0:r.poolName}),Object(I.jsx)(L,{networkId:t.networkId,poolType:i,pools:c})]},i)})):Object(I.jsx)(u.default,{bg:m,children:n.map((function(e,n){var r,a=o()(e,2),i=a[0],c=a[1];return Object(I.jsxs)(l.default,{borderTopWidth:0===n?0:"1px",borderTopColor:"divider",children:[Object(I.jsx)(H,{poolType:i,poolName:null==c||null==(r=c[0])?void 0:r.poolName}),Object(I.jsx)(L,{networkId:t.networkId,poolType:i,pools:c})]},i)}))})}),[m,n,t,y]);return Object(I.jsx)(x.ErrorBoundary,{children:Object(I.jsxs)(u.default,{borderRadius:"12px",bg:"surface-default",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",mb:"6",children:[O?Object(I.jsx)(C,{name:c,onOpenDapp:T,rate:D,desc:Object(I.jsx)(a.default,{typography:{md:"Heading",sm:"Body1Strong"},textAlign:k?"left":"right",children:Object(I.jsx)(h.FormatCurrencyNumber,{value:0,convertValue:new j.a(r)})}),extra:+d>0?Object(I.jsx)(a.default,{color:"text-subdued",typography:{md:"Body2Strong",sm:"CaptionStrong"},textAlign:k?"left":"right",children:w.formatMessage({id:"form__claimable_str"},{0:Object(I.jsx)(h.FormatCurrencyNumber,{value:0,convertValue:new j.a(d)})})}):void 0,icon:s}):null,R]})})}},4363:function(e,t,n){"use strict";n.r(t),n.d(t,"useAddressBook",(function(){return D}));var r=n(57),o=n(270),a=n(49),i=n(194),c=n(78),l=n(195),s=n(92),u=n(11),d=n(26),f=n(45),b=n(263),j=n(1),p=n(42),O=n(89),m=n(168),x=n(24),h=n(16),g=n(1084),v=n(3),y=n.n(v),w=n(15),k=n.n(w),_=n(17),S=n(1091),I=n(186),C=n(0),P=["contact"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var A=function(e){var t=e.contact,n=k()(e,P),r=Object(O.default)(),o=t.name,a=t.address,i=t.networkId,c=t.id,l=Object(p.useNavigation)(),s=Object(j.useCallback)((function(){l.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.AddressBook,params:{screen:g.AddressBookRoutes.EditAddressRoute,params:{uuid:c,defaultValues:{name:o,address:a,networkId:i}}}})}),[l,o,a,i,c]),u=Object(j.useCallback)((function(){setTimeout((function(){Object(m.copyToClipboard)(a),f.default.show({title:r.formatMessage({id:"msg__address_copied"})})}),200)}),[r,a]),d=Object(j.useCallback)((function(){_.default.dispatch(Object(S.remove)({uuid:c})),f.default.show({title:r.formatMessage({id:"msg__address_deleted"})})}),[c,r]),b=Object(j.useMemo)((function(){return[{id:"action__edit",onPress:s,icon:"PencilMini"},{id:"action__copy_address",onPress:u,icon:"Square2StackOutline"},{id:"action__delete",onPress:d,icon:"TrashMini",variant:"desctructive"}]}),[u,d,s]);return Object(C.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({w:190,options:b},n))},T=function(e){var t=e.networkId,n=e.onNew,r=e.onSelected,h=Object(O.default)(),g=Object(x.useAppSelector)((function(e){return e.contacts.contacts})),v=Object(b.default)().bottom,y=Object(j.useMemo)((function(){var e=Object.values(g);if(e=e.sort((function(e,t){return e.createAt,t.createAt,-1})),t){var n=t.split("--")[0];e=e.filter((function(e){return e.badge.toUpperCase()===n.toUpperCase()}))}return e}),[g,t]),w=Object(j.useCallback)((function(e){Object(m.copyToClipboard)(e),f.default.show({title:h.formatMessage({id:"msg__address_copied"})})}),[h]),k=Object(p.useNavigation)(),_=Object(j.useCallback)((function(e){r&&(null==r||r({address:e.address,name:e.name}),k.goBack())}),[r,k]),S=Object(j.useCallback)((function(e){var t=e.item,n=t.name,r=t.badge,o=t.address;return Object(C.jsxs)(s.default,{onLongPress:function(){w(o)},onPress:function(){return _(t)},children:[Object(C.jsx)(s.default.Column,{children:Object(C.jsx)(u.default,{w:"40px",h:"40px",borderRadius:"full",bg:"decorative-surface-one",justifyContent:"center",alignItems:"center",children:Object(C.jsx)(d.default.Body2,{color:"decorative-icon-one",children:n.toUpperCase()[0]})})}),Object(C.jsx)(s.default.Column,{flex:1,text:{label:Object(C.jsxs)(u.default,{flexDirection:"row",alignItems:"center",children:[Object(C.jsx)(d.default.Body1Strong,{mr:"8px",isTruncated:!0,children:n}),Object(C.jsx)(l.default,{size:"sm",title:r.toUpperCase()})]}),description:Object(C.jsx)(d.default.Body2,{color:"text-subdued",children:o})}}),Object(C.jsx)(s.default.Column,{children:Object(C.jsx)(A,{contact:t,children:Object(C.jsx)(c.default,{name:"EllipsisVerticalMini",circle:!0,type:"plain"})})})]})}),[w,_]);return 0===y.length?Object(C.jsx)(a.default,{w:"full",h:"full",children:Object(C.jsx)(i.default,{title:h.formatMessage({id:"title__no_cantact"}),subTitle:h.formatMessage({id:"title__no_cantact_desc"}),actionTitle:h.formatMessage({id:"action__add_new_address"}),actionProps:{leftIconName:"PlusMini"},handleAction:n,emoji:"\ud83d\udcc7"})}):Object(C.jsx)(o.default,{data:y,renderItem:S,keyExtractor:function(e){return String(e.id)},ListFooterComponent:v>0?Object(C.jsx)(u.default,{h:v+"px"}):null})};function D(){var e=Object(p.useNavigation)();return{showAddressBookModal:Object(j.useCallback)((function(t){e.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.AddressBook,params:{screen:g.AddressBookRoutes.NewPickAddressRoute,params:t}})}),[e])}}t.default=function(){var e,t=Object(O.default)(),n=null!=(e=Object(p.useRoute)().params)?e:{},o=n.networkId,a=n.onSelected,i=Object(p.useNavigation)(),l=Object(j.useCallback)((function(){i.navigate(g.AddressBookRoutes.NewAddressRoute)}),[i]);return Object(C.jsx)(r.default,{rightContent:Object(C.jsx)(c.default,{onPress:l,name:"PlusCircleOutline",type:"plain",size:"lg",circle:!0}),header:t.formatMessage({id:"title__contacts"}),hideSecondaryAction:!0,footer:null,height:"480px",children:Object(C.jsx)(T,{networkId:o,onSelected:a,onNew:l})})}},4366:function(e,t,n){"use strict";n.r(t);var r=n(78),o=n(20),a=n(11),i=n(123),c=n(92),l=n(38),s=n(60),u=n(26),d=n(40),f=n(45),b=n(420),j=n(50),p=n(160),O=n(53),m=n(1),x=n(42),h=n(89),g=n(17),v=n(24),y=n(16),w=n(271),k=n(4022),_=n(766),S=n(4024),I=n(4025),C=n(833),P=n(4192),M=n(13),A=n.n(M),T=n(2),D=n.n(T),R=(n(4066),n(25),n(4026)),E=n(0),B=Object(m.memo)((function(e){var t=e.data,n=e.lineColor,r=void 0===n?"rgba(0, 184, 18, 1)":n,o=e.linearGradientColor,a=void 0===o?"rgba(0, 184, 18, 0.3)":o,i=e.height,c=void 0===i?40:i,l=e.width,s=void 0===l?50:l,u=e.lineWidth,d=void 0===u?2:u,f=e.smooth,b=void 0===f||f,j=e.scale,p=void 0===j?.1:j,O=Object(R.useDevicePixelRatio)(),x=Object(m.useCallback)(function(){var e=D()((function*(e){if(e){e.width=s*O,e.height=c*O;var n=c-5,o=t||[],i=Math.max.apply(Math,A()(o)),l=Math.min.apply(Math,A()(o)),u=n/(i-l),f=e.getContext("2d");if(f){f.scale(O,O),f.beginPath(),f.lineWidth=d,f.strokeStyle=r;var j=s/(o.length-1),m=0,x=0;o.forEach((function(e,t){var r=n-(e-l)*u;if(b&&t>=2&&t<o.length-1){var a=j*(t-1),i=n-(o[t-1]-l)*u,c=j*(t-2),s=n-(o[t-2]-l)*u,d=j*(t+1),O=n-(o[t+1]-l)*u,h=a+(m-c)*p,g=i+(r-s)*p,v=m-(d-a)*p,y=r-(O-i)*p;g<0&&(g=0),y<0&&(y=0),f.bezierCurveTo(h,g,v,y,m,r)}else f.lineTo(m,r);t===o.length-1&&(x=r),m+=j})),f.lineTo(m+j,x),f.lineTo(m+j,c),f.lineTo(0,c),f.stroke(),f.closePath();var h=f.createLinearGradient(0,0,0,n);h.addColorStop(0,a),h.addColorStop(1,"rgba(255,255,255,0)"),f.fillStyle=h,f.fill(),f.clearRect(0,c-d,s,d)}}}));return function(t){return e.apply(this,arguments)}}(),[s,O,c,t,d,r,b,p,a]);return Object(E.jsx)("div",{style:{width:s,height:c},children:Object(E.jsx)("canvas",{style:{width:s+"px",height:c+"px"},ref:x})})})),N=function(e){var t=e.tokens,n=Object(x.useNavigation)(),r=Object(h.default)();return t?Object(E.jsx)(O.default,{borderRadius:12,isDisabled:!t.length,type:"basic",size:"xs",onPress:function(){g.default.serviceSwap.buyToken(t[0]),n.navigate(y.TabRoutes.Swap)},children:r.formatMessage({id:"title__swap"})}):Object(E.jsx)(p.default,{shape:"Caption"})};t.default=Object(m.memo)((function(e){var t=e.onPress,n=e.marketTokenId,O=e.headTags,x=e.onLongPress,y=Object(j.default)(),M=Object(v.useSettings)().selectedFiatMoneySymbol,A=Object(k.useCurrencyUnit)(M),T=Object(b.default)().size,D=Object(m.useMemo)((function(){return["NORMAL"].includes(T)}),[T]),R=Object(S.useMarketSelectedCategoryId)(),L=Object(h.default)(),W=Object(I.useMarketTokenItem)({coingeckoId:n,isList:!0}),z=Object(m.useRef)(),H=Object(m.useCallback)((function(){var e,t;return W&&Object(P.showMarketCellMoreMenu)(W,{header:""+(null!=(e=null!=(t=null==W?void 0:W.symbol)?t:null==W?void 0:W.name)?e:"")},z.current)}),[W]);return Object(E.jsx)(c.default,{onLongPress:function(){y&&W&&x&&x(W)},onPress:function(){W&&t&&t(W)},children:O.map((function(e){switch(e.id){case _.EMarketCellData.CollectionStar:var t;return Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(l.default,{alignItems:"center",justifyContent:"center",w:e.isSearch?void 0:e.minW,children:W?Object(E.jsxs)(s.default,{p:e.isSearch?0:1,flexDirection:"row",alignItems:"center",rounded:"full",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){W.favorited?(g.default.serviceMarket.cancelMarketFavoriteToken(W.coingeckoId),f.default.show({title:L.formatMessage({id:"msg__removed"})})):(g.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:W.coingeckoId,symbol:W.symbol}]),f.default.show({title:L.formatMessage({id:"msg__added_to_favorites"})}))},children:[Object(E.jsx)(d.default,{name:W.favorited?"StarSolid":"StarOutline",size:20,color:W.favorited?"icon-warning":"icon-subdued"}),!e.isSearch&&Object(E.jsx)(u.default.Body2Strong,{ml:.5,children:null!=(t=W.serialNumber)?t:"-"})]}):Object(E.jsx)(p.default,{shape:"Avatar",size:20})})},e.id);case _.EMarketCellData.TokenInfo:return Object(E.jsx)(c.default.Column,{children:Object(E.jsxs)(l.default,{alignItems:"center",flex:1,space:3,children:[W&&void 0!==W.logoURI?Object(E.jsx)(i.default,{size:8,token:{logoURI:W.logoURI,name:W.name,symbol:W.symbol}}):Object(E.jsx)(a.default,{children:Object(E.jsx)(p.default,{shape:"Avatar",size:32})}),Object(E.jsxs)(a.default,{children:[W&&void 0!==W.symbol?Object(E.jsx)(o.default,{typography:e.isSearch?"Body2Strong":"Body1Strong",children:W.symbol}):Object(E.jsx)(p.default,{shape:"Body2"}),W&&void 0!==W.marketCap?Object(E.jsx)(u.default.Body2,{numberOfLines:1,color:"text-subdued",children:y||D?Object(C.formatMarketUnitPosition)(A,Object(C.formatMarketValueForInfo)(W.marketCap)):W.name}):Object(E.jsx)(p.default,{shape:"Body2"})]})]})},e.id);case _.EMarketCellData.TokenPrice:return W&&void 0!==W.price?Object(E.jsx)(c.default.Column,{text:{label:Object(C.formatMarketUnitPosition)(A,W.price<=1?Object(C.formatDecimalZero)(W.price):Object(C.formatMarketValueForComma)(W.price)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.Token24hChange:return W&&void 0!==W.priceChangePercentage24H?y?Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{w:e.minW,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(a.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:W.priceChangePercentage24H>=0?"surface-success-subdued":"surface-critical-subdued",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(u.default.Body2Strong,{textAlign:"center",color:W.priceChangePercentage24H>=0?"text-success":"text-critical",children:Object(C.formatMarketVolatility)(W.priceChangePercentage24H)+"%"})})})},e.id):Object(E.jsx)(c.default.Column,{text:{label:Object(C.formatMarketVolatility)(W.priceChangePercentage24H)+"%",labelProps:{textAlign:e.textAlign,color:W.priceChangePercentage24H>=0?"text-success":"text-critical"},size:"sm"},w:e.minW},e.id):Object(E.jsx)(c.default.Column,{flex:1,alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.Token24hVolume:return W&&void 0!==W.totalVolume?Object(E.jsx)(c.default.Column,{text:{label:Object(C.formatMarketUnitPosition)(A,Object(C.formatMarketValueForComma)(W.totalVolume)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.TokenMarketCap:return W&&void 0!==W.marketCap?Object(E.jsx)(c.default.Column,{text:{label:Object(C.formatMarketUnitPosition)(A,Object(C.formatMarketValueForComma)(W.marketCap)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.TokenSparklineChart:return Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:W&&W.sparkline?Object(E.jsx)(B,{data:W.sparkline,width:100,height:40,lineColor:W.priceChangePercentage24H&&W.priceChangePercentage24H>=0?"#33C641":"#FF6259",linearGradientColor:W.priceChangePercentage24H&&W.priceChangePercentage24H>=0?"rgba(0, 184, 18, 0.2)":"rgba(255, 98, 89, 0.2)"}):Object(E.jsx)(p.default,{shape:"Caption"})})},e.id);case _.EMarketCellData.TokenSwapStatus:return Object(E.jsx)(c.default.Column,{children:Object(E.jsxs)(a.default,{flexDirection:"row",justifyContent:"center",flex:1,ref:z,children:[W?Object(E.jsx)(N,{tokens:W.tokens}):Object(E.jsx)(p.default,{shape:"Caption"}),R===w.MARKET_FAVORITES_CATEGORYID?Object(E.jsx)(r.default,{isDisabled:Boolean(!W),size:"xs",name:"EllipsisVerticalMini",type:"plain",ml:"2",circle:!0,onPress:H}):null]})},e.id);default:return null}}))})}))},4370:function(e,t,n){"use strict";n.r(t),n.d(t,"onNavigation",(function(){return p})),n.d(t,"useWebController",(function(){return O}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(1),l=(n(25),n(400)),s=n(496),u=n(4016),d=n(832);var f=function(e){var t=e.ref,n=e.onNavigation,r=e.tabId,o=Object(c.useRef)(!1);Object(c.useEffect)((function(){}),[t,n]);var a=Object(c.useCallback)((function(){o.current&&(null==t||t.goBack())}),[t]),i=Object(c.useCallback)((function(){o.current&&(null==t||t.goForward())}),[t]),l=Object(c.useCallback)((function(){o.current&&(null==t||t.stop())}),[t]),u=Object(c.useCallback)((function(){var e=Object(s.getWebviewWrapperRef)(r);null==e||e.reload()}),[r]);return{goBack:a,goForward:i,stopLoading:l,loadURL:Object(c.useCallback)((function(e){Object(s.crossWebviewLoadUrl)({url:e,tabId:r})}),[r]),reload:u}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.url,n=e.isNewWindow,r=e.isInPlace,o=e.title,a=e.favicon,i=e.canGoBack,c=e.canGoForward,s=e.loading,f=e.id,b=Date.now(),j=Object(d.getWebTabs)(f).tab;if(j){var p=j.id;if("string"===typeof t&&t!==j.url){if(j.timestamp&&b-j.timestamp<500)return;if(l.homeResettingFlags[p]&&t!==l.homeTab.url&&b-l.homeResettingFlags[p]<1e3)return;Object(u.gotoSite)({url:t,title:o,favicon:a,isNewWindow:n,isInPlace:r,id:p})}l.webTabsActions.setWebTabData({id:p,title:o,favicon:a,canGoBack:i,canGoForward:c,loading:s})}},O=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.navigationStateChangeEvent,o=Object(d.useWebTabs)(n),a=o.currentTabId,u=o.tabs,b=o.tab,O=n||a,m=Object(c.useState)(null==(e=s.webviewRefs[O])?void 0:e.innerRef),x=i()(m,2),h=x[0],g=x[1];Object(c.useEffect)((function(){var e;null!=b&&b.refReady&&g(null==(e=s.webviewRefs[O])?void 0:e.innerRef)}),[O,null==b?void 0:b.refReady]);var v=f({ref:h,onNavigation:p,navigationStateChangeEvent:r,tabId:O}),y=v.goBack,w=v.goForward,k=v.stopLoading,_=v.reload;return{tabs:u,currentTabId:a,currentTab:b,goBack:function(){var e=(null==b?void 0:b.refReady)&&(null==b?void 0:b.canGoBack);k(),e?y():l.webTabsActions.setWebTabData(j(j({},l.homeTab),{},{id:O}))},goForward:w,stopLoading:k,reload:_}}},4568:function(e,t,n){"use strict";n.r(t),n.d(t,"useDomID",(function(){return i})),n.d(t,"default",(function(){return c}));var r=n(1),o=n(175),a=n.n(o);function i(e){return{domId:Object(r.useMemo)((function(){return e+"-"+a.a.v4()}),[e])}}function c(e){var t=e.name,n=e.visible,o=e.toggleVisible,a=i(t).domId;return Object(r.useEffect)((function(){var e=function(e){if(n&&o){var t=document.getElementById(a);t&&e.target&&function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(t,e.target)||setTimeout((function(){n&&(document.getElementById(a)&&o())}),150)}};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[a,o,n]),{domId:a}}},4569:function(e,t,n){"use strict";n.r(t),function(e){var r=n(4),o=n.n(r),a=n(1),i=n(4194),c=n(0);t.default=function(t){var n=t.freeze,r=t.children,l=Object(a.useState)(!1),s=o()(l,2),u=s[0],d=s[1];return Object(a.useEffect)((function(){e((function(){d(n)}))}),[n]),Object(c.jsx)(i.Freeze,{freeze:!!n&&u,children:r})}}.call(this,n(970).setImmediate)},4570:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(4195),i=n(4016),c=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.alwaysOpenNewWindow;return Object(c.jsx)(a.default,{onItemSelect:function(e){Object(i.openMatchDApp)({id:e._id,dapp:e,isNewWindow:t})},onItemSelectHistory:function(e){return Object(i.openMatchDApp)(s(s({},e),{},{isNewWindow:t}))}})};u.displayName="WebHomeContainer",t.default=u},4571:function(e,t,n){"use strict";n.r(t);var r;n(25);r=n(5268).Unknown,t.default=r},4572:function(e,t,n){"use strict";n.r(t),n.d(t,"SectionTitle",(function(){return j}));var r=n(53),o=n(11),a=n(26),i=n(50),c=n(1),l=n(42),s=n(89),u=n(16),d=(n(25),n(24)),f=n(107),b=(n(4058),n(0)),j=function(e){var t,n=e.title,j=e._title,p=e.tagId,O=e.onItemSelect,m=Object(s.default)(),x=Object(d.useTranslation)(),h=Object(i.default)(),g=Object(l.useNavigation)(),v=Object(c.useCallback)((function(e){null==O||O(e),Object(f.getAppNavigation)().goBack()}),[O]);return Object(b.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pl:h?"16px":"32px",pr:h?"8px":"32px",mb:"14px",children:[Object(b.jsx)(o.default,{flex:1,children:Object(b.jsx)(a.default.Heading,{numberOfLines:1,children:null!=(t=x(j))?t:n})}),Object(b.jsx)(r.default,{onPress:function(){g.navigate(u.HomeRoutes.DAppListScreen,{tagId:p,title:n,_title:j,onItemSelect:v})},height:"32px",type:"plain",size:"sm",rightIconName:"ChevronRightMini",textProps:{color:"text-subdued"},children:m.formatMessage({id:"action__see_all"})})]})}},4573:function(e,t,n){"use strict";n.r(t);var r=n(583),o=n(11),a=n(60),i=n(38),c=n(26),l=n(20),s=n(4),u=n.n(s),d=n(1),f=n(1561),b=n(1265),j=n(89),p=n(306),O=n(482),m=n(4568),x=n(1649),h=n(24),g=n(4007),v=n(3990),y=n(4326),w=n(0),k=Object(d.forwardRef)((function(e,t){var n=e.visible,s=e.searchContent,k=void 0===s?"":s,_=e.relativeComponent,S=e.onSelectorItem,I=e.onHoverItem,C=Object(j.default)(),P=Object(d.useState)(),M=u()(P,2),A=M[0],T=M[1],D=Object(h.useDebounce)(null!=k?k:"",150),R=Object(d.useRef)(null),E=Object(d.useRef)(null),B=Object(y.useSearchLocalDapp)(D,k).searchedDapps,N=Object(v.useUserBrowserHistories)(),L=Object(d.useMemo)((function(){return D?B:N.slice(0,8)}),[D,N,B]),W=Object(d.useMemo)((function(){return L}),[L]),z=Object(p.default)(),H=Object(d.useMemo)((function(){return.6*z.height}),[z]),F=Object(m.default)({name:"SelectSearch",visible:n}).domId,U=Object(x.useDropdownPosition)({triggerEle:_,contentRef:R,visible:!0,dropdownPosition:"right",translateY:9,setPositionOnlyMounted:!1,autoAdjust:!0}),V=U.position,G=U.toPxPositionValue,q=U.triggerWidth,Y=function(e){if("ArrowDown"===e)void 0!==A&&A<W.length-1?T(A+1):void 0===A&&T(0);else if("ArrowUp"===e)void 0!==A&&A>0?T(A-1):0===A&&T(void 0);else{if("Enter"!==e)return!1;if(void 0===A||!W.length)return!1;var t=W[A];null==S||S(t)}return!0};return Object(d.useEffect)((function(){T(void 0)}),[k]),Object(d.useEffect)((function(){if(void 0!==A){var e,t=W[A];null==I||I(t),null==E||null==(e=E.current)||e.scrollToIndex({index:A,viewOffset:H/2})}}),[A]),Object(d.useImperativeHandle)(t,(function(){return{onKeyPress:Y}})),Object(w.jsx)(r.default,{children:Object(w.jsx)(f.AnimatePresence,{children:n&&Object(w.jsx)(b.View,{from:{opacity:0,translateY:0},animate:{opacity:1,translateY:9},transition:{type:"timing",duration:150},exit:{opacity:0,translateY:0},children:Object(w.jsx)(o.default,{ref:R,maxH:G(H),nativeID:F,position:"absolute",width:q?G(q+35):"full",left:G(V.left),right:G(V.right),top:G(V.top),borderRadius:"12",bg:"surface-default",borderColor:"border-subdued",borderWidth:W.length>0?"1px":"0px",shadow:"depth.3",overflow:"hidden",children:Object(w.jsx)(O.FlatListRef,{ref:E,data:W,renderItem:function(e){var t,n,r,o,s,u,d=e.item,f=e.index,b=(null==(t=d.dapp)?void 0:t.name)||(null==(n=d.webSite)?void 0:n.title)||"",j=(null==(r=d.dapp)?void 0:r.url)||(null==(o=d.webSite)?void 0:o.url)||"",p=(null==(s=d.dapp)?void 0:s.logoURL)||(null==(u=d.webSite)?void 0:u.favicon)||"";return Object(w.jsx)(a.default.Item,{focusable:A===f,px:3,py:2,borderColor:A===f?"border-success-subdued":"surface-default",borderWidth:1,borderRadius:12,onPress:function(){null==S||S(d)},children:Object(w.jsxs)(i.default,{space:3,w:"100%",alignItems:"center",children:[p?Object(w.jsx)(g.default,{size:24,url:p}):Object(w.jsx)(g.FallbackIcon,{size:24}),Object(w.jsx)(l.default,{flexWrap:"wrap",typography:{sm:"Body1Strong",md:"Body2Strong"},children:function(){var e=b||"Unknown";return e.length>24?e.slice(0,24)+"...":e}()}),Object(w.jsx)(c.default.Body2,{flex:1,numberOfLines:1,color:"text-subdued",children:j})]})})},keyboardShouldPersistTaps:"handled",ListHeaderComponent:W.length>0?Object(w.jsx)(o.default,{p:3,children:Object(w.jsx)(c.default.Subheading,{color:"text-subdued",children:C.formatMessage({id:D?"title__search_results":"transaction__history"})})}):null,keyExtractor:function(e){return e.id},showsVerticalScrollIndicator:!1})})})})})}));k.displayName="SearchView",t.default=k},4574:function(e,t,n){"use strict";n.r(t),n.d(t,"useExplorerSearch",(function(){return f}));var r=n(3),o=n.n(r),a=n(1),i=n(24),c=n(16),l=n(4016),s=n(4058);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){var e=Object(i.useNavigation)();return Object(a.useCallback)((function(t){var n=t.isNewWindow,r=t.defaultUrl;e.navigate(c.RootRoutes.Modal,{screen:c.ModalRoutes.Discover,params:{screen:s.DiscoverModalRoutes.SearchHistoryModal,params:{url:r,onSelectorItem:function(e){if("string"===typeof e)return Object(l.gotoSite)({url:e,isNewWindow:n,userTriggered:!0});Object(l.openMatchDApp)(d(d({},e),{},{isNewWindow:n}))}}}})}),[e])}},4575:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(4034),a=n(400),i=n(496),c=n(0),l=function(e){var t=e.id,n=e.url;return Object(r.useMemo)((function(){return Object(c.jsx)(o.default,{id:t,src:n,onWebViewRef:function(e){e&&e.innerRef&&(i.webviewRefs[t]||a.webTabsActions.setWebTabData({id:t,refReady:!0}),i.webviewRefs[t]=e)},allowpopups:!0})}),[t])};l.displayName="WebContent",t.default=l},4576:function(e,t,n){"use strict";n.r(t),n.d(t,"useIncomingUrl",(function(){return l}));var r=n(1),o=n(1202),a=n(400),i=n(4016),c=function(){return a.webTabsActions.setIncomingUrl("")},l=function(){var e=Object(o.useSelector)((function(){return a.incomingUrlObs.get()})),t=Object(r.useCallback)((function(){e&&(Object(i.gotoSite)({url:e,isNewWindow:!0,userTriggered:!0}),c())}),[e]);return{incomingUrl:e,clearIncomingUrl:c,handleIncomingUrl:t}}},4577:function(e,t,n){"use strict";n.r(t),n.d(t,"useNotifyChanges",(function(){return b}));var r=n(1188),o=n.n(r),a=n(1),i=n(18),c=(n(25),n(17)),l=n(4578),s=n(495),u=n(16),d=n(496),f=n(832),b=(o()((function(e,t){i.default.webview.info("webview notify changed events",e,t),c.default.serviceAccount.notifyAccountsChanged(),c.default.serviceNetwork.notifyChainChanged()}),150,{leading:!1,trailing:!0}),function(){var e=Object(s.useIsMounted)(),t=Object(f.useWebTabs)().tab,n=null==t?void 0:t.url,r=null==t?void 0:t.id,o=Object(d.getWebviewWrapperRef)(r),i=Object(l.useIsFocusedInTab)(u.TabRoutes.Discover);Object(a.useEffect)((function(){}),[o,i]),Object(a.useEffect)((function(){}),[i,e,n,o])})},4578:function(e,t,n){"use strict";n.r(t),n.d(t,"useIsFocusedInTab",(function(){return i}));var r=n(1),o=n(42),a=n(1379),i=function(e){var t=Object(o.useIsFocused)();return Object(r.useMemo)((function(){var n=t;return t||(n=Object(a.isAtAppRootTab)(e)),n}),[t,e])}},4587:function(e,t,n){"use strict";n.r(t),n.d(t,"DesktopUnrestricted",(function(){return be})),n.d(t,"DesktopRestricted",(function(){return je})),n.d(t,"Desktop",(function(){return pe}));var r=n(11),o=n(1),a=n(3990),i=n(4027),c=n(251),l=n(3),s=n.n(l),u=n(194),d=n(42),f=n(89),b=n(28),j=(n(25),n(24)),p=n(4571),O=n(4046),m=n(4),x=n.n(m),h=n(0),g=function(){var e=Object(f.default)(),t=Object(j.useTranslation)(),n=Object(o.useContext)(i.DiscoverContext),r=n.categoryId,c=n.setCategoryId,l=Object(a.useCategories)(),s=Object(o.useMemo)((function(){return l?[{name:e.formatMessage({id:"msg__mine"}),_id:""}].concat(l):[]}),[l,e]),u=Object(o.useState)((function(){return s.findIndex((function(e){return e._id===r}))})),d=x()(u,2),b=d[0],p=d[1],m=Object(o.useCallback)((function(e){var t=s[e]._id;c(t),p(e)}),[s,c]),g=Object(o.useMemo)((function(){return s.map((function(e){var n;return{text:null!=(n=t(e._name))?n:e.name}}))}),[s,t]);return s.length?Object(h.jsx)(O.default,{px:"8",buttons:g,selectedIndex:b,onButtonPress:m,bg:"background-default"}):null},v=n(38),y=n(482),w=n(60),k=n(160),_=n(576),S=n(306),I=function(){return Object(h.jsx)(r.default,{h:"3"})},C=function(e){var t=e.offset,n=Object(S.default)().width-270-48+(null!=t?t:0),a=Math.floor(n/250),i=n/a,c=Object(o.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),l=Object(o.useCallback)((function(){return Object(h.jsx)(r.default,{width:i,maxWidth:i,minWidth:i,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(w.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12px",padding:"4",width:i-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",children:[Object(h.jsxs)(r.default,{flexDirection:"row",mb:"3",children:[Object(h.jsx)(r.default,{w:"12",h:"12",overflow:"hidden",borderRadius:12,children:Object(h.jsx)(_.default,{})}),Object(h.jsxs)(r.default,{ml:"3",children:[Object(h.jsx)(k.default,{shape:"Body1"}),Object(h.jsx)(k.default,{shape:"Caption"})]})]}),Object(h.jsx)(r.default,{h:"4",w:"full",mb:"2",borderRadius:8,overflow:"hidden",children:Object(h.jsx)(_.default,{})}),Object(h.jsx)(r.default,{h:"3",w:"80%",borderRadius:6,overflow:"hidden",children:Object(h.jsx)(_.default,{})})]})})}),[i]),s=Object(o.useMemo)((function(){return Object(h.jsx)(y.default,{paddingLeft:"24px",data:c,renderItem:l,numColumns:a,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return""+e},ItemSeparatorComponent:I},"key"+a)}),[c,a,l]);return Object(h.jsx)(r.default,{width:"100%",children:s})},P=function(){return Object(h.jsx)(r.default,{h:"8"})},M=function(e){var t=e.ListHeaderComponent,n=e.offset;return Object(h.jsx)(y.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},data:[1,2,3,4],ListHeaderComponent:t,renderItem:function(){return Object(h.jsx)(C,{offset:n})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:P})},A=function(){return Object(h.jsx)(v.default,{px:"4",my:"4",space:3,children:[1,2,3,4].map((function(e){return Object(h.jsx)(r.default,{h:"7",w:"12",borderRadius:12,overflow:"hidden",children:Object(h.jsx)(_.default,{})},e)}))})},T=function(e){var t=e.offset;return Object(h.jsx)(M,{offset:t,ListHeaderComponent:A})},D=new(n(703).CrossEventEmitter),R=n(376),E=n(49),B=n(2),N=n.n(B),L=n(26),W=n(4595),z=n(4016),H=n(4573),F=n(4590),U=function(e){return Object(h.jsx)(L.default.DisplayXLarge,{color:"text-success",children:e})},V=function(){var e=Object(f.default)(),t=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useState)(""),i=x()(a,2),c=i[0],l=i[1],s=Object(o.useState)(!1),u=x()(s,2),d=u[0],b=u[1],j=Object(o.useCallback)(N()((function*(){c&&(b(!1),yield Object(W.wait)(200),Object(z.gotoSite)({url:c,userTriggered:!0}),setTimeout((function(){l("")}),100))})),[c]),p=function(e){var t;return null==(t=n.current)?void 0:t.onKeyPress(e)},O=Object(o.useCallback)(function(){var e=N()((function*(e){"string"===typeof e?Object(z.gotoSite)({url:e,userTriggered:!0}):Object(z.openMatchDApp)(e),b(!1),yield Object(W.wait)(200),setTimeout((function(){l("")}),100)}));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){var e=function(){var e;b(!1),null==(e=t.current)||null==e.blur||e.blur()};return D.on("scroll",e),function(){D.off("scroll",e)}}),[]),Object(h.jsx)(E.default,{children:Object(h.jsxs)(r.default,{width:"640px",maxW:"full",px:"4",children:[Object(h.jsx)(E.default,{mx:"4",mt:"8",mb:"6",children:Object(h.jsx)(L.default.DisplayXLarge,{children:e.formatMessage({id:"title__explore_web_3_world_with_onekey"},{a:U})})}),Object(h.jsxs)(E.default,{position:"relative",children:[Object(h.jsx)(R.default,{size:"xl",w:"full",placeholder:e.formatMessage({id:"content__search_dapps_or_type_url"}),leftIconName:"SearchOutline",value:c,onChangeText:l,onSubmitEditing:j,onFocus:function(){return b(!0)},onBlur:function(){return b(!1)},ref:t,onKeyPress:function(e){var t=e.nativeEvent.key;"ArrowUp"!==t&&"ArrowDown"!==t&&"Enter"!==t||null!=p&&p(t)&&e.preventDefault()}}),d?Object(h.jsx)(H.default,{ref:n,visible:d,relativeComponent:t.current,onSearchContentChange:l,searchContent:c,onSelectorItem:function(e){b(!1),setTimeout((function(){var n;O(e),null==(n=t.current)||null==n.blur||n.blur()}),100)}}):null]}),Object(h.jsx)(E.default,{children:Object(h.jsx)(r.default,{w:"360px",children:Object(h.jsx)(F.BrowserShortcuts,{})})})]})})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=b.default.create({container:{paddingBottom:12,paddingTop:12}}),K=function(){return Object(j.useAppSelector)((function(e){return e.discover.home}))?Object(h.jsxs)(r.default,{children:[Object(h.jsx)(V,{}),Object(h.jsx)(r.default,{mt:"8",children:Object(h.jsx)(g,{})})]}):null},X=function(){return Object(j.useAppSelector)((function(e){return e.discover.home}))?Object(h.jsx)(u.default,{title:""}):Object(h.jsx)(T,{})},Q=function(){var e=Object(f.default)(),t=Object(d.useNavigation)(),n=Object(a.useTaggedDapps)(),l=Object(o.useContext)(i.DiscoverContext).onItemSelect,s=Object(o.useMemo)((function(){return n.map((function(e){return{title:e.label,data:e.items,tagId:e.id,_title:e._label}}))}),[n]);return Object(o.useLayoutEffect)((function(){0}),[t,e]),0===n.length?Object(h.jsx)(X,{}):Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(h.jsxs)(c.default,{contentContainerStyle:Y.container,scrollEventThrottle:100,onScroll:function(){D.emit("scroll")},children:[Object(h.jsx)(K,{}),s.map((function(e){return Object(h.jsx)(p.default,q(q({},e),{},{onItemSelect:l}),e.title)}))]})})},Z=n(100),J=n(98),$=n(123),ee=n(4356),te=n.n(ee),ne=n(4122),re=n(4007),oe=n(4030),ae=Object(o.createContext)({selectedNetworkId:"",setSelectedNetworkId:function(){}}),ie=function(e){var t=e.logoURI,n=e.networkId,a=Object(o.useContext)(ae),i=a.selectedNetworkId,c=a.setSelectedNetworkId,l=i===n;return Object(h.jsx)(w.default,{onPress:function(){c(n)},children:function(e){var n=e.isHovered,o=e.isPressed;return Object(h.jsx)(r.default,{p:1.5,m:1,borderWidth:2,borderColor:l?"interactive-default":o?"border-default":n?"border-subdued":"transparent",rounded:"full",children:t?Object(h.jsx)($.default,{size:8,token:{logoURI:t}}):Object(h.jsx)(r.default,{w:"8",h:"8",children:Object(h.jsx)(J.default,{size:8,source:te.a})})})}})},ce=function(e){var t=e.networkIds,n=Object(j.useAppSelector)((function(e){return e.runtime.networks})),r=Object(o.useMemo)((function(){var e=n.filter((function(e){return t.includes(e.id)})).map((function(e){return{logoURI:e.logoURI,networkId:e.id}}));return[{networkId:""}].concat(e)}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(h.jsx)(ie,{logoURI:t.logoURI,networkId:t.networkId})}),[]);return Object(h.jsx)(y.default,{data:r,renderItem:a,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.networkId}})},le=function(){return Object(h.jsx)(M,{offset:-120})},se=function(e){var t=e.dapps,n=Object(o.useContext)(ae).selectedNetworkId,a=Object(j.useTranslation)(),c=Object(o.useContext)(i.DiscoverContext).onItemSelect,l=Object(S.default)().width-256-72-24-80,s=Math.floor(l/250),u=l/s,d=Object(o.useCallback)((function(e){var t,n=e.item;return Object(h.jsx)(oe.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(h.jsx)(r.default,{width:u,maxWidth:u,minWidth:u,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(w.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:u-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){c&&c(n)},children:[Object(h.jsxs)(r.default,{flexDirection:"row",children:[Object(h.jsx)(re.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(h.jsxs)(r.default,{ml:"3",flex:"1",children:[Object(h.jsx)(L.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(h.jsx)(ne.Chains,{networkIds:n.networkIds})]})]}),Object(h.jsx)(L.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=a(n._subtitle))?t:n.subtitle})]})})})}),[u,c,a]),f=Object(o.useMemo)((function(){return n?t.filter((function(e){return e.networkIds.includes(n)})):t}),[n,t]);return Object(h.jsx)(y.default,{paddingLeft:"24px",paddingRight:"24px",data:f,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,renderItem:d,numColumns:s,keyExtractor:function(e){return e._id},ListEmptyComponent:le},"key"+s)};function ue(){var e=Object(o.useContext)(i.DiscoverContext).categoryId,t=Object(a.useCategoryDapps)(e),n=Object(o.useMemo)((function(){var e=t.reduce((function(e,t){return e.concat(t.networkIds)}),[]);return Array.from(new Set(e))}),[t]);return Object(h.jsxs)(r.default,{flex:"1",bg:"background-default",pt:"3",children:[Object(h.jsx)(r.default,{h:"9",children:Object(h.jsx)(g,{})}),Object(h.jsxs)(r.default,{flex:"1",flexDirection:"row",mt:"4",children:[Object(h.jsx)(r.default,{pl:"4",pr:"2",children:Object(h.jsx)(ce,{networkIds:n})}),Object(h.jsx)(Z.default,{orientation:"vertical"}),Object(h.jsx)(r.default,{flex:"1",children:Object(h.jsx)(se,{dapps:t})})]})]})}var de=function(){var e=Object(o.useContext)(i.DiscoverContext).categoryId,t=Object(o.useState)(""),n=x()(t,2),r=n[0],a=n[1];Object(o.useEffect)((function(){a("")}),[e]);var c=Object(o.useMemo)((function(){return{selectedNetworkId:r,setSelectedNetworkId:a}}),[r]);return Object(h.jsx)(ae.Provider,{value:c,children:Object(h.jsx)(ue,{})})},fe=function(){var e=Object(f.default)(),t=Object(d.useNavigation)();return Object(o.useLayoutEffect)((function(){0}),[t,e]),Object(h.jsx)(r.default,{flex:"1",background:"background-default",children:Object(h.jsx)(V,{})})},be=function(){var e=Object(o.useContext)(i.DiscoverContext).categoryId;return Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:e?Object(h.jsx)(de,{}):Object(h.jsx)(Q,{})})},je=function(){return Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(h.jsx)(fe,{})})},pe=function(){return Object(a.useShowBookmark)()?Object(h.jsx)(be,{}):Object(h.jsx)(je,{})}},4588:function(e,t,n){"use strict";n.r(t);var r=n(4082),o=n(11),a=n(263);var i=n(4570),c=n(496),l=n(38),s=n(60),u=n(78),d=n(3),f=n.n(d),b=n(376),j=n(4),p=n.n(j),O=n(15),m=n.n(O),x=n(1),h=n(89),g=n(17),v=n(1622),y=n(107),w=n(16),k=n(400),_=n(4081),S=n(4355),I=n(4016),C=n(4370),P=n(4573),M=n(0),A=["value","onClear","onChangeText","customLeftIcon"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=Object(x.forwardRef)((function(e,t){var n=e.value,r=e.onClear,o=e.onChangeText,a=e.customLeftIcon,i=m()(e,A),c=Object(x.useState)(n),l=p()(c,2),s=l[0],u=l[1],d=Object(x.useCallback)((function(e){"undefined"===typeof n?u(e):"undefined"!==typeof o&&o(e)}),[n,o]);return Object(M.jsx)(b.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,value:null!=n?n:s,leftIconName:null!=a?a:"MagnifyingGlassMini",placeholder:"Search...",autoCorrect:!1,autoCapitalize:"none",onPressRightIcon:r,onChangeText:d},i))}));D.displayName="BrowserURLInput";var R=function(){var e=Object(h.default)(),t=Object(x.useState)(!1),n=p()(t,2),r=n[0],a=n[1],i=Object(C.useWebController)(),c=i.currentTab,d=i.stopLoading,f=i.goBack,b=i.goForward,j=i.reload,O=c.loading,m=c.canGoBack,A=c.canGoForward,T=function(e){if("string"===typeof e)return Object(I.gotoSite)({url:e,userTriggered:!0});Object(I.openMatchDApp)(e)},R=(null==c?void 0:c.url)||"",E=Object(x.useState)(R),B=p()(E,2),N=B[0],L=B[1],W=function(e){try{if(!e)return"SearchOutline";var t=new URL(e);if("https:"===t.protocol)return"LockClosedMini";if("http:"===t.protocol)return"ExclamationTriangleMini"}catch(n){return"SearchOutline"}return"SearchOutline"}(R);Object(x.useEffect)((function(){L(R)}),[R]);var z=Object(x.useRef)(null),H=Object(x.useRef)(null),F=function(e){var t;return null==(t=H.current)?void 0:t.onKeyPress(e)},U=Object(x.useCallback)((function(){Object(y.getAppNavigation)().navigate(w.RootRoutes.Modal,{screen:w.ModalRoutes.GasPanel,params:{screen:_.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.default,{bg:"background-default",w:"100%",h:"48px",px:8,space:3,alignItems:"center",children:[Object(M.jsx)(u.default,{type:"plain",name:"ArrowLeftOutline",disabled:!m,isDisabled:!m,onPress:f}),Object(M.jsx)(u.default,{type:"plain",name:"ArrowRightOutline",disabled:!A,isDisabled:!A,onPress:b}),Object(M.jsx)(u.default,{type:"plain",name:O?"XMarkOutline":"ArrowPathOutline",onPress:O?d:j}),Object(M.jsx)(s.default,{flex:1,style:{WebkitAppRegion:"no-drag"},children:Object(M.jsx)(D,{ref:z,w:"100%",h:"32px",placeholder:e.formatMessage({id:"content__search_or_enter_dapp_url"}),customLeftIcon:W,size:"base",value:N,onClear:function(){return L("")},onChangeText:L,onSubmitEditing:function(e){var t=e.nativeEvent.text.trim();t&&(L(t),T(t))},onKeyPress:function(e){var t=e.nativeEvent.key;"ArrowUp"!==t&&"ArrowDown"!==t&&"Enter"!==t||null!=F&&F(t)&&e.preventDefault()},selectTextOnFocus:!0,onFocus:function(){a(!0)},onBlur:function(){""===(null==N?void 0:N.trim())&&L(R),a(!1)},rightElement:(null==c?void 0:c.id)!==k.homeTab.id?Object(M.jsx)(u.default,{onPress:function(){return c&&g.default.serviceDiscover.toggleFavorite(c.url)},type:"plain",name:"StarMini",iconColor:null!=c&&c.isBookmarked?"icon-warning":"icon-default"}):void 0})}),Object(M.jsx)(v.NetworkAccountSelectorTriggerDesktop,{}),Object(M.jsx)(s.default,{h:"full",onPress:U,children:function(e){var t=e.isHovered,n=e.isPressed;return Object(M.jsx)(o.default,{flexDirection:"row",h:"full",alignItems:"center",children:Object(M.jsx)(o.default,{px:2,py:1,bg:n?"surface-pressed":t?"surface-hovered":void 0,borderRadius:"full",children:Object(M.jsx)(S.GasPriceMini,{})})})}})]}),Object(M.jsx)(P.default,{ref:H,visible:r,onSearchContentChange:L,searchContent:N,onSelectorItem:function(e){var t;T(e),null==(t=z.current)||t.blur()},relativeComponent:z.current})]})};R.displayName="ControllerBarDesktop";var E=R,B=n(26),N=n(53),L=n(208),W=n(4368),z=n(25),H=n(2739),F=(n(422),Object(H.getDisplayKeysMap)(z.default.isDesktopMac)),U=function(e){var t=e.children,n=F[t]||t;return Object(M.jsx)(o.default,{bg:"surface-neutral-subdued",borderRadius:"6px",px:"6px",height:"20px",justifyContent:"center",alignItems:"center",ml:"2px",children:Object(M.jsx)(B.default.CaptionStrong,{children:n})})};Object(x.memo)((function(e){var t=e.desc,n=e.keys,r=null==n?void 0:n.split("+").map((function(e,t){return Object(M.jsx)(U,{children:e},t)}));return Object(M.jsxs)(o.default,{p:"8px",flexDirection:"row",justifyContent:"space-between",children:[Object(M.jsx)(B.default.Body2,{children:t}),Object(M.jsx)(o.default,{ml:"6px",flexDirection:"row",children:r})]})})).displayName="ShortcutsDescription";var V=x.Fragment,G=n(5271),q=n.n(G),Y=n(832);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=Object(H.getShortcutsMap)(z.default.isDesktopMac),Z=function(e){var t=e.isCurrent,n=e.id,r=e.title,o=e.onLayout,a=e.favicon,i=Object(x.useCallback)((function(){k.webTabsActions.setCurrentWebTab(n)}),[n]),c=Object(x.useCallback)((function(){k.webTabsActions.closeWebTab(n)}),[n]);return"home"===n?Object(M.jsx)(N.default,{type:"plain",w:"52px",borderRadius:0,bg:t?"background-default":"background-hovered",leftIconName:"HomeMini",iconSize:16,iconColor:t?"icon-hovered":"icon-default",onPress:i,borderRightColor:"border-default",borderRightWidth:"0.5px",onLayout:o}):Object(M.jsxs)(s.default,{_hover:{bg:t?"background-default":"action-secondary-hovered"},borderRightColor:"border-default",borderRightWidth:"0.5px",px:"12px",bg:t?"background-default":"background-hovered",onPress:i,flexDirection:"row",justifyContent:"space-between",alignItems:"center",onLayout:o,children:[Object(M.jsx)(L.default,{style:{width:16,height:16,marginRight:8},source:{uri:a},defaultSource:q.a}),Object(M.jsx)(B.default.Caption,{maxW:"82px",mr:"10px",isTruncated:!0,color:t?"text-default":"text-subdued",children:r}),Object(M.jsx)(V,{desc:Q[H.ExplorerShortcutEvents.CloseTab].desc,keys:Q[H.ExplorerShortcutEvents.CloseTab].keys,children:Object(M.jsx)(N.default,{size:"xs",type:"plain",iconSize:12,leftIconName:"XMarkMini",onPress:c})})]})},J=function(){return Object(M.jsx)(V,{desc:Q[H.ExplorerShortcutEvents.NewTabAndFocus].desc,keys:Q[H.ExplorerShortcutEvents.NewTabAndFocus].keys,children:Object(M.jsx)(N.default,{flex:1,borderRadius:0,type:"plain",leftIconName:"PlusMini",onPress:k.webTabsActions.addBlankWebTab})})},$=function(){var e=Object(Y.useWebTabs)().tabs,t=Object(x.useMemo)((function(){return e.slice(1)}),[e]),n=Object(x.useRef)(null);return Object(x.useEffect)((function(){setTimeout((function(){var e;return null==(e=n.current)?void 0:e.scrollToEnd()}),50)}),[n,e.length]),Object(M.jsxs)(o.default,{flexDirection:"row",w:"100%",h:"32px",alignItems:"center",children:[Object(M.jsx)(Z,X({},e[0])),Object(M.jsx)(o.default,{flex:1,h:"32px",children:Object(M.jsxs)(W.default,{ref:n,style:{maxWidth:"100%",flexGrow:0,height:32},leftButtonProps:{borderRadius:null},rightButtonProps:{borderRadius:null},children:[t.map((function(e){return Object(M.jsx)(Z,X({},e),e.id)})),Object(M.jsx)(J,{})]})})]})};$.displayName="TabBarDesktop";var ee=$,te=n(42),ne=n(4194),re=n(28),oe=n(41),ae=n(4195),ie=n(4575),ce=n(4576),le=n(4577);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=re.default.create({blankPage:ue(ue({},re.default.absoluteFillObject),{},{zIndex:1})}),fe=Object(x.memo)((function(){Object(le.useNotifyChanges)();var e=Object(Y.useWebTabs)(),t=e.tabs,n=e.tab,r=Object(ce.useIncomingUrl)().handleIncomingUrl,a=(null==n?void 0:n.url)===k.homeTab.url;return Object(te.useFocusEffect)(r),Object(M.jsxs)(o.default,{flex:1,zIndex:3,children:[t.map((function(e){return Object(M.jsx)(ne.Freeze,{freeze:!e.isCurrent,children:Object(M.jsx)(ie.default,ue({},e))},e.id)})),Object(M.jsx)(ne.Freeze,{freeze:!a,children:Object(M.jsx)(oe.default,{style:de.blankPage,children:Object(M.jsx)(ae.default,{onItemSelect:I.onItemSelect,onItemSelectHistory:I.openMatchDApp})})})]})}));fe.displayName="TabbedWebContainer";var be=fe,je="browser"!==c.webHandler;t.default=function(){var e=Object(a.default)().top;return Object(M.jsxs)(o.default,{flex:"1",zIndex:3,children:[je&&Object(M.jsx)(r.default,{children:Object(M.jsxs)(o.default,{mt:(e?e+10:0)+"px",bg:"surface-subdued",zIndex:5,children:[Object(M.jsx)(ee,{}),Object(M.jsx)(E,{})]})}),"tabbedWebview"===c.webHandler?Object(M.jsx)(be,{}):Object(M.jsx)(i.default,{})]})}},4590:function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserShortcuts",(function(){return k}));var r=n(3990),o=n(60),a=n(11),i=n(26),c=n(40),l=n(49),s=n(1),u=n(89),d=n(24),f=n(16),b=n(4081),j=n(4355),p=n(4058),O=n(4562),m=n(4027),x=n(443),h=n(17),g=n(0),v=function(e){var t=e.logoURL,n=e.url,r=e.isHovered;return Object(s.useEffect)((function(){n&&!t&&h.default.serviceDiscover.fillInUserBrowserHistory({url:n})}),[]),Object(g.jsx)(a.default,{justifyContent:"center",alignItems:"center",width:"12",height:"12",borderRadius:12,borderWidth:"1px",bgColor:r?"surface-hovered":"surface-subdued",borderColor:r?"border-hovered":"border-subdued",children:Object(g.jsx)(a.default,{width:"8",height:"8",children:t?Object(g.jsx)(x.default,{src:t,width:"32px",height:"32px",borderRadius:"8px",fallbackElement:Object(g.jsx)(a.default,{borderRadius:8,overflow:"hidden",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",children:Object(g.jsx)(c.default,{size:16,name:"GlobeAltMini"})})}):Object(g.jsx)(a.default,{borderRadius:8,justifyContent:"center",alignItems:"center",width:"32px",height:"32px",children:Object(g.jsx)(c.default,{size:16,name:"GlobeAltMini"})})})})},y=function(e){var t,n,r,c,l,u,d=e.item,f=Object(s.useContext)(m.DiscoverContext).onItemSelectHistory,b=(null==(t=d.dapp)?void 0:t.logoURL)||(null==(n=d.webSite)?void 0:n.favicon)||"",j=(null==(r=d.dapp)?void 0:r.name)||(null==(c=d.webSite)?void 0:c.title)||"",p=(null==(l=d.dapp)?void 0:l.url)||(null==(u=d.webSite)?void 0:u.url)||"",x=Object(s.useCallback)((function(){f({id:d.id,webSite:{title:j,url:p,favicon:b}})}),[f,j,p,b,d]);return Object(g.jsx)(o.default,{onPress:x,children:function(e){var t=e.isPressed,n=e.isHovered;return Object(g.jsxs)(a.default,{py:"2",borderRadius:12,justifyContent:"center",alignItems:"center",children:[Object(g.jsx)(v,{logoURL:b,url:p,isHovered:n||t}),Object(g.jsx)(i.default.Caption,{w:"16",mt:"2",numberOfLines:2,textAlign:"center",noOfLines:2,children:j||Object(O.getUrlDomain)(p)||"Unknown"})]})}})},w=function(e){var t=e.histories,n=Object(u.default)(),r=Object(d.useNavigation)(),O=Object(s.useMemo)((function(){return t.slice(0,4)}),[t]),m=Object(s.useCallback)((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Discover,params:{screen:p.DiscoverModalRoutes.Favorites}})}),[r]),x=Object(s.useCallback)((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Discover,params:{screen:p.DiscoverModalRoutes.History}})}),[r]),h=Object(s.useCallback)((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.GasPanel,params:{screen:b.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[r]);return Object(g.jsxs)(a.default,{w:"full",flexDirection:"row",mt:"8",flexWrap:"wrap",alignItems:"flex-start",children:[Object(g.jsx)(l.default,{flexDirection:"row",alignItems:"flex-start",w:"full",children:O.slice(0,4).map((function(e){return Object(g.jsx)(l.default,{w:"72px",mb:"4",children:Object(g.jsx)(y,{item:e})},e.id)}))}),Object(g.jsxs)(l.default,{flexDirection:"row",alignItems:"flex-start",w:"full",children:[Object(g.jsx)(l.default,{w:"72px",mb:"4",children:Object(g.jsxs)(o.default,{alignItems:"center",onPress:m,children:[Object(g.jsx)(l.default,{w:"12",h:"12",borderRadius:12,borderColor:"border-subdued",borderWidth:.5,bg:"surface-subdued",children:Object(g.jsx)(c.default,{name:"StarMini"})}),Object(g.jsx)(a.default,{mt:"2",children:Object(g.jsx)(i.default.Caption,{children:n.formatMessage({id:"title__favorite"})})})]})}),Object(g.jsx)(l.default,{w:"72px",mb:"4",children:Object(g.jsxs)(o.default,{alignItems:"center",onPress:x,children:[Object(g.jsx)(l.default,{w:"12",h:"12",borderRadius:12,borderColor:"border-subdued",borderWidth:.5,bg:"surface-subdued",children:Object(g.jsx)(c.default,{name:"ClockMini"})}),Object(g.jsx)(a.default,{mt:"2",children:Object(g.jsx)(i.default.Caption,{children:n.formatMessage({id:"transaction__history"})})})]})}),Object(g.jsx)(l.default,{w:"72px",mb:"4",children:Object(g.jsxs)(o.default,{alignItems:"center",onPress:h,children:[Object(g.jsx)(j.GasPrice,{}),Object(g.jsx)(a.default,{mt:"2",children:Object(g.jsx)(i.default.Caption,{children:"\ud83d\udd25Gas"})})]})})]})]})},k=function(){var e=Object(r.useUserBrowserHistories)();return Object(g.jsx)(w,{histories:e})}},5268:function(e,t,n){"use strict";n.r(t),n.d(t,"Unknown",(function(){return b}));var r,o,a=n(3),i=n.n(a),c=n(50),l=n(161),s=n.n(l),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=Object.assign({},(s()(e),e)),a=Object(c.default)();return a&&!r?r=n(5269).Mobile:a||o||(o=n(5270).Desktop),a?Object(u.jsx)(r,f({},t)):Object(u.jsx)(o,f({},t))}},5269:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return O}));var r=n(251),o=n(4),a=n.n(o),i=n(60),c=n(11),l=n(26),s=n(24),u=n(4007),d=n(4030),f=n(4572),b=n(0),j=function(e){var t,n=e.item,r=e.onItemSelect,o=e.mt,a=Object(s.useTranslation)();return Object(b.jsx)(d.default,{url:n.url,hoverButtonProps:{right:"4px",bottom:"30px"},children:Object(b.jsxs)(i.default,{w:"260px",ml:"4",borderRadius:"12px",alignItems:"center",flexDirection:"row",onPress:function(){null==r||r(n)},mt:o,children:[Object(b.jsx)(u.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(b.jsxs)(c.default,{flex:1,ml:"2",children:[Object(b.jsx)(l.default.Body2Strong,{numberOfLines:1,children:n.name}),Object(b.jsx)(l.default.Caption,{numberOfLines:1,mt:"1",color:"text-subdued",overflow:"hidden",children:null!=(t=a(n._subtitle))?t:n.subtitle})]})]})})},p=function(e){var t=a()(e.items,2),n=t[0],r=t[1],o=e.onItemSelect;return Object(b.jsxs)(c.default,{children:[n?Object(b.jsx)(j,{item:n,onItemSelect:o}):null,r?Object(b.jsx)(j,{item:r,onItemSelect:o,mt:"5"}):null]})},O=function(e){var t=e.title,n=e.data,o=e.tagId,a=e._title,i=e.onItemSelect,l=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}(n);return Object(b.jsxs)(c.default,{width:"100%",mt:"8",children:[Object(b.jsx)(f.SectionTitle,{tagId:o,title:t,_title:a,onItemSelect:i}),Object(b.jsx)(r.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:l.map((function(e,t){return Object(b.jsx)(p,{items:e,onItemSelect:i},t)}))})]})}},5270:function(e,t,n){"use strict";n.r(t),n.d(t,"Desktop",(function(){return h}));var r=n(1150),o=n.n(r),a=n(60),i=n(11),c=n(26),l=n(1),s=n(306),u=(n(25),n(24)),d=n(4122),f=n(4007),b=n(4030),j=n(4572),p=n(0),O=function(e){var t,n=e.item,r=e.cardWidth,o=e.onItemSelect,s=Object(l.useRef)(null),j=Object(u.useTranslation)();return Object(p.jsx)(b.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(p.jsx)(i.default,{width:r,maxWidth:r,minWidth:r,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(p.jsxs)(a.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:r-16,height:128,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){null==o||o(n)},ref:s,children:[Object(p.jsxs)(i.default,{flexDirection:"row",children:[Object(p.jsx)(f.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(p.jsxs)(i.default,{ml:"3",flex:"1",children:[Object(p.jsx)(c.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(p.jsx)(d.Chains,{networkIds:n.networkIds})]})]}),Object(p.jsx)(c.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=j(n._subtitle))?t:n.subtitle})]})})})},m=function(e){var t=e.items,n=e.cardWidth,r=e.onItemSelect;return Object(p.jsx)(i.default,{flexDirection:"row",alignItems:"center",children:t.map((function(e){return Object(p.jsx)(O,{item:e,cardWidth:n,onItemSelect:r},e._id)}))})},x=function(e){var t=e.width,n=e.data,r=e.onItemSelect,a=t-270-48,c=Math.floor(a/250),l=a/c,s=n.slice(0,8),u=o()(s,c).map((function(e){return{key:e[0]._id,items:e}}));return Object(p.jsx)(i.default,{pl:"6",children:null==u?void 0:u.map((function(e){return Object(p.jsx)(m,{items:e.items,onItemSelect:r,cardWidth:l},e.key)}))})},h=function(e){var t=e.title,n=e._title,r=e.data,o=e.onItemSelect,a=e.tagId,c=Object(s.default)().width,l=Object(u.useDebounce)(c,1e3);return Object(p.jsxs)(i.default,{w:"100%",mt:"8",children:[Object(p.jsx)(j.SectionTitle,{title:t,_title:n,tagId:a,onItemSelect:o}),Object(p.jsx)(x,{data:r,onItemSelect:o,width:l})]})}},5271:function(e,t,n){e.exports=n.p+"static/media/dapp_favicon.79b7c17c.png"},5280:function(e,t,n){e.exports=n.p+"static/media/nft_pnl_empty_image.829dbd23.png"},5281:function(e,t,n){e.exports=n.p+"static/media/nft_pnl_empty_image_light.bf388bb9.png"},5283:function(e){e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},5284:function(e){e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.83137254902,0.83137254902,0.866666666667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},5285:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"OneKeyPerfTraceLog",(function(){return a}));var r=n(1),o={};function a(t){var n=t.name,a=t.once,i=void 0===a||a,c=Object(r.useCallback)((function(){var t;null==(t=e.$$onekeyPerfTrace)||t.log({name:n})}),[n]);return n&&(i&&!o[n]&&(c(),o[n]=!0),i||c()),null}}.call(this,n(59))},5286:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DevSettingSection",(function(){return T}));var r=n(2),o=n.n(r),a=n(335),i=n(38),c=n(53),l=n(60),s=n(20),u=n(497),d=n(358),f=n(11),b=n(26),j=n(45),p=n(678),O=n(1),m=n(89),x=n(101),h=n(168),g=n(102),v=n(17),y=n(48),w=n(86),k=n(109),_=n(25),S=n(1622),I=n(241),C=n(5287),P=n(0),M={};var A=Object.freeze({}),T=function(){var t,n,r=Object(p.default)().themeVariant,T=Object(y.useSettings)(),D=T.devMode,R=T.pushNotification,E=T.instanceId,B=null==R?void 0:R.registrationId,N=D||A,L=N.enable,W=N.preReleaseUpdate,z=N.updateDeviceBle,H=N.updateDeviceSys,F=N.updateDeviceRes,U=N.enableTestFiatEndpoint,V=N.enableZeroNotificationThreshold,G=N.enablePerfCheck,q=N.defiBuildService,Y=N.hideDiscoverContent,K=N.onRamperTestMode,X=N.showWebEmbedWebviewAgent,Q=N.showContentScriptReloadButton,Z=v.default.dispatch,J=Object(m.default)();!function(e){var t=e.enablePerfCheck;Object(O.useEffect)((function(){if(t&&_.default.isRuntimeBrowser){var e=function(e){var t,n=e.detail,r=(null==n?void 0:n.testID)||[null==n?void 0:n.componentName,null==n||null==(t=n.flatListInfo)?void 0:t.cellKey].filter(Boolean).join("--");r&&n&&(M[r]=n)};return window.addEventListener("OneKeyEventPerfCheck",e),function(){window.removeEventListener("OneKeyEventPerfCheck",e)}}}),[t])}({enablePerfCheck:G});var $=Object(O.useMemo)((function(){return E}),[B,E]),ee=Object(O.useCallback)((function(){Z(Object(w.setPreReleaseUpdate)(!W))}),[W,Z]),te=Object(O.useCallback)((function(){Z(Object(w.setDevMode)(!L))}),[L,Z]),ne=Object(O.useCallback)((function(){Object(h.copyToClipboard)($||""),j.default.show({title:J.formatMessage({id:"msg__copied"})})}),[J,$]),re=Object(O.useMemo)(g.getFiatEndpoint,[U]);return Object(P.jsxs)(f.default,{w:"full",mb:"6",children:[Object(P.jsx)(f.default,{pb:"2",children:Object(P.jsx)(b.default.Subheading,{color:"text-critical",children:J.formatMessage({id:"form__dev_mode"})})}),Object(P.jsxs)(u.default.Box,{borderWidth:"light"===r?1:void 0,borderColor:"border-critical-default",borderRadius:"12",bg:"surface-default",children:[Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_mode"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:L,onToggle:te})}),Object(P.jsx)(u.default.Item,{title:"Build Hash",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(s.default,{color:"text-subdued",children:Object(x.shortenAddress)("05a207d9765d096d3f66551e0970831b7a76e1f4")})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_pre_update"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:W,onToggle:ee})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_ble_firmware"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:z,onToggle:function(){Z(Object(w.setUpdateDeviceBle)(!z))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_firmware"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:H,onToggle:function(){Z(Object(w.setUpdateDeviceSys)(!H))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_resource"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:F,onToggle:function(){Z(Object(w.setUpdateDeviceRes)(!F))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_onekey_service"}),subDescribe:"\u8303\u56f4: \n[token\u3001\u4ef7\u683c\u3001\u4f59\u989d\u3001\u63a8\u9001\u3001\u5386\u53f2\u8bb0\u5f55] \n "+re+"\n "+Object(g.getSocketEndpoint)()+" \n "+Object(g.getCovalentApiEndpoint)(),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:U,onToggle:function(){Z(Object(w.setEnableTestFiatEndpoint)(!U))}})}),Object(P.jsx)(u.default.Item,{title:"\u5141\u8bb8\u63a8\u9001\u9608\u503c\u8bbe\u7f6e\u4e3a0",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:!!V,onToggle:function(){Z(Object(w.setEnableZeroNotificationThreshold)(!V))}})}),Object(P.jsx)(u.default.Item,{title:"registrationId",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(l.default,{onPress:ne,children:Object(P.jsx)(s.default,{color:"text-subdued",children:Object(x.shortenAddress)($||"")})})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_platform_channel"}),titleColor:"text-critical",subDescribe:[(null!=(t=_.default.symbol)?t:"")+" / "+(null!=(n=_.default.distributionChannel)?n:"")]}),Object(P.jsx)(u.default.Item,{title:"Perf Check",titleColor:"text-critical",children:Object(P.jsxs)(i.default,{space:4,children:[Object(P.jsx)(c.default,{size:"xs",onPress:function(){var t,n=k.default.getTimelineData();Object(h.copyToClipboard)(JSON.stringify({$$onekeyPerfTrace:null==(t=e)?void 0:t.$$onekeyPerfTrace,perfCheckResult:M,timelinePerfTraceData:n})),j.default.show({title:J.formatMessage({id:"msg__copied"})})},children:"Export"}),Object(P.jsx)(d.default,{labelType:"false",isChecked:!!G,onToggle:function(){Z(Object(w.setEnablePerfCheck)(!G))}})]})}),Object(P.jsx)(u.default.Item,{title:"All-Chain Send",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(S.NetworkAccountSelectorTrigger,{mode:I.EAccountSelectorMode.Transfer})}),Object(P.jsx)(u.default.Item,{title:"Overview build by service",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(a.default,{isTriggerPlain:!0,headerShown:!1,footer:null,containerProps:{style:{minWidth:100}},onChange:function(e){Z(Object(w.setOverviewDefiBuildByService)(e))},value:q||"all",options:["all","3","5","6","9","12"].map((function(e){return{label:e,value:e}}))})}),Object(P.jsx)(u.default.Item,{title:"Hidden Discover Content",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:Y,onToggle:function(){Z(Object(w.setHideDiscoverContent)(!Y))}})}),Object(P.jsx)(u.default.Item,{title:"Enable OnRamper Test Mode",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:K,onToggle:function(){Z(Object(w.setOnRamperTestMode)(!K))}})}),Object(P.jsx)(u.default.Item,{title:"Show WebEmbed Webview Agent",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:X,onToggle:function(){Z(Object(w.setShowWebEmbedWebviewAgent)(!X))}})}),Object(P.jsx)(u.default.Item,{title:"Show content-script reload BUTTON",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:Q,onToggle:function(){Z(Object(w.setShowContentScriptReloadButton)(!Q))}})}),Object(P.jsx)(u.default.Item,{title:"Request intercept check",titleColor:"text-critical",children:Object(P.jsx)(c.default,{size:"xs",onPress:o()((function*(){(yield Object(C.requestsInterceptTest)()).failed.length?j.default.show({title:"failed, please check console log"},{type:"error"}):j.default.show({title:"success"})})),children:"Intercept Test"})})]})]})}}.call(this,n(59))},5287:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"requestsInterceptTest2",(function(){return v})),n.d(t,"requestsInterceptTest",(function(){return w}));var r=n(343),o=n.n(r),a=n(13),i=n.n(a),c=n(2),l=n.n(c),s=n(88),u=n.n(s),d=n(543),f=n.n(d),b=n(1114),j=n.n(b),p="https://node.onekeytest.com/health";function O(e){return m.apply(this,arguments)}function m(){return(m=l()((function*(e){var t=e.name,n=e.doRequest,r=yield n({url:"https://node.onekeytest.com/health?name="+t}),o={"x-request-by":null==r?void 0:r.requestMeta.headers["x-request-by"]};return{name:t,isOk:!!o["x-request-by"],res:{headers:o}}}))).apply(this,arguments)}function x(e){var t=e.type,n=e.instance;return[O({name:t+"__axios.get",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.get(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.post",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.post(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request2",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request({url:t})).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request(post)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request({url:t,method:"post"})).data}));return function(t){return e.apply(this,arguments)}}()})]}function h(e){var t=e.type,n=e.instance;return[O({name:t+"__fetch-(get)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(t);return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch-(post)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(t,{method:"post"});return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch2-(get)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(new Request(t));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch2-(post)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(new Request(t,{method:"post"}));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()})]}function g(e){var t=e.type,n=e.instance;return[O({name:t+"__superagent.get",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.get(t)).body}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__superagent.post",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.post(t)).body}));return function(t){return e.apply(this,arguments)}}()})].concat(i()(o()(n)?[O({name:t+"__superagent(GET,url)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n("GET",t)).body}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__superagent(POST,url)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n("POST",t)).body}));return function(t){return e.apply(this,arguments)}}()})]:[]))}function v(){return y.apply(this,arguments)}function y(){return(y=l()((function*(){try{return(yield u.a.get(p)).data}catch(e){}}))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=l()((function*(){var t=yield Promise.all([].concat(i()(x({type:"axios-singleton",instance:u.a})),i()(x({type:"axios.create()",instance:u.a.create()})),i()(h({type:"global.fetch",instance:e.fetch})),i()(h({type:"cross-fetch",instance:f.a})),i()(g({type:"superagent-singleton",instance:j.a})),i()(g({type:"superagent.agent()",instance:j.a.agent()}))));return{success:t.filter((function(e){return e.isOk})),failed:t.filter((function(e){return!e.isOk}))}}))).apply(this,arguments)}}.call(this,n(59))},5288:function(e,t,n){e.exports=n.p+"static/media/aptos_martian.dd5b922f.png"},5289:function(e,t,n){e.exports=n.p+"static/media/aptos_petra.d4714ff0.png"},5290:function(e,t,n){e.exports=n.p+"static/media/cardano_nami.140c2ac2.png"},5291:function(e,t,n){e.exports=n.p+"static/media/conflux_fluent_wallet.cd92ec97.png"},5292:function(e,t,n){e.exports=n.p+"static/media/cosmos_keplr.195006d9.png"},5293:function(e,t,n){e.exports=n.p+"static/media/evm_metamask.1303c551.png"},5294:function(e,t,n){e.exports=n.p+"static/media/polkadot_polkadot_js.589a5ff6.png"},5295:function(e,t,n){e.exports=n.p+"static/media/solana_phantom.6c01f5ac.png"},5296:function(e,t,n){e.exports=n.p+"static/media/starcoin_starmask.a72e9185.png"},5297:function(e,t,n){e.exports=n.p+"static/media/sui_sui_wallet.a00ad119.png"},5298:function(e,t,n){e.exports=n.p+"static/media/tron_tronlink.c03ba81e.png"},5299:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAXVBMVEUAAACIiIiHh4eJiYmJiYmJiYmHh4eJiYmIiIiAgICIiIiHh4eJiYmIiIiHh4ePj4+IiIgAAABERESAgIBmZmZVVVV3d3cRERFdXV0iIiIaGhpubm5MTEw7OzszMzMlTVMMAAAAEHRSTlMA34Dvr3BAz58QvyB/z6AQLJ3m/wAAAPtJREFUOMt901mOgzAQBNAyXoBAkjYmELa5/zHHgmhckIH3h1xG1WoZf5wt7koidTeZw0FZa9lRRQVitXyr0/Wb/MuU2Bg5ccOqllMWUSVJG3WS6DIGCjr3USMkiwGVPn++AhpwkoRuXgPEIRP2OgYszHWgQH4dyKGuAwqyE7ouyA6EtUPfD6/zQONXzSHABcZ57r1/S8IlR99LNPiBSvKYn6tv7wON+UgTfAItBwws/2HZVtbzOt1uiGbqlt0YDtDccjVyR/A6w+KjJvCugKcWMk1BSIXIyqkMq5ucMNg8zcmzKLGhokRbkOqhDsdZiQOXmXx7/nlh0/P/BZPzNqaZgMwaAAAAAElFTkSuQmCC"},5300:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMmSURBVHgBxZdNTBNBFIDf7C5KtSUlRBMkEKoJAWzSNSR68GCNNfFY41kjZw9w80h70iMc9OoPd6k3E4j2qtFYgvxoDCAJNkEMDRSpurvPebNss7VtmF1b+ZLJ7MzszLyZ9+bNGwYSJBajcUBFRzRjCmM6AAsjYK/7HwZsFQALCLAKCLOgQHZm4EP2oLFZvYbkih4ulowRQDbKBw6DD4RQCFlVUdMvBnKrtf+pwdWl6AhaLOV34jrSpPiOpKurXYhV7xlT/DMOzSETDGjDmUiu4FQo7tbinvmoiZMTyf0FQpUA3NDG+JYnofnEEwtnR52CUMG1Rb3XQGNFdoStN7sV5UDXEWjtagEPFLgqIqQKjUqmZY7VPw/Vk7+7XSnr6TsnRfJAuPjDoF1I2Spg8nrPPy9AQ2AwIjLbycAr2X7GjgXGtgnfXm7Dx3t5UedjBxwhLmtg8dVLbj+hhRSR1JAC/wyizkdhMTgkkEGMC1Dp0/8nCjKd3y2sce7WMyzMEgtRBB84xkhobaqwCz9o4APyBcsPN2Bv/ZcokyM6lWyHzqT3zfQswPKDDZHclNZ/C6FIIK/H0ZMA+UyhPHmoP8BXba94bfK7mJzaQv2tcOJKm/SYih3JyLE2uSly2vILz85A960OkS5O90H7+eNlYWShuRVElPatO4slkffd7axq67nZIXJShbFjghxYoGM4K/PrQYNqIRW8whf/RUGwcjI/0wQtbfYkW293q9qdS4rUIy8MyynAmJQARPf+Nq893RQGRyqhE/Dpfh6+Tm2JNk9HkUfO4hrizoh6S/V8feNz2Rb+hk4GGacMZIDTg3MR230hTIAkQ48j0MMt31EHQd90/oeeREAaBlk748Tf62HtqAjJPLmy4pK9E61C795csca0CL0VRK/sOQqTlTR4JMidDiXP9wBC+aFSEYpwW6DIKA5NhWVmBueuO6UK0Y2fGjVkoHlkgwF12F1RMxhLzEdTvGUMGgbjKrbSM4Pz41Ut9brQW8FEM8U/L6HvqIlPjDgRPKaNu59jUgK4EZGzHbzGuAH1UhRV63lO9wqvzzGmzgKzcjLP8z+L/Cy1PByZMQAAAABJRU5ErkJggg=="},5322:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return $}));var r=n(11),o=n(1),a=n(4027),i=n(482),c=n(3),l=n.n(c),s=n(4),u=n.n(s),d=n(42),f=n(89),b=n(28),j=(n(25),n(3990)),p=n(4571),O=(n(38),n(576)),m=n(0),x=function(){return Object(m.jsx)(r.default,{h:"4"})},h=function(e){var t=e.ListHeaderComponent;return Object(m.jsx)(i.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},ListHeaderComponent:t,data:[1,2,3,4],renderItem:function(){return Object(m.jsxs)(r.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(r.default,{mr:"3",children:Object(m.jsx)(r.default,{w:"12",h:"12",borderRadius:12,overflow:"hidden",children:Object(m.jsx)(O.default,{})})}),Object(m.jsxs)(r.default,{flex:"1",children:[Object(m.jsx)(r.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:Object(m.jsx)(O.default,{})}),Object(m.jsx)(r.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(m.jsx)(O.default,{})})]})]})},showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return String(e)},ItemSeparatorComponent:x})},g=n(26),v=n(60),y=n(40),w=n(1085),k=function(e){var t=e.onSearch,n=Object(f.default)();return Object(m.jsxs)(r.default,{mt:"12px",mx:"4",h:"42px",bg:"action-secondary-default",flexDirection:"row",alignItems:"center",borderColor:"border-default",borderWidth:"1px",borderRadius:"12px",children:[Object(m.jsxs)(v.default,{px:"13px",py:"13px",onPress:t,flex:1,flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(y.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(m.jsx)(g.default.Body2,{flex:1,h:"full",color:"text-subdued",numberOfLines:1,ml:"13px",children:n.formatMessage({id:"content__search_dapps_or_type_url"})})]}),Object(m.jsx)(v.default,{h:"42px",justifyContent:"center",alignItems:"center",px:"15px",onPress:function(){Object(w.gotoScanQrcode)()},children:Object(m.jsx)(y.default,{name:"ViewfinderCircleMini",size:20,color:"icon-subdued"})})]})},_=n(4574),S=n(4590),I=n(4046),C=n(24),P=function(){var e=Object(f.default)(),t=Object(o.useContext)(a.DiscoverContext),n=t.categoryId,r=t.setCategoryId,i=Object(j.useCategories)(),c=Object(C.useTranslation)(),l=Object(o.useMemo)((function(){return i?[{name:e.formatMessage({id:"msg__mine"}),_id:""}].concat(i):[]}),[i,e]),s=Object(o.useState)((function(){return l.findIndex((function(e){return e._id===n}))})),d=u()(s,2),b=d[0],p=d[1],O=Object(o.useCallback)((function(e){var t=l[e]._id;r(t),p(e)}),[l,r]),x=Object(o.useMemo)((function(){return l.map((function(e){var t;return{text:null!=(t=c(e._name))?t:e.name}}),[])}),[l,c]);return l.length?Object(m.jsx)(I.default,{px:"4",buttons:x,selectedIndex:b,onButtonPress:O,bg:"background-default"}):null},M=function(e){return Object(m.jsx)(g.default.DisplayXLarge,{color:"text-success",children:e})},A=function(e){var t=e.showDappCategories,n=Object(f.default)(),o=Object(_.useExplorerSearch)();return Object(m.jsxs)(r.default,{children:[Object(m.jsx)(r.default,{mx:"4",mt:"8",mb:"6",children:Object(m.jsx)(g.default.DisplayXLarge,{children:n.formatMessage({id:"title__explore_web_3_world_with_onekey_multiline"},{a:M})})}),Object(m.jsx)(k,{onSearch:function(){return o({isNewWindow:!0,defaultUrl:""})}}),Object(m.jsx)(S.BrowserShortcuts,{}),t?Object(m.jsx)(r.default,{mt:"8",children:Object(m.jsx)(P,{})}):null]})};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=b.default.create({listContentContainer:{paddingBottom:62,paddingTop:12}}),E=function(){return Object(m.jsx)(r.default,{mt:"4",children:Object(m.jsx)(h,{})})},B=function(){return Object(m.jsx)(A,{showDappCategories:!0})},N=function(){var e=Object(f.default)(),t=Object(d.useNavigation)(),n=Object(j.useTaggedDapps)(),c=Object(o.useState)([]),l=u()(c,2),s=l[0],b=l[1],O=Object(o.useState)(10),x=u()(O,2),h=x[0],g=x[1],v=Object(o.useContext)(a.DiscoverContext).onItemSelect,y=Object(o.useMemo)((function(){var e=s.map((function(e){return{title:e.label,data:e.items,tagId:e.id,_title:e._label}}));return h<e.length?e.slice(0,h):e}),[s,h]);Object(o.useEffect)((function(){setTimeout((function(){b(n)}))}),[t,e,n]);var w=Object(o.useCallback)((function(e){var t=e.item;return Object(m.jsx)(p.default,D(D({},t),{},{onItemSelect:v}))}),[v]),k=Object(o.useCallback)((function(){s.length>=h&&g(2*h)}),[s.length,h]);return Object(m.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(m.jsx)(i.default,{contentContainerStyle:R.listContentContainer,data:y,removeClippedSubviews:!0,windowSize:10,renderItem:w,keyExtractor:function(e,t){var n;return""+(null!=(n=e.title)?n:"")+t},ListHeaderComponent:B,ListEmptyComponent:E,showsVerticalScrollIndicator:!1,onEndReached:k,onEndReachedThreshold:.5})})},L=n(100),W=n(98),z=n(123),H=n(4356),F=n.n(H),U=n(4007),V=n(4030),G=b.default.create({listContentContainer:{paddingBottom:50}}),q=Object(o.createContext)({selectedNetworkId:"",setSelectedNetworkId:function(){}}),Y=function(e){var t=e.logoURI,n=e.networkId,a=Object(o.useContext)(q),i=a.selectedNetworkId,c=a.setSelectedNetworkId,l=i===n;return Object(m.jsx)(v.default,{onPress:function(){c(n)},children:function(e){var n=e.isHovered,o=e.isPressed;return Object(m.jsx)(r.default,{p:1.5,m:1,borderWidth:2,borderColor:l?"interactive-default":o?"border-default":n?"border-subdued":"transparent",rounded:"full",children:t?Object(m.jsx)(z.default,{size:8,token:{logoURI:t}}):Object(m.jsx)(r.default,{w:"8",h:"8",children:Object(m.jsx)(W.default,{size:8,source:F.a})})})}})},K=function(e){var t=e.networkIds,n=Object(C.useAppSelector)((function(e){return e.runtime.networks})),r=Object(o.useMemo)((function(){var e=n.filter((function(e){return t.includes(e.id)})).map((function(e){return{logoURI:e.logoURI,networkId:e.id}}));return[{networkId:""}].concat(e)}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(m.jsx)(Y,{logoURI:t.logoURI,networkId:t.networkId})}),[]);return Object(m.jsx)(i.default,{contentContainerStyle:G.listContentContainer,data:r,renderItem:a,removeClippedSubviews:!0,windowSize:5,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.networkId}})},X=function(e){var t,n=e.item,i=Object(o.useContext)(a.DiscoverContext).onItemSelect,c=Object(C.useTranslation)();return Object(m.jsx)(V.default,{url:n.url,hoverButtonProps:{right:"20px",top:"4px"},children:Object(m.jsxs)(v.default,{flexDirection:"row",px:"4",pb:"4",alignItems:"center",onPress:function(){return null==i?void 0:i(n)},children:[Object(m.jsx)(r.default,{mr:3,children:Object(m.jsx)(U.default,{size:48,url:n.logoURL,networkIds:n.networkIds})}),Object(m.jsxs)(r.default,{flex:1,children:[Object(m.jsx)(g.default.Body2Strong,{numberOfLines:1,children:n.name}),Object(m.jsx)(g.default.Caption,{numberOfLines:1,color:"text-subdued",children:null!=(t=c(n._subtitle))?t:n.subtitle})]})]})})},Q=function(e){var t=e.dapps,n=Object(o.useContext)(q).selectedNetworkId,r=Object(o.useMemo)((function(){return n?t.filter((function(e){return e.networkIds.includes(n)})):t}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(m.jsx)(X,{item:t})}),[]);return Object(m.jsx)(i.default,{contentContainerStyle:G.listContentContainer,data:r,renderItem:a,removeClippedSubviews:!0,windowSize:5,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e._id},ListEmptyComponent:h})};function Z(){var e=Object(o.useContext)(a.DiscoverContext).categoryId,t=Object(j.useCategoryDapps)(e),n=Object(o.useMemo)((function(){var e=t.reduce((function(e,t){return e.concat(t.networkIds)}),[]);return Array.from(new Set(e))}),[t]);return Object(m.jsxs)(r.default,{flex:"1",bg:"background-default",pt:"3",children:[Object(m.jsx)(P,{}),Object(m.jsxs)(r.default,{flex:"1",flexDirection:"row",mt:"4",children:[Object(m.jsx)(r.default,{w:"56px",children:Object(m.jsx)(K,{networkIds:n})}),Object(m.jsx)(L.default,{orientation:"vertical"}),Object(m.jsx)(r.default,{flex:"1",children:Object(m.jsx)(Q,{dapps:t})})]})]})}var J=function(){var e=Object(o.useContext)(a.DiscoverContext).categoryId,t=Object(o.useState)(""),n=u()(t,2),r=n[0],i=n[1];Object(o.useEffect)((function(){i("")}),[e]);var c=Object(o.useMemo)((function(){return{selectedNetworkId:r,setSelectedNetworkId:i}}),[r]);return Object(m.jsx)(q.Provider,{value:c,children:Object(m.jsx)(Z,{})})},$=function(){var e=Object(o.useContext)(a.DiscoverContext).categoryId;return Object(m.jsx)(r.default,{flex:"1",bg:"background-default",children:e?Object(m.jsx)(J,{}):Object(m.jsx)(N,{})})}},5323:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n(4),a=n.n(o),i=n(263),c=n(1),l=n(4194),s=(n(25),n(4578)),u=n(16),d=n(4574),f=n(4570),b=n(4576),j=n(1616),p=n(60),O=n(28),m=n(306),x=n(214),h=n(917),g=n(440),v=n(4569),y=n(4190),w=n(832),k=n(40),_=n(53),S=n(49),I=n(26),C=n(78),P=n(3),M=n.n(P),A=n(133),T=n(89),D=n(4354),R=n(791),E=n(400),B=n(90),N=n(4125),L=n(594),W=n(4370),z=n(484),H=n(100),F=n(38),U=n(45),V=n(29),G=n(1644),q=n(168),Y=n(17),K=n(107),X=n(239),Q=n(4081),Z=n(4355),J=n(4058),$=n(0);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.onClose,n=Object(T.default)(),o=Object(W.useWebController)(),a=o.currentTab,i=o.stopLoading,l=o.reload,s=Object(c.useCallback)((function(){var e;return null!=(e=null==a?void 0:a.url)?e:""}),[a]),d=Object(c.useCallback)((function(){t(),l()}),[l,t]),f=Object(c.useCallback)((function(){t(),Object(q.copyToClipboard)(s()),U.default.show({title:n.formatMessage({id:"msg__copied"})})}),[n,s,t]),b=Object(c.useCallback)((function(){setTimeout((function(){t(),G.default.share("ios"===V.default.OS?{url:s()}:{message:s()}).catch()}),100)}),[s,t]),j=Object(c.useCallback)((function(){t(),i(),E.webTabsActions.setWebTabData(te(te({},E.homeTab),{},{id:a.id}))}),[t,i,a]),O=Object(c.useCallback)((function(){a&&(t(),a.isBookmarked?Y.default.serviceDiscover.removeFavorite(a.url):Y.default.serviceDiscover.addFavorite(a.url),U.default.show({title:n.formatMessage({id:"msg__success"})}))}),[a,n,t]),m=Object(c.useCallback)((function(){t(),Object(X.openUrlExternal)(s())}),[s,t]),x=Object(c.useCallback)((function(){t(),Object(K.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:J.DiscoverModalRoutes.Favorites}})}),[t]),h=Object(c.useCallback)((function(){t(),Object(K.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:J.DiscoverModalRoutes.History}})}),[t]),g=Object(c.useCallback)((function(){t(),Object(K.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.GasPanel,params:{screen:Q.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[t]);return Object($.jsx)(z.default,{title:n.formatMessage({id:"action__more"}),closeOverlay:t,children:Object($.jsxs)(r.default,{children:[Object($.jsxs)(F.default,{space:6,children:[Object($.jsxs)(p.default,{alignItems:"center",onPress:x,children:[Object($.jsx)(S.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:Object($.jsx)(k.default,{size:20,name:"StarMini"})}),Object($.jsx)(I.default.Caption,{mt:"2",children:n.formatMessage({id:"title__favorites"})})]}),Object($.jsxs)(p.default,{alignItems:"center",onPress:h,children:[Object($.jsx)(S.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:Object($.jsx)(k.default,{size:20,name:"ClockMini"})}),Object($.jsx)(I.default.Caption,{mt:"2",children:n.formatMessage({id:"transaction__history"})})]}),Object($.jsxs)(p.default,{alignItems:"center",onPress:g,children:[Object($.jsx)(Z.GasPrice,{}),Object($.jsx)(I.default.Caption,{mt:"2",children:"\ud83d\udd25Gas"})]})]}),Object($.jsx)(H.default,{my:"4",w:"full"}),Object($.jsxs)(r.default,{children:[Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:d,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"ArrowPathOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:n.formatMessage({id:"action__refresh"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:b,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"ShareOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:n.formatMessage({id:"action__share"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:f,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"LinkOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:n.formatMessage({id:"action__copy_url"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:O,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"SquaresPlusOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:null!=a&&a.isBookmarked?n.formatMessage({id:"action__remove_from_favorites"}):n.formatMessage({id:"action__add_to_favorites"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:m,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"GlobeAltOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:n.formatMessage({id:"action__open_in_browser"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:j,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"HomeOutline"})}),Object($.jsx)(I.default.Body1Strong,{children:n.formatMessage({id:"action__back_to_home_page"})})]})]})]})})},re=function(){return Object(B.showOverlay)((function(e){return Object($.jsx)(ne,{onClose:e})}))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={code:"function anonymous(){const{showTabGridAnim,MAX_OR_SHOW}=this._closure;return{zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',opacity:1-showTabGridAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},ce={code:"function anonymous(){const{showTabGridAnim,MIN_OR_HIDE}=this._closure;return{zIndex:showTabGridAnim.value===MIN_OR_HIDE?-1:1,display:showTabGridAnim.value===MIN_OR_HIDE?'none':'flex',opacity:showTabGridAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},le={code:"function anonymous(){const{bgColor,expandAnim,MIN_OR_HIDE,interpolate,MAX_OR_SHOW,tabBarHeight}=this._closure;return{backgroundColor:bgColor,zIndex:expandAnim.value===MIN_OR_HIDE?-1:1,display:expandAnim.value===MIN_OR_HIDE?'none':'flex',translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[-tabBarHeight,0]),opacity:expandAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},se=function(){var e=Object(W.useWebController)(),t=e.currentTab,n=e.goBack,o=e.goForward,a=e.tabs,l=Object(i.default)().bottom,s=Object(T.default)(),d=Object(D.default)(),f=Object(A.default)("surface-subdued"),b=t.canGoForward,p=Object(E.isTabLimitReached)(a),m=Object($.jsxs)(x.default.View,{style:[ae(ae({},O.default.absoluteFillObject),{},{flexDirection:"row"}),Object(h.useAnimatedStyle)(function(){var e=function(){return{zIndex:j.showTabGridAnim.value===j.MAX_OR_SHOW?-1:1,display:j.showTabGridAnim.value===j.MAX_OR_SHOW?"none":"flex",opacity:1-j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim,MAX_OR_SHOW:j.MAX_OR_SHOW},e.__initData=ie,e.__workletHash=6053321607959,e}(),[])],children:[Object($.jsx)(C.default,{pl:0,pr:0,flex:1,type:"plain",disabled:t.url===E.homeTab.url,onPress:n,name:"ChevronLeftOutline"}),Object($.jsx)(C.default,{pl:0,pr:0,flex:1,type:"plain",disabled:!b,onPress:o,name:"ChevronRightOutline"}),Object($.jsx)(C.default,{pl:0,pr:0,flex:1,type:"plain",disabled:p,onPress:E.webTabsActions.addBlankWebTab,iconSize:26,name:"PlusCircleMini"}),Object($.jsx)(_.default,{justifyContent:"center",alignItems:"center",textAlign:"center",type:"plain",pl:0,pr:0,flex:1,onPress:j.showTabGrid,children:Object($.jsx)(S.default,{w:"20px",h:"20px",borderRadius:"2px",borderWidth:"2px",borderColor:"icon-pressed",children:Object($.jsx)(I.default.CaptionStrong,{children:a.length-1})})}),Object($.jsx)(C.default,{pl:0,pr:0,flex:1,type:"plain",disabled:t.url===E.homeTab.url,onPress:re,name:"DotsHorizontalOutline"})]}),v=Object(c.useCallback)((function(){Object(B.showOverlay)((function(e){return Object($.jsx)(N.OverlayPanel,{closeOverlay:e,modalProps:{headerShown:!1},children:Object($.jsxs)(R.default,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12px",onPress:function(){e(),E.webTabsActions.closeAllWebTabs()},children:[Object($.jsx)(k.default,{color:"text-critical",size:24,name:"XMarkMini"}),Object($.jsx)(I.default.Body1Strong,{ml:"12px",color:"text-critical",children:s.formatMessage({id:"action__close_all_tabs"})})]})})}))}),[s]),y=Object($.jsxs)(x.default.View,{style:[ae(ae({},O.default.absoluteFillObject),{},{flexDirection:"row"}),Object(h.useAnimatedStyle)(function(){var e=function(){return{zIndex:j.showTabGridAnim.value===j.MIN_OR_HIDE?-1:1,display:j.showTabGridAnim.value===j.MIN_OR_HIDE?"none":"flex",opacity:j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=ce,e.__workletHash=2508689585526,e}(),[])],children:[Object($.jsx)(C.default,{flex:1,type:"plain",onPress:function(){return Object(j.hideTabGrid)()},name:"ChevronLeftOutline"}),Object($.jsx)(C.default,{flex:1,type:"plain",disabled:p,onPress:E.webTabsActions.addBlankWebTab,iconSize:26,name:"PlusCircleMini"}),Object($.jsx)(C.default,{name:"TrashOutline",flex:1,type:"plain",onPress:v})]});return Object($.jsx)(L.PortalEntry,{target:"BottomTab-Overlay-"+u.TabRoutes.Discover,children:Object($.jsx)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:f,zIndex:j.expandAnim.value===j.MIN_OR_HIDE?-1:1,display:j.expandAnim.value===j.MIN_OR_HIDE?"none":"flex",translateY:Object(g.interpolate)(j.expandAnim.value,[j.MIN_OR_HIDE,j.MAX_OR_SHOW],[-d,0]),opacity:j.expandAnim.value}};return e._closure={bgColor:f,expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE,interpolate:g.interpolate,MAX_OR_SHOW:j.MAX_OR_SHOW,tabBarHeight:d},e.__initData=le,e.__workletHash=0xe3e14a87a99,e}(),[f])],children:Object($.jsxs)(r.default,{flex:1,flexDirection:"row",overflow:"hidden",mb:l+"px",children:[m,y]})})})},ue=n(443),de=n(1622),fe=function(e){var t=e.favicon,n=e.text;return Object($.jsxs)(r.default,{bg:"surface-subdued",px:"12px",py:"8px",h:"48px",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(ue.default,{width:"30px",height:"30px",borderRadius:"6px",src:t},t),Object($.jsx)(I.default.Body2Strong,{color:"text-default",flex:1,textAlign:"left",mx:"8px",numberOfLines:1,children:n}),Object($.jsx)(k.default,{name:"ArrowsPointingOutOutline"})]})},be=function(e){var t,n=e.onSearch,o=Object(w.useWebTabs)().tab;return Object($.jsxs)(r.default,{bg:"background-default",px:"16px",h:"56px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(k.default,{name:"ChevronDownMini",color:"icon-subdued"}),Object($.jsxs)(p.default,{flex:"1",bg:"action-secondary-default",h:"42px",borderRadius:"full",borderWidth:"1px",borderColor:"border-default",ml:"12px",px:"5px",flexDirection:"row",alignItems:"center",onPress:n,children:[Object($.jsx)(I.default.Body2,{mx:"6px",flex:"1",color:"text-subdued",numberOfLines:1,children:null==o||null==(t=o.url)?void 0:t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")}),Object($.jsx)(de.NetworkAccountSelectorTriggerMobile,{bg:"surface-neutral-default",type:"basic",labelTypography:"CaptionStrong",iconSize:5})]})]})},je={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:1-expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'flex':'none'};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},pe={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'none':'flex'};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},Oe=function(e){var t=e.favicon,n=e.text,r=e.onSearch;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(x.default.View,{style:Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:1-j.expandAnim.value,display:j.expandAnim.value===j.MIN_OR_HIDE?"flex":"none"}};return e._closure={expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=je,e.__workletHash=0xe88693ffbb2,e}(),[]),children:Object($.jsx)(fe,{favicon:t,text:n})}),Object($.jsx)(x.default.View,{style:Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:j.expandAnim.value,display:j.expandAnim.value===j.MIN_OR_HIDE?"none":"flex"}};return e._closure={expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=pe,e.__workletHash=1626461086830,e}(),[]),children:Object($.jsx)(be,{onSearch:r})})]})};Oe.displayName="FloatingBar";var me=Oe,xe=n(41),he=n(4031),ge=n(4195),ve=n(4575),ye=n(4016),we=n(4577);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=O.default.create({container:{flex:1},blankPage:_e(_e({},O.default.absoluteFillObject),{},{zIndex:1})}),Ie=Object(c.memo)((function(){Object(we.useNotifyChanges)();var e=Object(w.useWebTabs)(),t=e.tabs,n=e.tab,r=(null==n?void 0:n.url)===E.homeTab.url,o=Object(c.useMemo)((function(){return t.slice(1).map((function(e){return Object($.jsx)(l.Freeze,{freeze:!e.isCurrent,children:Object($.jsx)(ve.default,_e({},e))},e.id)}))}),[t]),a=Object(c.useCallback)((function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;Object(j.setThumbnailRatio)(r/n)}),[]);return Object($.jsxs)(he.default,{style:Se.container,ref:j.tabViewShotRef,onLayout:a,children:[o,Object($.jsx)(l.Freeze,{freeze:!r,children:Object($.jsx)(xe.default,{style:Se.blankPage,children:Object($.jsx)(ge.default,{onItemSelect:ye.onItemSelect,onItemSelectHistory:ye.openMatchDApp})})})]})}));Ie.displayName="WebTabFront";var Ce=Ie,Pe=n(2286),Me=n(623),Ae=n(800);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=O.default.create({image:{flex:1},contentContainer:{paddingVertical:j.WEB_TAB_CELL_GAP}}),Ee=function(e){var t=e.num,n=Object(T.default)();return Object($.jsx)(S.default,{children:Object($.jsx)(I.default.Heading,{children:n.formatMessage({id:"title__str_tabs"},{0:t})})})},Be=function(e){var t=e.isCurrent,n=e.title,o=e.favicon,a=e.id,i=e.url;return Object($.jsx)(p.default,{w:"full",px:"2",mt:j.WEB_TAB_CELL_GAP+"px",onPress:function(){t||E.webTabsActions.setCurrentWebTab(a),Object(j.hideTabGrid)(a)},children:Object($.jsx)(r.default,{w:"full",py:"2",bg:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:t?"interactive-default":"border-subdued",overflow:"hidden",children:Object($.jsx)(r.default,{flex:1,collapsable:!1,ref:function(e){j.tabGridRefs[a]=e},children:Object($.jsxs)(r.default,{px:"2",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(ue.default,{width:"40px",height:"40px",borderRadius:"12px",src:o},o),Object($.jsxs)(r.default,{flex:"1",ml:"8px",mr:"4px",children:[Object($.jsx)(I.default.CaptionStrong,{color:"text-default",flex:1,textAlign:"left",numberOfLines:1,children:n||"Unknown"}),Object($.jsx)(I.default.Body2,{color:"text-subdued",children:i})]}),Object($.jsx)(C.default,{size:"sm",type:"plain",name:"XMarkMini",onPress:function(){E.webTabsActions.closeWebTab(a)}})]})})})})},Ne={code:"function anonymous(){const{scrollTo,listRef,tabGridScrollY}=this._closure;scrollTo(listRef,0,tabGridScrollY.value,true);}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},Le={code:"function anonymous(){const{showTabGridAnim}=this._closure;return{opacity:showTabGridAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},We=function(){var e=Object(w.useWebTabs)().tabs,t=Object(Pe.useAnimatedRef)(),n=Object(c.useState)(!1),r=a()(n,2),o=r[0],i=r[1];Object(c.useEffect)((function(){setTimeout((function(){i(!0)}),100)}),[]),Object(y.default)(Object(c.useCallback)((function(){return j.showTabGridAnim.value!==j.MIN_OR_HIDE&&(Object(j.hideTabGrid)(),!0)}),[])),Object(Me.useDerivedValue)(function(){var e=function(){Object(Ae.scrollTo)(t,0,j.tabGridScrollY.value,!0)};return e._closure={scrollTo:Ae.scrollTo,listRef:t,tabGridScrollY:j.tabGridScrollY},e.__initData=Ne,e.__workletHash=6478403035559,e}(),[]);var l=Object(c.useMemo)((function(){return e.slice(1)}),[e]),s=Object(c.useCallback)((function(e){var t=e.item;return Object($.jsx)(Be,De({},t))}),[]),u=Object(c.useCallback)((function(e){return e.id}),[]),d=Object(A.default)("background-default"),f=Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim},e.__initData=Le,e.__workletHash=2597616415075,e}());return o?Object($.jsx)(x.default.FlatList,{ref:t,style:[De(De({},O.default.absoluteFillObject),{},{backgroundColor:d}),f],numColumns:1,ListHeaderComponent:Object($.jsx)(Ee,{num:l.length}),showsVerticalScrollIndicator:!1,contentContainerStyle:Re.contentContainer,data:l,renderItem:s,keyExtractor:u}):null};We.displayName="WebTabGrid";var ze=We,He={code:"function anonymous(){const{containerHeight,hasTabs,interpolate,expandAnim,MIN_OR_HIDE,MAX_OR_SHOW}=this._closure;return{opacity:containerHeight>0?1:0,zIndex:containerHeight>0&&hasTabs?1:-1,transform:[{translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[containerHeight-48,0])}]};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},Fe={code:"function anonymous(){const{targetPreviewWidth,targetPreviewHeight,targetPreviewX,screenWidth,targetPreviewY,containerHeight,top,showTabGridAnim,MAX_OR_SHOW,interpolate,screenHeight}=this._closure;const targetWidth=targetPreviewWidth.value;const targetHeight=targetPreviewHeight.value;const offsetX=targetPreviewX.value-(screenWidth-targetWidth)/2;const offsetY=targetPreviewY.value-(containerHeight-targetHeight)/2-top;return{opacity:1-showTabGridAnim.value,zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',transform:[{translateX:interpolate(showTabGridAnim.value,[0,1],[0,offsetX])},{translateY:interpolate(showTabGridAnim.value,[0,1],[0,offsetY])},{scaleX:interpolate(showTabGridAnim.value,[0,1],[1,targetWidth/screenWidth])},{scaleY:interpolate(showTabGridAnim.value,[0,1],[1,targetHeight/(containerHeight||screenHeight)])}]};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},Ue=function(e){var t=e.beforeMaximize,n=e.afterMaximize,o=e.beforeMinimize,l=e.afterMinimize,s=e.onSearch,u=Object(w.useWebTabs)(),d=u.tabs,f=u.tab,b=d.length>1,k=Object(c.useRef)(d.length),_=Object(c.useState)(0),S=a()(_,2),I=S[0],C=S[1],P=Object(c.useState)(!1),M=a()(P,2),A=M[0],T=M[1],D=Object(i.default)().top,R=Object(c.useCallback)((function(){Object(j.hideTabGrid)(),A||T(!0),null==t||t()}),[t,A]),E=Object(c.useCallback)((function(){A&&T(!1),null==l||l()}),[l,A]);Object(y.default)(Object(c.useCallback)((function(){return j.expandAnim.value!==j.MIN_OR_HIDE&&(Object(j.minimizeFloatingWindow)({before:o}),!0)}),[o])),Object(c.useEffect)((function(){var e=d.length>k.current;k.current=d.length,e&&j.expandAnim.value===j.MIN_OR_HIDE?(R(),setTimeout((function(){Object(j.expandFloatingWindow)({after:n})}),100)):1===d.length&&(Object(j.hideTabGrid)(),Object(j.minimizeFloatingWindow)({before:o}))}),[d.length,R]);var B=Object(m.default)(),N=B.height,L=B.width,W=Object(c.useCallback)((function(e){var t=e.nativeEvent.layout.height;return C(t)}),[]);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:I>0?1:0,zIndex:I>0&&b?1:-1,transform:[{translateY:Object(g.interpolate)(j.expandAnim.value,[j.MIN_OR_HIDE,j.MAX_OR_SHOW],[I-48,0])}]}};return e._closure={containerHeight:I,hasTabs:b,interpolate:g.interpolate,expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE,MAX_OR_SHOW:j.MAX_OR_SHOW},e.__initData=He,e.__workletHash=0xa7be659de7e,e}(),[I,b])],onLayout:W,children:[Object($.jsx)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){var e=j.targetPreviewWidth.value,t=j.targetPreviewHeight.value,n=j.targetPreviewX.value-(L-e)/2,r=j.targetPreviewY.value-(I-t)/2-D;return{opacity:1-j.showTabGridAnim.value,zIndex:j.showTabGridAnim.value===j.MAX_OR_SHOW?-1:1,display:j.showTabGridAnim.value===j.MAX_OR_SHOW?"none":"flex",transform:[{translateX:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[0,n])},{translateY:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[0,r])},{scaleX:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[1,e/L])},{scaleY:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[1,t/(I||N)])}]}};return e._closure={targetPreviewWidth:j.targetPreviewWidth,targetPreviewHeight:j.targetPreviewHeight,targetPreviewX:j.targetPreviewX,screenWidth:L,targetPreviewY:j.targetPreviewY,containerHeight:I,top:D,showTabGridAnim:j.showTabGridAnim,MAX_OR_SHOW:j.MAX_OR_SHOW,interpolate:g.interpolate,screenHeight:N},e.__initData=Fe,e.__workletHash=0xe715944a96b,e}(),[I,L,N,D])],children:Object($.jsxs)(r.default,{flex:1,bg:"background-default",children:[Object($.jsx)(p.default,{h:"56px",onPress:function(){Object(j.toggleFloatingWindow)({beforeMinimize:o,afterMaximize:n,beforeMaximize:R,afterMinimize:E})},children:Object($.jsx)(me,{favicon:null==f?void 0:f.favicon,text:null==f?void 0:f.title,onSearch:s})}),Object($.jsx)(v.default,{freeze:!A,children:Object($.jsx)(Ce,{})})]})}),Object($.jsx)(ze,{},String(b))]}),Object($.jsx)(se,{})]})};Ue.displayName="FloatingContainer";t.default=function(){var e=Object(i.default)().top,t=Object(b.useIncomingUrl)().handleIncomingUrl,n=Object(c.useState)(!1),o=a()(n,2),p=o[0],O=o[1],m=Object(c.useState)(!0),x=a()(m,2),h=x[0],g=x[1],v=Object(c.useCallback)((function(){return g(!0)}),[]),y=Object(s.useIsFocusedInTab)(u.TabRoutes.Discover);Object(c.useEffect)((function(){y?p?t():setTimeout((function(){O(!0),t()}),100):Object(j.minimizeFloatingWindow)({before:v})}),[v,t,y,p]);Object(d.useExplorerSearch)();return Object($.jsxs)(r.default,{flex:"1",bg:"background-default",mt:e+"px",children:[Object($.jsx)(l.Freeze,{freeze:!h,children:Object($.jsx)(f.default,{alwaysOpenNewWindow:!0})}),p&&!1]})}},6123:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(133),i=n(1),c=n(6120),l=n(146),s=n(110),u=(n(830),function(){var e=.85*l.default.get("window").width;return Math.min(400,e)}),d=(Object(s.makeMutable)(0),Object(s.makeMutable)(-u()),n(25)),f=n(2476),b=n(16),j=n(50),p=n(15),O=n.n(p),m=n(4),x=n.n(m),h=n(13),g=n.n(h),v=n(5348),y=n(89),w=n(42),k=n(1036),_=n.n(k),S=n(3942),I=n(3941),C=n(3940),P=n(5125),M=n(29),A=n(28),T=n(49),D=n(422),R=n(1623),E=n(1561),B=n(1265),N=n(11),L=n(2732),W=n(17),z=n(24),H=n(1201),F=n(241),U=n(882),V=n(583),G=n(1611),q=n(4568),Y=n(335),K=n(18),X=n(2461),Q=n(0),Z=Object(i.forwardRef)((function(e,t){var n=e.visible,r=e.toggleVisible,o=d.default.isRuntimeBrowser,a=Object(q.useDomID)("AccountSelectorDesktop").domId;Object(i.useImperativeHandle)(t,(function(){return{toggleVisible:r,getVisible:function(){return n},domId:a}})),Object(i.useEffect)((function(){return K.default.accountSelector.info("WalletSelectorDesktop mount"),function(){K.default.accountSelector.info("WalletSelectorDesktop unmounted")}}),[]);var c=Object(i.useMemo)((function(){return Object(Q.jsx)(N.default,{marginTop:"4px",nativeID:a,left:o?0:"16px",top:o?-8:"52px",position:"absolute",width:"320px",height:"564px",borderRadius:"xl",bg:"background-default",borderColor:"border-subdued",borderWidth:"1px",flexDirection:"row",shadow:"depth.3",children:Object(Q.jsx)(X.default,{})})}),[a,o]),l=Object(i.useRef)();l.current=c;var s=Object(Q.jsxs)(Q.Fragment,{children:[n&&Object(Q.jsx)(Y.CloseBackDrop,{onClose:r}),Object(Q.jsx)(G.default,{visible:n,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:12,transition:{duration:150}},style:{width:n?"100%":0},children:l.current})]});return o?s:Object(Q.jsx)(V.default,{children:s})}));Z.displayName="WalletSelectorDesktop";var J=Object(i.memo)(Z),$=n(60),ee=n(40),te=n(26),ne=n(160),re=n(53),oe=n(5),ae=n(48),ie=n(641),ce=n(1216),le=n(483),se=function(e){var t=e.visible,n=e.showWalletName,r=e.handleToggleVisible,o=Object(y.default)(),a=Object(j.default)(),i=Object(ae.useActiveWalletAccount)().wallet,c=Object(w.useNavigation)(),l=Object(ae.useAppSelector)((function(e){return e.accountSelector.isLoading})),s=Object(ie.useWalletName)({wallet:i}),u=Object(ce.useDeviceStatusOfHardwareWallet)().devicesStatus;if(!i)return Object(Q.jsx)(re.default,{onPress:function(){c.navigate(b.RootRoutes.Onboarding)},children:o.formatMessage({id:"action__create_wallet"})});var d=s||"Wallet";return Object(Q.jsx)($.default,{onPress:r,hitSlop:8,w:"full",children:function(e){var r=e.isHovered;return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",m:{base:-1,md:void 0},p:1,pr:{base:1,md:2},borderRadius:"12px",bg:t&&!a?"surface-selected":r?"surface-hovered":"transparent",children:[Object(Q.jsx)(N.default,{children:l?Object(Q.jsx)(N.default,{size:8,children:Object(Q.jsx)(ne.default,{size:32,children:Object(Q.jsx)(oe.Rect,{x:"0",y:"0",width:"32",height:"32",rx:"12",ry:"12"})})}):Object(Q.jsx)(le.WalletAvatarPro,{wallet:i,devicesStatus:u,size:"sm"})}),Object(Q.jsx)(E.AnimatePresence,{initial:!1,children:n&&Object(Q.jsxs)(B.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:[Object(Q.jsx)(te.default.Body2Strong,{flex:1,isTruncated:!0,ml:3,mr:1,children:d}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{size:20,name:"ChevronUpDownMini",color:"icon-subdued"})})]})})]})}})},ue=F.default.actions.updateDesktopWalletSelectorVisible,de=Object(i.memo)((function(e){var t,n=e.renderTrigger,r=e.showWalletName,o=Object(j.default)(),a=Object(i.useRef)(null),c=W.default.dispatch,l=Object(z.useAppSelector)((function(e){return e.accountSelector.isDesktopWalletSelectorVisible})),s=Object(z.useNavigationActions)().toggleWalletSelector,u=Object(U.useWalletSelectorStatus)().visible;Object(H.useCloseOnEsc)(Object(i.useCallback)((function(){l&&c(ue(!1))}),[c,l]));var d=Object(i.useCallback)((function(){s()}),[s]),f=Object(i.useRef)(null),b=Object(i.useCallback)((function(e){e?(f.current=e,Object(L.addNewRef)(e)):Object(L.removeOldRef)(f.current)}),[]),p=Object(i.useMemo)((function(){return o?null:Object(Q.jsx)(J,{ref:b,visible:u,toggleVisible:d})}),[o,u,d,b]),O=Object(i.useCallback)((function(){u||d()}),[d,u]);return Object(Q.jsxs)(N.default,{ref:a,position:"relative",alignItems:"flex-start",justifyContent:"center",w:"full",children:[null!=(t=null==n?void 0:n({visible:u,handleToggleVisible:d}))?t:Object(Q.jsx)(se,{visible:u,showWalletName:r,handleToggleVisible:O}),p]})})),fe=n(4082),be=n(693),je=n(263),pe=n(251),Oe=n(56);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he,ge=function(e){var t=e.navigation,n=e.state,r=e.descriptors,o=n.routes,c=Object(i.useContext)(be.Context),l=c.leftSidebarCollapsed,s=c.setLeftSidebarCollapsed,u=Object(je.default)().top,f=d.default.isDesktopMac?20:0,b=12+u+f,j=Object(a.default)(["surface-subdued","text-default","text-subdued","interactive-default"]),p=x()(j,4),O=p[0],m=p[1],h=p[2],g=p[3],v=Object(i.useMemo)((function(){return o.map((function(e,a){var i,c=a===n.index,s=r[e.key].options;return Object(Q.jsx)(D.default,{label:s.tabBarLabel,isDisabled:!l,placement:"right",children:Object(Q.jsxs)($.default,{onPress:function(){var r=t.emit({type:"tabPress",target:e.key,canPreventDefault:!0});c||r.defaultPrevented||t.dispatch(xe(xe({},w.CommonActions.navigate({name:e.name,merge:!0})),{},{target:n.key}))},flexDirection:"row",alignItems:"center",mt:a===o.length-1?"auto":void 0,p:"8px",borderRadius:"xl",bg:c?"surface-selected":void 0,_hover:c?void 0:{bg:"surface-hovered"},"aria-current":c?"page":void 0,children:[Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:null==s||null==s.tabBarIcon?void 0:s.tabBarIcon(),color:c?"icon-default":"icon-subdued",size:24})}),Object(Q.jsx)(E.AnimatePresence,{initial:!1,children:!l&&Object(Q.jsx)(B.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:Object(Q.jsx)(te.default.Body2Strong,{flex:1,ml:"3",color:c?m:h,isTruncated:!0,children:null!=(i=s.tabBarLabel)?i:e.name})})})]},e.name)},e.key)}))}),[m,r,h,l,t,o,n.index,n.key]);return Object(Q.jsxs)(B.View,{animate:{width:l?72:224},transition:{type:"timing",duration:150},style:{height:"100%",width:224,backgroundColor:O,paddingHorizontal:16,paddingTop:b,paddingBottom:20},testID:"Desktop-AppSideBar-Container",children:[Object(Q.jsx)(fe.DesktopDragZoneAbsoluteBar,{testID:"Desktop-AppSideBar-DragZone",h:f}),Object(Q.jsx)(N.default,{zIndex:1,testID:"Desktop-AppSideBar-WalletSelector-Container",children:Object(Q.jsx)(de,{showWalletName:!l})}),Object(Q.jsx)(Oe.default,{testID:"Desktop-AppSideBar-Content-Container",flex:1,mt:4,mb:2,children:Object(Q.jsx)(pe.default,{_contentContainerStyle:{flex:1},children:Object(Q.jsx)(Oe.default,{space:1,flex:1,children:v})})}),Object(Q.jsx)(N.default,{testID:"Legacy-Desktop-AppSideBar-NetworkAccountSelector-Container"}),Object(Q.jsx)($.default,{onPress:function(){null==s||s(!l)},position:"absolute",top:"0",bottom:"0",right:"-10px",w:"20px",testID:"Desktop-AppSideBar-Collapse-Bar",children:function(e){var t=e.isHovered,n=e.isPressed;return Object(Q.jsxs)(B.View,{animate:{opacity:t||n?1:0},transition:{type:"timing",duration:150},style:{height:"100%",flexDirection:"row"},children:[Object(Q.jsx)(R.LinearGradient,{colors:["transparent",g],start:{x:0,y:0},end:{x:1,y:0},style:{flex:1,height:"100%",opacity:.1}}),Object(Q.jsx)(N.default,{h:"full",w:"1px",bgColor:"interactive-default",alignItems:"center",children:Object(Q.jsx)(T.default,{mt:b+"px",size:"40px",children:Object(Q.jsx)(N.default,{p:"4px",rounded:"full",bgColor:"background-default",borderWidth:"1px",borderColor:"border-subdued",shadow:"depth.1",children:Object(Q.jsx)(B.View,{animate:{rotate:l?"180deg":"0deg"},transition:{type:"timing"},children:Object(Q.jsx)(ee.default,{name:"ChevronLeftMini",size:16})})})})}),Object(Q.jsx)(N.default,{flex:1})]})}})]})},ve=n(20),ye=n(420),we=[b.TabRoutes.Home,b.TabRoutes.Market,b.TabRoutes.Swap,b.TabRoutes.NFT,b.TabRoutes.Discover,b.TabRoutes.Me];var ke=[b.TabRoutes.Swap,b.TabRoutes.Market],_e=((he={})[b.TabRoutes.Home]={name:b.TabRoutes.Home,tabBarIcon:function(e){return e?"CreditCardSolid":"CreditCardOutline"},translationId:"wallet__wallet",navHeaderType:"AccountSelector"},he[b.TabRoutes.Market]={name:b.TabRoutes.Market,tabBarIcon:function(e){return e?"ChartLineSquareSolid":"ChartLineSquareOutline"},translationId:"market__market",hideDesktopNavHeader:!0,hideMobileNavHeader:!0,hideOnMobile:!0},he[b.TabRoutes.Swap]={name:b.TabRoutes.Swap,tabBarIcon:function(e){return"ArrowsRightLeftOutline"},translationId:"form__trade",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.NFT]={name:b.TabRoutes.NFT,tabBarIcon:function(e){return e?"PhotoSolid":"PhotoOutline"},translationId:"title__nft",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.Discover]={name:b.TabRoutes.Discover,tabBarIcon:function(e){return e?"CompassSolid":"CompassOutline"},translationId:"title__explore",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.Me]={name:b.TabRoutes.Me,tabBarIcon:function(e){return e?"Bars4Solid":"Bars4Outline"},translationId:"title__menu",navHeaderType:"AccountSelector"},he[b.TabRoutes.Developer]={name:b.TabRoutes.Developer,tabBarIcon:function(e){return"ChipOutline"},translationId:"form__dev_mode",hideOnProduction:!0},he),Se=we.map((function(e){return _e[e].hideOnMobile||_e[e].hideOnProduction?null:{name:e,key:e}})).filter(Boolean),Ie=Object.entries(_e).reduce((function(e,t,n){var r=x()(t,2),o=r[0],a=r[1];return e[o]={options:a},e}),{}),Ce=n(594);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){return Math.max(e.bottom-M.default.select({ios:4,default:0}),0)},Te=function(e){var t=e.insets;return 49+Ae(t)};function De(e){var t,r,o=e.inlineMode,a=e.navigation,c=e.state,l=e.descriptors,s=e.backgroundColor,u=Object(ye.default)().size,f=Object(je.default)(),p=c.routes,O=Object(y.default)(),m=!o&&d.default.isNewRouteMode,x=Ae(f),h=Te({insets:f}),g=function(e){var t=e.deviceSize;return!!["NORMAL"].includes(t)}({deviceSize:u}),v=Object(j.default)(),k=Object(i.useMemo)((function(){return p.map((function(e,t){var r=t===c.index,i=l[e.key].options,u=null==i?void 0:i.translationId;return Object(Q.jsx)(N.default,{testID:"Mobile-AppTabBar-TabItem",flex:1,px:1,py:m?0:1,backgroundColor:s,children:Object(Q.jsxs)($.default,{testID:"Mobile-AppTabBar-TabItem-Icon",alignItems:"center",px:.5,py:m?0:1.5,onPress:function(){if(o){var t=ke.includes(e.name);if(v&&t){var i=(0,n(192).appSelector)((function(e){return e.market.marketTopTabName}))||b.TabRoutes.Swap;a.navigate(i)}else a.navigate(e.name)}else{var l=a.emit({type:"tabPress",target:e.key,canPreventDefault:!0});r||l.defaultPrevented||a.dispatch(Me(Me({},w.CommonActions.navigate({name:e.name,merge:!0})),{},{target:c.key}))}},_hover:{bg:"surface-hovered"},rounded:"xl",justifyContent:"center",style:g?{flexDirection:"row"}:{flexDirection:"column"},children:[Object(Q.jsx)(ee.default,{name:null==i||null==i.tabBarIcon?void 0:i.tabBarIcon(r),color:r?"icon-default":"icon-subdued",size:28}),(null!=u&&u.length,null)]},e.name)},e.name)}))}),[s,l,g,o,O,m,v,a,p,c.index,c.key]);return m?null:Object(Q.jsxs)(N.default,{testID:"Mobile-AppTabBar",borderTopWidth:A.default.hairlineWidth,left:"0",right:"0",bottom:"0",bg:"background-default",zIndex:99999,borderTopColor:"divider",paddingBottom:x+"px",height:m?"0":h,py:m?0:Math.max(null!=(t=f.left)?t:0,null!=(r=f.right)?r:0),children:[Object(Q.jsx)(N.default,{testID:"Mobile-AppTabBar-Content",accessibilityRole:"tablist",flex:"1",flexDirection:"row",children:k}),Object(Q.jsx)(Ce.PortalExit,{name:"BottomTab-Overlay-"+c.key})]})}function Re(e){var t=e.name,n=Object(w.useNavigation)(),r=Object(j.default)(),o=Se,a=Ie,c=Object(i.useMemo)((function(){var e=o.findIndex((function(e){return e.name===t}));return e<0&&r&&ke.includes(t)&&(e=o.findIndex((function(e){return ke.includes(e.name)}))),e}),[t,o,r]);return r&&d.default.isNewRouteMode?Object(Q.jsx)(De,{inlineMode:!0,navigation:n,descriptors:a,state:{routes:o,index:c,key:t}}):null}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){return Object(j.default)()?Object(Q.jsx)(De,Be({},e)):Object(Q.jsx)(ge,Be({},e))}var Le,We=Object(i.createContext)(void 0),ze=n(4193),He=n(6116),Fe=n(41),Ue=["enabled"],Ve=["visible","children"];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}try{Le=n(1394)}catch(NO){}var Ye=function(e){var t,n=e.enabled,r=O()(e,Ue);return null!=(t=Le)&&null!=t.screensEnabled&&t.screensEnabled()?Object(Q.jsx)(Le.ScreenContainer,qe({enabled:n},r)):Object(Q.jsx)(Fe.default,qe({},r))};function Ke(e){var t,n=e.visible,r=e.children,o=O()(e,Ve);return null!=(t=Le)&&null!=t.screensEnabled&&t.screensEnabled()?Object(Q.jsx)(Le.Screen,qe(qe({activityState:n?2:0},o),{},{children:r})):Object(Q.jsx)(He.default,qe(qe({visible:n},o),{},{children:r}))}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=Object(j.default)(),n=Object(a.default)("background-default"),r=e.state,o=e.navigation,c=e.descriptors,l=e.detachInactiveScreens,s=void 0===l?"web"===M.default.OS||"android"===M.default.OS||"ios"===M.default.OS:l,u=e.sceneContainerStyle,d=r.routes[r.index].key,f=Object(i.useState)([d]),b=x()(f,2),p=b[0],O=b[1];p.includes(d)||O([].concat(g()(p),[d]));var m=S.default.initialMetrics.frame,h=Object(i.useState)((function(){return Te({insets:Qe(Qe({},S.default.initialMetrics.insets),e.safeAreaInsets)})})),v=x()(h,2),y=v[0],w=v[1],k=Object(i.useMemo)((function(){return Object(Q.jsx)(Ne,{navigation:o,state:r,descriptors:c})}),[c,o,r]),_=r.routes;return Object(Q.jsxs)(S.default,{style:{flexDirection:t?"column":"row-reverse"},children:[Object(Q.jsx)(Ye,{enabled:s,hasTwoStates:!0,style:Je.container,children:_.map((function(e,t){var o=c[e.key],a=o.options,i=a.lazy,l=void 0===i||i,d=a.unmountOnBlur,f=r.index===t;if(d&&!f)return null;if(l&&!p.includes(e.key)&&!f)return null;var b=o.options,j=b.freezeOnBlur,O=b.header,x=void 0===O?function(t){var n=t.layout,r=t.options;return Object(Q.jsx)(I.default,Qe(Qe({},r),{},{layout:n,title:Object(C.default)(r,e.name)}))}:O;return Object(Q.jsx)(Ke,{style:[A.default.absoluteFill,{zIndex:f?0:-1}],visible:f,enabled:s,freezeOnBlur:j,children:Object(Q.jsx)(ze.default.Provider,{value:y,children:Object(Q.jsx)(P.default,{focused:f,route:o.route,navigation:o.navigation,headerShown:o.options.headerShown,headerTransparent:o.options.headerTransparent,headerStatusBarHeight:o.options.headerStatusBarHeight,header:x({layout:m,route:o.route,navigation:o.navigation,options:o.options}),style:[u,{backgroundColor:n}],children:o.render()})})},e.key)}))}),Object(Q.jsx)(We.Provider,{value:w,children:k})]})}var Je=A.default.create({container:{flex:1,overflow:"hidden"}}),$e=["initialRouteName","backBehavior","children","screenListeners","screenOptions","sceneContainerStyle"],et=["lazy","tabBarOptions"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=Object(w.createNavigatorFactory)((function(e){var t,n,r=e.initialRouteName,o=e.backBehavior,a=e.children,i=e.screenListeners,c=e.screenOptions,l=e.sceneContainerStyle,s=O()(e,$e),u=s.lazy,d=s.tabBarOptions,f=O()(s,et),b={};d&&(Object.assign(b,{tabBarHideOnKeyboard:d.keyboardHidesTabBar,tabBarActiveTintColor:d.activeTintColor,tabBarInactiveTintColor:d.inactiveTintColor,tabBarActiveBackgroundColor:d.activeBackgroundColor,tabBarInactiveBackgroundColor:d.inactiveBackgroundColor,tabBarAllowFontScaling:d.allowFontScaling,tabBarShowLabel:d.showLabel,tabBarLabelStyle:d.labelStyle,tabBarIconStyle:d.iconStyle,tabBarItemStyle:d.tabStyle,tabBarLabelPosition:null!=(n=d.labelPosition)?n:!1===d.adaptive?"below-icon":void 0,tabBarStyle:[{display:d.tabBarVisible?"none":"flex"},b.tabBarStyle]}),Object.keys(b).forEach((function(e){void 0===b[e]&&delete b[e]})),_()(d,"Bottom Tab Navigator: 'tabBarOptions' is deprecated. Migrate the options to 'screenOptions' instead.\n\nPlace the following in 'screenOptions' in your code to keep current behavior:\n\n"+JSON.stringify(b,null,2)+"\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator#options for more details.")),"boolean"===typeof u&&(b.lazy=u,_()(!0,"Bottom Tab Navigator: 'lazy' in props is deprecated. Move it to 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator/#lazy for more details."));var j=Object(w.useNavigationBuilder)(w.TabRouter,{initialRouteName:r,backBehavior:o,children:a,screenListeners:i,screenOptions:c,defaultScreenOptions:b}),p=j.state,m=j.descriptors,x=j.navigation,h=j.NavigationContent;return Object(Q.jsx)(h,{children:Object(Q.jsx)(Ze,nt(nt({},f),{},{foldableList:null!=(t=null==c?void 0:c.foldableList)?t:[],state:p,navigation:x,descriptors:m,sceneContainerStyle:l}))})})),ot=(n(4354),n(874)),at=n(1197),it=n(4123),ct=n(4079),lt=n(177),st=(n(6129),n(195)),ut=n(484),dt=n(306),ft=n(98),bt=["children","image","title"];function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(i.memo)((function(e){e.children;var t=e.image,n=e.title,r=O()(e,bt),o=["SMALL","NORMAL"].includes(Object(ye.default)().size),a=Object(dt.default)(),c=o?Math.floor((a.width-48)/2):171,l=Object(i.useMemo)((function(){return Object(Q.jsx)(T.default,{width:c,height:c,bgColor:"surface-neutral-subdued",children:Object(Q.jsx)(ee.default,{name:"QuestionMarkCircleOutline",size:36})})}),[c]),s=Object(i.useMemo)((function(){return t&&"string"===typeof t?Object(i.isValidElement)(t)?t:Object(Q.jsx)(ft.default,{source:{uri:t},alt:"image of "+("string"===typeof n?n:"nft"),size:c,bgColor:"surface-neutral-subdued",fallbackElement:l}):l}),[l,t,n,c]);return Object(Q.jsxs)($.default.Item,pt(pt({px:0,py:0,overflow:"hidden",borderRadius:"xl",borderWidth:0,width:c},r),{},{children:[s,Object(Q.jsx)(N.default,{p:o?"3":"4",children:Object(Q.jsx)(te.default.Body2,{numberOfLines:1,children:n})})]}))}));var Ot=n(222),mt=n(100),xt=n(194),ht=n(482),gt=(n(1204),n(38)),vt=n(78),yt=n(376),wt=(n(4059),n(642));n(57),n(1684),n(293),n(1083),n(1651),n(858);n(1652);var kt=n(680),_t=n(581),St=n(423),It=n(75),Ct=n(1650),Pt=n(358),Mt=n(859),At=n(123),Tt=(n(1375),n(112));n(43);var Dt=n(443),Rt=n(612),Et=(n(1140),n(1672),n(82),n(1592),n(3833));n(497),n(1521),n(1104),n(6119),n(1368),n(1088),n(230);var Bt=n(3796),Nt=n(5327);Object(Bt.default)(Nt.KeyboardAwareScrollView),n(1685);n(1096),n(4199);var Lt=n(3993),Wt=(n(593),n(4046)),zt=n(340),Ht=n(1082),Ft=n(576);var Ut,Vt=n(270),Gt=n(92),qt=(n(1107),n(45)),Yt=(n(1662),n(121),n(1674),n(1093)),Kt=n(678),Xt=(n(1663),n(427),n(449)),Qt=(n(182),n(917),n(143),n(623),n(4076),n(871));!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(Ut||(Ut={}));n(1673);function Zt(e,t){return function(){return Object(Q.jsxs)(N.default,{flex:1,children:[Object(Q.jsx)(N.default,{flex:1,children:Object(Q.jsx)(e,{})}),Object(Q.jsx)(Re,{name:t})]})}}var Jt=n(1379),$t=n(4569);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e){var t=e.children,n=e.unmountWhenBlur,r=e.freezeWhenBlur,o=e.rootTabName,a=Object(i.useRef)(!1),c=Object(w.useIsFocused)();Object(i.useEffect)((function(){c&&(a.current=!0)}),[c]);var l=Object(i.useMemo)((function(){var e=!c,t=!1;e&&(Object(Jt.isModalRouteExisting)()&&(e=!1));if(d.default.isNativeIOS&&((e=!1)&&o&&(t=Object(Jt.isAtAppRootTab)(o))&&(e=!1),e&&o&&t)){var n,r=Object(Jt.getAppRootTabInfoOfTab)(o),a=null==r||null==(n=r.state)?void 0:n.routes;a&&(null==a?void 0:a.length)<=2&&(e=!1)}return e}),[o,c]);if(l&&n)return null;var s=a.current||c?t:null;return Object(Q.jsx)($t.default,{freeze:Boolean(l&&r),children:s})}function rn(e,t){var n=function(n){return Object(Q.jsx)(nn,tn(tn({},t),{},{children:Object(Q.jsx)(e,tn({},n))}))};return n.displayName=null==e?void 0:e.displayName,n}var on=n(640),an=W.default.serviceAccount;function cn(e){var t=e.wallet,n=e.networkId,r=null==t?void 0:t.id;return Object(i.useEffect)((function(){t&&r&&n&&an.autoAddFirstHdOrHwAccount({wallet:t,networkId:n})}),[n,t,r]),null}var ln,sn,un=function(e){var t=e.children,n=e.checkCompatibleNetwork,r=void 0===n||n,o=Object(y.default)(),a=Object(w.useNavigation)(),i=Object(ae.useActiveWalletAccount)(),c=i.walletId,l=i.accountId,s=i.networkId,u=i.isCompatibleNetwork,d=i.network,f=i.wallet,j=Object(on.useCreateAccountInWallet)({walletId:c,networkId:s}),p=j.createAccount,O=j.isCreateAccountSupported,m=!!l&&(!r||u);return!c?Object(Q.jsxs)(N.default,{testID:"IdentityAssertion-noWallet",flex:"1",justifyContent:"center",bg:"background-default",children:[Object(Q.jsx)(xt.default,{emoji:"\ud83e\udd11",title:o.formatMessage({id:"empty__no_wallet_title"}),subTitle:o.formatMessage({id:"empty__no_wallet_desc"})}),Object(Q.jsx)(N.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:Object(Q.jsx)(re.default,{leftIconName:"PlusOutline",type:"primary",onPress:function(){a.navigate(b.RootRoutes.Onboarding)},size:"lg",children:o.formatMessage({id:"action__create_wallet"})})})]}):m?Object(Q.jsx)(Q.Fragment,{children:t}):Object(Q.jsxs)(N.default,{testID:"IdentityAssertion-noAccount",flex:"1",justifyContent:"center",bg:"background-default",children:[Object(Q.jsx)(xt.default,{emoji:"\ud83d\udcb3",title:o.formatMessage({id:"empty__no_account_title"}),subTitle:o.formatMessage({id:"empty__no_account_desc"})}),Object(Q.jsxs)(N.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:[O&&f?Object(Q.jsx)(cn,{wallet:f,networkId:s}):null,Object(Q.jsx)(re.default,{leftIconName:O?"PlusOutline":"BanOutline",type:"primary",onPress:function(){O?p():qt.default.show({title:o.formatMessage({id:on.NETWORK_NOT_SUPPORT_CREATE_ACCOUNT_I18N_KEY},{0:null==d?void 0:d.shortName})})},size:"lg",children:o.formatMessage({id:"action__create_account"})})]})]})};d.default.isNativeIOSPad&&(sn=n(4588).default);var dn=Object(i.memo)((function(){var e=Object(j.default)();return e&&!ln?ln=n(5323).default:e||sn||(sn=n(4588).default),Object(Q.jsx)(N.default,{flex:1,bg:"background-default",children:e?Object(Q.jsx)(ln,{}):Object(Q.jsx)(sn,{})})}));var fn=n(4319),bn=n(4195);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=b.TabRoutes.Discover,mn=pn(pn({},_e[On]),{},{component:Zt(rn((function(){return Object(Q.jsx)(un,{checkCompatibleNetwork:!1,children:Object(Q.jsx)(dn,{})})}),{rootTabName:On}),On),children:[{name:b.HomeRoutes.ExploreScreen,component:bn.default},{name:b.HomeRoutes.DAppListScreen,component:fn.default}]}),xn=n(3960),hn=n(1612),gn=n(1087),vn=n(1622),yn=n(107),wn=n(1661);function kn(e){var t=e.networkId,n=Object(z.useManageNetworks)().allNetworks,r=Object(z.useNetwork)({networkId:t}).network,o=W.default.serviceNetwork,a=Object(y.default)(),c=n.filter((function(e){return e.enabled&&(null==e?void 0:e.settings.supportBatchTransfer)&&(!(null==e||!e.settings.nativeSupportBatchTransfer)||gn.batchTransferContractAddress[e.id])})),l=Object(i.useCallback)((function(e){e.enabled&&o.changeActiveNetwork(e.id)}),[o]);return Object(Q.jsx)(T.default,{children:Object(Q.jsxs)(N.default,{maxW:"340px",children:[Object(Q.jsx)(ve.default,{fontSize:"56px",textAlign:"center",mt:8,children:"\ud83e\udd37\u200d\u2640\ufe0f"}),Object(Q.jsx)(ve.default,{typography:"DisplayMedium",mt:3,textAlign:"center",children:a.formatMessage({id:"title__str_network_is_not_supported_yet"},{chain:null==r?void 0:r.name})}),Object(Q.jsx)(ve.default,{typography:"Body1",color:"text-subdued",mt:2,textAlign:"center",children:a.formatMessage({id:"content__choose_a_supported_network"})}),Object(Q.jsx)(gt.default,{space:2,mt:6,flexWrap:"wrap",justifyContent:"center",children:c.map((function(e){return Object(Q.jsx)(D.default,{label:null==e?void 0:e.name,placement:"top",children:Object(Q.jsx)($.default,{onPress:function(){return l(e)},children:Object(Q.jsx)(N.default,{mb:3,children:Object(Q.jsx)(At.default,{position:"relative",mb:3,size:8,token:{logoURI:null==e?void 0:e.logoURI}})})})},e.id)}))})]})})}var _n=n(2),Sn=n.n(_n),In=n(21),Cn=n.n(In),Pn=n(12),Mn=n(90);function An(e){var t=e.option,n=e.isChecked,r=e.onSelected,o=e.isAlreadyUnlimited,a=t.title,i=t.subtitle,c=t.content,l=t.isUnlimited,s=Object(y.default)();return Object(Q.jsx)($.default,{borderRadius:12,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed",borderColor:"surface-pressed"},paddingX:3,paddingY:2,marginX:-3,onPress:function(){return r(l)},children:Object(Q.jsxs)(gt.default,{space:4,alignItems:"center",children:[Object(Q.jsxs)(N.default,{flex:1,children:[i?Object(Q.jsxs)(gt.default,{space:2,children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:a}),Object(Q.jsx)(st.default,{title:i,size:"sm"}),o&&l&&Object(Q.jsx)(st.default,{title:s.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}):Object(Q.jsxs)(gt.default,{space:2,children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:a}),o&&l&&Object(Q.jsx)(st.default,{title:s.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",lineHeight:"20px",children:c})]}),Object(Q.jsx)(N.default,{opacity:n?1:0,children:Object(Q.jsx)(ee.default,{name:"CheckMini",color:"icon-success"})})]})})}function Tn(e){var t=e.closeOverlay,n=e.isUnlimited,r=e.setIsUnlimited,o=e.isAlreadyUnlimited,a=Object(y.default)(),c=Object(j.default)(),l=Object(i.useState)(n),s=x()(l,2),u=s[0],d=s[1],f=[{title:a.formatMessage({id:"form__exact_amount"}),subtitle:a.formatMessage({id:"content__safer"}),content:a.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"}),isUnlimited:!1},{title:a.formatMessage({id:"form__unlimited"}),content:a.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"}),isUnlimited:!0}],b=Object(i.useCallback)((function(e){d(e)}),[]);return Object(Q.jsx)(ut.default,{closeOverlay:t,showCloseButton:!c,title:a.formatMessage({id:"title__approval"}),children:Object(Q.jsxs)(N.default,{pb:c?6:0,children:[f.map((function(e){return Object(Q.jsx)(An,{isChecked:u===e.isUnlimited,option:e,onSelected:b,isAlreadyUnlimited:o},e.title)})),Object(Q.jsx)(re.default,{type:"primary",size:"xl",mt:6,onPress:function(){r(u),t()},children:a.formatMessage({id:"action__done"})})]})})}var Dn=n(1703),Rn=n(4579),En=n(969);function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln=n(5272),Wn=n.n(Ln),zn=n(239);function Hn(e){var t="";switch(e){case En.ReceiverExampleType.CSV:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.csv";break;case En.ReceiverExampleType.TXT:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.txt";break;case En.ReceiverExampleType.Excel:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.xlsx";break;default:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.txt"}Object(zn.openUrlExternal)(t)}function Fn(){var e=Object(y.default)();return Object(Q.jsxs)(gt.default,{space:"10px",children:[Object(Q.jsxs)(ve.default,{fontSize:14,color:"text-subdued",children:[e.formatMessage({id:"content__download_example"}),":"]}),Object(Q.jsx)($.default,{onPress:function(){return Hn(En.ReceiverExampleType.CSV)},children:Object(Q.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"CSV,"})}),Object(Q.jsx)($.default,{onPress:function(){return Hn(En.ReceiverExampleType.TXT)},children:Object(Q.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"TXT,"})}),Object(Q.jsx)($.default,{onPress:function(){return Hn(En.ReceiverExampleType.Excel)},children:Object(Q.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"Excel"})})]})}function Un(e){var t=Object(i.useRef)(),n=Object(i.useRef)(),r=e.receiverString,o=e.setReceiverString,a=Object(y.default)(),c=function(e){return e.split("\n").map((function(e,t){return""+(t+1)+new Array(e.length+3).join(" ")})).join("\n")}(r),l=Object(i.useCallback)((function(){var e,r;null==(e=n.current)||e.scrollTo({top:null==(r=t.current)?void 0:r.scrollTop})}),[]);return Object(i.useLayoutEffect)((function(){n.current&&(n.current.style.whiteSpace="break-spaces")}),[]),Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(Mt.default,{ref:t,placeholder:a.formatMessage({id:"form__receiver_address_amount"}),onScroll:l,bgColor:"transparent",bg:"transparent",value:r,pl:"46px",h:"240px",margin:"1px",shadow:"none",fontFamily:d.default.isNativeIOS?"Menlo":"monospace",onChangeText:function(e){return o(e)}}),Object(Q.jsx)(Mt.default,{ref:n,borderColor:"transparent",color:"text-disabled",value:c,h:"240px",fontFamily:"monospace",position:"absolute",zIndex:-1,left:"1px",top:"1px",right:"1px",bottom:"1px",isReadOnly:!0})]})}function Vn(e){var t=e.receiverErrors,n=e.showFileError,r=Object(y.default)(),o=Object(i.useMemo)((function(){for(var e=[],n=t.length,o=0,a=Cn.a.min(n,3).toNumber();o<a;o+=1){var i=t[o];e.push(Object(Q.jsxs)(gt.default,{space:"10px",alignItems:"center",children:[Object(Q.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Q.jsxs)(ve.default,{typography:"Caption",color:"text-warning",fontSize:12,children:[r.formatMessage({id:"form__line_str"},{0:i.lineNumber}),": ",i.message]},i.lineNumber)]},i.lineNumber))}return n>3&&e.push(Object(Q.jsxs)(gt.default,{space:"10px",alignItems:"center",children:[Object(Q.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Q.jsx)(ve.default,{typography:"Caption",fontSize:12,color:"text-warning",children:r.formatMessage({id:"msg__other_str_lines_errors"},{count:n-3})})]})),e}),[t,r]);return Object(Q.jsxs)(Q.Fragment,{children:[n&&Object(Q.jsxs)(gt.default,{space:"10px",alignItems:"center",children:[Object(Q.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Q.jsx)(ve.default,{typography:"Caption",color:"text-warning",fontSize:12,children:r.formatMessage({id:"msg__the_content_format_of_the_upload_file_is_incorrect"})})]}),o]})}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e){var t=e.receiverFromOut,n=e.setReceiverFromOut,r=e.setReceiver,o=e.type,a=e.receiverErrors,c=e.showFileError,l=e.setShowFileError,s=Object(y.default)(),u=Object(i.useState)(""),d=x()(u,2),f=d[0],b=d[1],j=function(e){var t=e.header,n=Object(i.useState)([]),r=x()(n,2),o=r[0],a=r[1],c=Object(Dn.useDropzone)(Nn({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=Sn()((function*(e){try{var n=yield e[0].arrayBuffer(),r=Object(Rn.read)(n,{raw:!0}),o=Rn.utils.sheet_to_json(r.Sheets[r.SheetNames[0]],{header:t});a(o)}catch(i){}}));return function(t){return e.apply(this,arguments)}}()},e));return Nn(Nn({},c),{},{data:o})}({header:[En.TokenReceiverEnum.Address,En.TokenReceiverEnum.Amount],noClick:!0,onDrop:function(e,t){t.length>0&&l(!0)}}),p=j.isDragAccept,O=j.data,m=j.getRootProps,h=Object(z.useDebounce)(f,500,{leading:!0});return Object(i.useEffect)((function(){r(function(e,t){var n=[];if(""===e)return[];for(var r=e.split("\n"),o=0;o<r.length;o+=1){var a=r[o].split(",");(t===En.BulkSenderTypeEnum.Token||En.BulkSenderTypeEnum.NativeToken)&&n.push({Address:Wn()(a[0]),Amount:Wn()(a[1])})}return n}(h,o))}),[h,r,o]),Object(i.useEffect)((function(){t.length>0&&b(function(e){var t=e.length;return e.reduce((function(e,n,r){return""+e+[n.Address,n.Amount].join(",")+(r===t-1?"":"\n")}),"")}(t))}),[t]),Object(i.useEffect)((function(){O&&O[0]&&O[0].Address&&O[0].Amount?(l(!1),n(O.filter((function(e){return e.Address!==En.TokenReceiverEnum.Address&&e.Amount!==En.TokenReceiverEnum.Amount})))):O&&O[0]&&l(!0)}),[O,s,n,l]),Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)("div",qn(qn({style:{width:"100%",height:"100%",position:"relative"}},m()),{},{children:[Object(Q.jsx)(Un,{receiverString:f,setReceiverString:b}),p&&Object(Q.jsx)(T.default,{flex:"1",bg:"backdrop",zIndex:999,position:"absolute",left:"0",right:"0",top:"0",bottom:"0",borderRadius:12,children:Object(Q.jsx)(N.default,{bg:"surface-default",borderWidth:1,borderColor:"interactive-default",w:"358px",borderRadius:12,h:"148px",children:Object(Q.jsxs)(T.default,{h:"full",children:[Object(Q.jsx)(ee.default,{name:"DocumentArrowUpOutline",size:38}),Object(Q.jsx)(ve.default,{mt:5,children:s.formatMessage({id:"form__drag_file_here"})})]})})})]})),Object(Q.jsx)(N.default,{mt:3,children:Object(Q.jsx)(Vn,{receiverErrors:a,showFileError:c})})]})}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e){var t=e.setReceiverFromOut,n=e.setIsUploadMode,r=e.showFileError,o=e.setShowFileError,i=Object(a.default)(["surface-default","border-default","interactive-default"]),c=x()(i,3),l=c[0],s=c[1],u=c[2],d=Object(y.default)(),f=Object(Dn.useDropzone)({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=Sn()((function*(e){try{var r=yield e[0].arrayBuffer(),a=Object(Rn.read)(r,{raw:!0}),i=Rn.utils.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:[En.TokenReceiverEnum.Address,En.TokenReceiverEnum.Amount]});i&&i[0]&&i[0].Address&&i[0].Amount?(t(i.filter((function(e){return e.Address!==En.TokenReceiverEnum.Address&&e.Amount!==En.TokenReceiverEnum.Amount}))),o(!1),n(!1)):o(!0)}catch(c){o(!0)}}));return function(t){return e.apply(this,arguments)}}(),onDropRejected:function(){o(!0)}}),b=f.isDragAccept,j=f.getRootProps,p=f.getInputProps;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",Xn(Xn({},j()),{},{style:{cursor:"pointer",background:l,borderWidth:1,borderStyle:"solid",borderRadius:"12px",height:"148px",borderColor:b?u:s},children:[Object(Q.jsx)("input",Xn({},p())),Object(Q.jsxs)(T.default,{w:"full",h:"full",children:[Object(Q.jsx)(ee.default,{name:"UploadOutline",size:40,color:"icon-subdued"}),Object(Q.jsx)(ve.default,{fontSize:14,mt:"20px",children:d.formatMessage({id:"form__drag_or_drop_file_to_import"})})]})]})),Object(Q.jsx)(N.default,{mt:3,children:Object(Q.jsx)(Vn,{receiverErrors:[],showFileError:r})}),Object(Q.jsx)(N.default,{mt:4,children:Object(Q.jsx)(Fn,{})})]})}function Zn(e){var t=e.accountId,n=e.networkId,r=e.receiverFromOut,o=e.setReceiverFromOut,a=e.setReceiver,c=e.type,l=e.receiverErrors,s=e.isUploadMode,u=e.setIsUploadMode,d=Object(y.default)(),f=Object(j.default)(),b=Object(i.useState)(!1),p=x()(b,2),O=p[0],m=p[1];return Object(i.useEffect)((function(){m(!1)}),[s]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(gt.default,{justifyContent:"space-between",alignItems:"center",mb:f?7:8,children:[Object(Q.jsx)(ve.default,{fontSize:18,typography:"Heading",children:d.formatMessage({id:"form__receiver_address_amount"})}),Object(Q.jsx)($.default,{_hover:{backgroundColor:"transparent"},color:"text-subdued",onPress:function(){return u(!s)},children:function(e){var t=e.isHovered;return Object(Q.jsxs)(gt.default,{alignItems:"center",space:"5px",children:[Object(Q.jsx)(ee.default,{size:16,name:s?"PencilOutline":"UploadOutline",color:t?"text-default":"text-subdued"}),Object(Q.jsx)(ve.default,{color:t?"text-default":"text-subdued",fontSize:16,children:d.formatMessage({id:s?"action__edit":"action__upload"})})]})}})]}),Object(Q.jsx)(N.default,{display:s?"flex":"none",children:Object(Q.jsx)(Qn,{showFileError:O,setShowFileError:m,setReceiverFromOut:o,setIsUploadMode:u})}),Object(Q.jsx)(N.default,{display:s?"none":"flex",children:Object(Q.jsx)(Yn,{accountId:t,networkId:n,setReceiver:a,receiverFromOut:r,setReceiverFromOut:o,type:c,receiverErrors:l,showFileError:O,setShowFileError:m})}),Object(Q.jsx)(ve.default,{fontSize:12,color:"text-subdued",mt:f?4:3,children:d.formatMessage({id:"form__each_line_should_include_the_address_and_the_amount_seperated_by_commas"})})]})}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t,n,r=e.accountId,o=e.networkId,a=e.accountAddress,c=e.type,l=Object(i.useState)(null),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useState)([]),p=x()(f,2),O=p[0],m=p[1],h=Object(i.useState)([]),v=x()(h,2),k=v[0],_=v[1],S=Object(i.useState)(!1),I=x()(S,2),C=I[0],P=I[1],M=Object(i.useState)(!1),A=x()(M,2),T=A[0],D=A[1],R=Object(i.useState)(!1),E=x()(R,2),B=E[0],L=E[1],H=Object(i.useState)(!1),F=x()(H,2),U=F[0],V=F[1],G=Object(y.default)(),q=Object(j.default)(),Y=Object(w.useNavigation)(),K=Object(z.useNetwork)({networkId:o}).network,X=Object(z.useAccountTokenLoading)(o,r),Z=Object(z.useAccountTokensOnChain)(o,r,!0),J=Z.find((function(e){return e.isNative})),te=Z.filter((function(e){return!e.isNative&&((null==K?void 0:K.impl)!==Pn.IMPL_TRON||!new Cn.a(e.tokenIdOnNetwork).isInteger())})),ne=W.default.serviceBatchTransfer,oe=W.default.serviceToken,ae=W.default.serviceOverview,ie=c===En.BulkSenderTypeEnum.NativeToken,ce=ie?J:te[0],le=u||ce,se=Object(z.useTokenBalance)({accountId:r,networkId:o,token:le,fallback:"0"}),ue=Object(i.useMemo)((function(){var e;return G.formatMessage({id:"content__balance_str"},{0:se+" "+(null!=(e=null==le?void 0:le.symbol)?e:"")})}),[null==le?void 0:le.symbol,G,se]),de=function(e){var t=e.networkId,n=e.receiver,r=e.type,o=e.token,a=Object(i.useState)(!1),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)(!0),d=x()(u,2),f=d[0],b=d[1],j=Object(i.useState)([]),p=x()(j,2),O=p[0],m=p[1],h=Object(y.default)(),g=Object(z.useNetworkSimple)(t);return Object(i.useEffect)((function(){Sn()((function*(){var e=[];if(b(!0),r===En.BulkSenderTypeEnum.NativeToken||r===En.BulkSenderTypeEnum.Token){for(var a=0;a<n.length;a+=1){var i=n[a],c=i.Address,l=i.Amount,u=!1,d=new Cn.a(l);if(u||(d.isNaN()||d.isNegative())&&(e.push({lineNumber:a+1,message:h.formatMessage({id:"form__modify_the_line_with_the_correct_format"})}),u=!0),!u&&null!=o&&o.decimals&&(d.shiftedBy(o.decimals).isInteger()||(e.push({lineNumber:a+1,message:h.formatMessage({id:"msg__please_limit_the_amount_of_tokens_to_str_decimal_places_or_less"},{0:o.decimals})}),u=!0)),!u)try{yield W.default.validator.validateAddress(t,c.trim())}catch(j){e.push({lineNumber:a+1,message:h.formatMessage({id:"form__incorrect_address_format"})}),u=!0}if(!u&&null!=g&&g.settings.minTransferAmount){var f=new Cn.a(g.settings.minTransferAmount);d.lt(f)&&(e.push({lineNumber:a+1,message:h.formatMessage({id:"form__str_minimum_transfer"},{0:f.toFixed(),1:null==o?void 0:o.symbol})}),u=!0)}}b(!1),s(0===e.length),m(e)}}))()}),[h,null==g?void 0:g.settings.minTransferAmount,t,n,null==o?void 0:o.decimals,null==o?void 0:o.symbol,r]),{isValid:l,isValidating:f,errors:O}}({networkId:o,receiver:O,type:c,token:u||ce}),fe=de.isValid,be=de.isValidating,je=de.errors,pe=Object(i.useCallback)((function(e){d(e)}),[]),Oe=Object(i.useCallback)((function(e){var t=O.map((function(t){return $n($n({},t),{},{Amount:e})}));_(t)}),[O,_]),me=Object(i.useCallback)((function(){Y.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BulkSender,params:{screen:En.BulkSenderRoutes.TokenSelector,params:{accountId:r,networkId:o,tokens:te,onTokenSelected:pe}}})}),[r,pe,Y,o,te]),xe=Object(i.useCallback)((function(){Y.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BulkSender,params:{screen:En.BulkSenderRoutes.AmountEditor,params:{onAmountChanged:Oe}}})}),[Oe,Y]),he=Object(i.useCallback)((function(){!function(e){var t=e.isUnlimited,n=e.setIsUnlimited,r=e.isAlreadyUnlimited;Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Tn,{isUnlimited:t,setIsUnlimited:n,isAlreadyUnlimited:r,closeOverlay:e})}))}({isUnlimited:B,setIsUnlimited:L,isAlreadyUnlimited:U})}),[B,U]),ge=Object(i.useCallback)((function(e,t){return!e.reduce((function(e,t){return e.plus(t.amount)}),new Cn.a(0)).gt(se)||(qt.default.show({title:G.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},{type:"error"}),!1)}),[se,G]),ye=Object(i.useCallback)(Sn()((function*(){try{var e,t;if(0===O.length||be||T||!fe)return;var n,i=[];D(!0);for(var l=u||ce,s=0;s<O.length;s+=1)i.push({from:a,to:O[s].Address,amount:O[s].Amount,token:null==l?void 0:l.tokenIdOnNetwork,tokenSendAddress:null==l?void 0:l.sendAddress});if(!ge(i,l))return void D(!1);var d=yield ne.buildEncodedTxsFromBatchApprove({networkId:o,accountId:r,transferInfos:i,isUnlimited:B}),f=d[d.length-1];f&&(n=void 0!==(n=f.nonce)?new Cn.a(n).toNumber():n);var j=(null==K||null==(e=K.settings)?void 0:e.maxActionsInTx)||0,p=[];if(j>0&&(null==K||null==(t=K.settings)||!t.hardwareMaxActionsEnabled||r.startsWith("hw-")))for(var m=0,x=i.length;m<x;m+=j)p.push(i.slice(m,m+j));else p.push(i);for(var h=[],v=0,y=p.length;v<y;v+=1){var w=yield ne.buildEncodedTxFromBatchTransfer({networkId:o,accountId:r,transferInfos:p[v],prevNonce:n});n=void 0!==(n=w.nonce)?new Cn.a(n).toNumber():n,h.push(w)}D(!1),Y.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:b.SendModalRoutes.BatchSendConfirm,params:{networkId:o,accountId:r,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,encodedTxs:[].concat(g()(d),h),transferCount:i.length,transferType:c,payloadInfo:{type:"Transfer",transferInfos:i}}}})}catch(k){D(!1),qt.default.show({title:"string"===typeof k?k:k.message},{type:"error"})}})),[a,r,ce,T,B,fe,be,Y,null==K||null==(t=K.settings)?void 0:t.hardwareMaxActionsEnabled,null==K||null==(n=K.settings)?void 0:n.maxActionsInTx,o,O,u,ne,c,ge]);return Object(w.useFocusEffect)(Object(i.useCallback)((function(){return r&&o&&(ae.startQueryPendingTasks(),oe.fetchAccountTokens({accountId:r,networkId:o})),function(){ae.stopQueryPendingTasks()}}),[r,o,ae,oe])),Object(i.useEffect)((function(){(function(){var e=Sn()((function*(){var e=gn.batchTransferContractAddress[o];if(!ie&&null!=K&&K.settings.batchTransferApprovalRequired&&null!=le&&le.tokenIdOnNetwork&&e){var t=(yield ne.checkIsUnlimitedAllowance({networkId:o,owner:a,spender:e,token:null==le?void 0:le.tokenIdOnNetwork})).isUnlimited;L(t),V(t)}}));return function(){return e.apply(this,arguments)}})()()}),[a,null==le?void 0:le.tokenIdOnNetwork,ie,null==K?void 0:K.settings.batchTransferApprovalRequired,o,ne]),Object(i.useEffect)((function(){r&&o&&d(null)}),[r,o]),Object(Q.jsx)(hn.Tabs.ScrollView,{children:Object(Q.jsxs)(N.default,{paddingX:q?4:0,paddingY:5,children:[Object(Q.jsx)($.default.Item,{disabled:X||ie,px:4,py:2,borderColor:"border-default",borderWidth:1,borderRadius:12,onPress:me,children:Object(Q.jsxs)(gt.default,{alignItems:"center",children:[Object(Q.jsx)(At.default,{flex:1,size:8,showInfo:!0,showTokenVerifiedIcon:!1,token:u||ce,name:(null==u?void 0:u.name)||(null==ce?void 0:ce.name),showExtra:!1,description:ue}),!ie&&Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}),Object(Q.jsx)(N.default,{mt:6,children:Object(Q.jsx)(Zn,{accountId:r,networkId:o,setReceiver:m,receiverFromOut:k,setReceiverFromOut:_,receiverErrors:je,type:c,isUploadMode:C,setIsUploadMode:P})}),Object(Q.jsxs)(N.default,{display:C?"none":"flex",children:[Object(Q.jsx)(ve.default,{fontSize:12,color:"text-subdued",mt:q?4:3,children:G.formatMessage({id:"content__deflationary_token_transfers_are_not_supported_at_this_moment"})}),Object(Q.jsxs)(gt.default,{space:4,alignItems:"center",flexWrap:"wrap",children:[Object(Q.jsx)(re.default,{mt:4,type:"basic",size:"sm",leftIconName:"CurrencyDollarSolid",onPress:xe,children:Object(Q.jsx)(ve.default,{typography:"CaptionStrong",children:G.formatMessage({id:"action__edit_amount"})})}),!ie&&(null==K?void 0:K.settings.batchTransferApprovalRequired)&&Object(Q.jsx)(re.default,{mt:4,type:"basic",size:"sm",leftIconName:"CurrencyDollarSolid",onPress:he,paddingTop:U?"4px":"6px",paddingBottom:U?"4px":"6px",children:Object(Q.jsxs)(gt.default,{space:2,alignItems:"center",children:[Object(Q.jsx)(ve.default,{typography:"CaptionStrong",children:G.formatMessage({id:B?"action__approval_unlimited":"action__approval_exact_amount"})}),U&&B&&Object(Q.jsx)(st.default,{size:"sm",color:"text-success",bgColor:"surface-success-default",title:G.formatMessage({id:"form__approved"})})]})})]}),Object(Q.jsx)(N.default,{mt:4,children:Object(Q.jsx)(re.default,{isLoading:be||T,isDisabled:be||!fe||0===O.length||T,type:"primary",size:"xl",maxW:q?"full":"280px",onPress:ye,children:G.formatMessage({id:"action__preview"})})}),Object(Q.jsx)(N.default,{mt:4,children:Object(Q.jsx)(Fn,{})})]})]})})}var tr=function(){return Object(Q.jsx)(ve.default,{})};var nr=function(){var e=Object(y.default)(),t=Object(yn.useNavigationBack)(),n=Object(w.useNavigation)(),r=Object(j.default)(),o=Object(a.default)(["background-default"]),c=x()(o,1)[0],l=Object(z.useActiveWalletAccount)(),s=l.accountId,u=l.networkId,d=l.accountAddress,f=l.network,b=(null==f?void 0:f.enabled)&&(null==f?void 0:f.settings.supportBatchTransfer)&&(!(null==f||!f.settings.nativeSupportBatchTransfer)||gn.batchTransferContractAddress[u]),p=Object(z.useNativeToken)(u),O=Object(wn.useConnectAndCreateExternalAccount)({networkId:u}).connectAndCreateExternalAccount,m=Object(i.useMemo)((function(){return s?null:Object(Q.jsx)(re.default,{onPress:O,mr:6,children:e.formatMessage({id:"action__connect_wallet"})})}),[e,O,s]),h=Object(i.useCallback)((function(e){var n=e.tintColor;return Object(Q.jsxs)(gt.default,{alignItems:"center",children:[Object(Q.jsx)(xn.default,{tintColor:n,onPress:t,canGoBack:!0}),!r&&Object(Q.jsx)(ve.default,{typography:"Heading",color:"text-default",children:"Bulk Send"})]})}),[t,r]),g=Object(i.useCallback)((function(){return s?Object(Q.jsx)(N.default,{pr:"6",children:Object(Q.jsx)(vn.NetworkAccountSelectorTrigger,{type:r?"basic":"plain"})}):m}),[s,r,m]);Object(i.useLayoutEffect)((function(){n.setOptions({title:"",headerRight:g})}),[n,h,g]);var v=Object(i.useMemo)((function(){var t,n=[Object(Q.jsx)(hn.Tabs.Tab,{name:En.BulkSenderTypeEnum.NativeToken,label:null!=(t=null==p?void 0:p.symbol)?t:"",children:Object(Q.jsx)(er,{accountId:s,networkId:u,accountAddress:d,type:En.BulkSenderTypeEnum.NativeToken})})];return null!=f&&f.settings.tokenEnabled&&n.push(Object(Q.jsx)(hn.Tabs.Tab,{name:En.BulkSenderTypeEnum.Token,label:e.formatMessage({id:"form__token"}),children:Object(Q.jsx)(er,{accountId:s,networkId:u,accountAddress:d,type:En.BulkSenderTypeEnum.Token})})),n}),[d,s,e,null==p?void 0:p.symbol,null==f?void 0:f.settings.tokenEnabled,u]);return b?Object(Q.jsx)(hn.Tabs.Container,{headerContainerStyle:{width:"100%",maxWidth:768},containerStyle:{width:"100%",maxWidth:768,marginHorizontal:"auto",backgroundColor:c,alignSelf:"center",flex:1},renderHeader:tr,headerHeight:r?0:30,disableRefresh:!0,children:v}):Object(Q.jsx)(kn,{networkId:u})},rr=n(1697),or=function(){var e=Object(je.default)().bottom,t=Object(z.useActiveWalletAccount)(),n=t.accountId,r=t.networkId,o=t.walletId;return Object(Q.jsx)(rr.default,{walletId:o,accountId:n,networkId:r,flatStyle:!0,ListFooterComponent:Object(Q.jsx)(N.default,{h:48+e+"px"})})},ar=n(4063),ir=Object(i.createContext)(null);function cr(){return Object(i.useContext)(ir)}var lr=n(1053),sr=n(665),ur=n(425),dr=n(495),fr=n(487),br=n(2467),jr=["asset","cardWidth","margin","marginBottom"];function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mr(e){switch(e){case 3:return 45;case 4:return 48;case 5:return 50;default:return 48}}var xr=function(e){var t=e.numColumns,n=e.margin,r=e.cardWidth,o=e.marginBottom,a=new Array(2).fill(0),i=new Array(t).fill(0),c=Object(j.default)();return Object(Q.jsx)(lr.default,{width:"full",space:o+"px",children:a.map((function(e,t){return Object(Q.jsx)(sr.default,{width:"full",space:n+"px",children:i.map((function(e,n){return Object(Q.jsxs)(N.default,{flexDirection:"column",children:[Object(Q.jsx)(Ft.default,{width:r,height:r,borderRadius:"12px"}),Object(Q.jsx)(N.default,{mt:"8px",children:Object(Q.jsx)(ne.default,{shape:c?"Body2":"Body1"})})]},"row"+n+t)}))},"col"+t)}))})},hr=function(e){var t=e.asset,n=e.cardWidth,r=(e.margin,e.marginBottom,O()(e,jr)),o="";o=t.name&&t.name.length>0?t.name:"#"+t.tokenId;var a="";t.latestTradePrice&&"number"===typeof t.latestTradePrice&&(a=t.latestTradePrice+" "+t.latestTradeSymbol);var i=r.onPress,c=Object(j.default)();return Object(Q.jsxs)(ur.default,{style:{marginHorizontal:c?4:12,width:n},onPress:i,children:[Object(Q.jsx)(fr.default,{asset:t,borderRadius:"12px",size:n}),Object(Q.jsxs)(N.default,{mt:"8px",alignSelf:"stretch",children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body2Strong",md:"Body1Strong"},isTruncated:!0,children:o}),a?Object(Q.jsx)(ve.default,{typography:"Body2",mt:"4px",color:"text-subdued",numberOfLines:1,children:a}):null]})]})},gr=function(e){var t,n,r=e.contractAddress,o=e.networkId,a=e.ListHeaderComponent,c=Object(j.default)(),l=Object(ye.default)().screenWidth,s=Object(dr.useIsMounted)(),u=Object(w.useNavigation)(),d=null==(t=cr())?void 0:t.context,f=null==(n=cr())?void 0:n.setContext,p=Object(i.useRef)(),O=Object(i.useRef)(),m=W.default.serviceNFT,x=c?16:32,h=c?16:24,g=c?8:24,v=c?l-32:Math.min(992,l-224-2*x),y=Object(br.useGridListLayout)({maxCardWidth:145,numColumns:3,margin:g,pageWidth:v}),k=y.cardWidth,_=y.numColumns,S=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=yield m.getCollectionAssets(e);null!=t&&t.content&&(p.current=t.next,f&&f((function(e){return null!=d&&d.refreshing?Or(Or({},e),{},{assetList:t.content}):Or(Or({},e),{},{assetList:e.assetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,m,f]);Object(i.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&s&&0===(null==d?void 0:d.attributes.length)&&(null!=d&&d.refreshing&&(p.current=void 0),null!==p.current&&S({chain:o,contractAddress:r,cursor:p.current,limit:mr(_)}).then((function(){f&&f((function(e){return Or(Or({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes.length,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,S,s,o,_,f]);var I=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=yield m.getAssetsWithAttributes(e);null!=t&&t.content&&(O.current=t.next,f&&f((function(e){return null!=d&&d.refreshing?Or(Or({},e),{},{filterAssetList:t.content}):Or(Or({},e),{},{filterAssetList:e.filterAssetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,m,f]);Object(i.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&s&&(null==d?void 0:d.attributes.length)>0&&(null!=d&&d.refreshing&&(O.current=void 0,f&&f((function(e){return Or(Or({},e),{},{filterAssetList:[]})}))),null!==O.current&&I({chain:o,attributes:d.attributes,contractAddress:r,cursor:O.current,limit:mr(_)}).then((function(){f&&f((function(e){return Or(Or({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,I,s,o,_,f]);var C=Object(i.useCallback)((function(e){o&&u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:o,isOwner:!1}}})}),[u,o]),P=Object(i.useCallback)((function(e){var t=e.item;return Object(Q.jsx)(hr,{onPress:function(){C(t)},asset:t,cardWidth:k})}),[k,C]),M=Object(i.useMemo)((function(){return Object(Q.jsx)(xr,{numColumns:_,cardWidth:k,margin:g,marginBottom:h})}),[k,g,h,_]),A=Object(i.useMemo)((function(){var e;return d?(null==d||null==(e=d.attributes)?void 0:e.length)>0?null==d?void 0:d.filterAssetList:null==d?void 0:d.assetList:[]}),[d]),T=Object(i.useCallback)((function(){d&&(0===(null==d?void 0:d.attributes.length)&&null!==p.current&&S({chain:o,contractAddress:r,cursor:p.current,limit:mr(_)}),(null==d?void 0:d.attributes.length)>0&&null!==O.current&&I({chain:o,attributes:d.attributes,contractAddress:r,cursor:O.current,limit:mr(_)}))}),[d,r,S,I,o,_]),D=Object(i.useCallback)((function(){return d&&(null!==p.current&&0===(null==d?void 0:d.attributes.length)||null!==O.current&&(null==d?void 0:d.attributes.length)>0)?M:Object(Q.jsx)(N.default,{})}),[M,d]);return Object(Q.jsx)(hn.Tabs.FlatList,{numColumns:_,ListHeaderComponent:a,style:{padding:x},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},columnWrapperStyle:{marginHorizontal:c?-4:-12,paddingBottom:c?16:24},ListFooterComponent:D,data:A,renderItem:P,keyExtractor:function(e){return""+e.tokenId},onEndReached:T},_)},vr=n(161),yr=n.n(vr),wr=n(1614),kr=n(3999);function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=function(e){var t,n,r,o,a=Object.assign({},(yr()(e),e)),c=null==(t=cr())?void 0:t.context,l=null==c?void 0:c.collection,s=null!=(n=null!=(r=null==l?void 0:l.contractName)?r:null==l?void 0:l.name)?n:"",u=Object(y.default)(),d=Object(j.default)(),f=Object(z.useNavigation)();Object(i.useEffect)((function(){d||f.setOptions({title:s})}),[d,s,f]);var b=Object(i.useMemo)((function(){var e;return[d?null:{key:u.formatMessage({id:"content__items"}),value:null==l?void 0:l.itemsTotal},{key:u.formatMessage({id:"content__owners"}),value:null==l?void 0:l.ownersTotal},{key:u.formatMessage({id:"content__floor"}),value:Object(kr.PriceString)({price:null==l?void 0:l.floorPrice,symbol:null==l?void 0:l.priceSymbol,networkId:null==c?void 0:c.networkId})},{key:u.formatMessage({id:"content__blue_chip_rates"}),value:null==l||null==(e=l.blueChip)?void 0:e.next_blue_chip_probability},{key:u.formatMessage({id:"content__int_hours_volume"},{0:24}),value:Object(kr.PriceString)({price:null==l?void 0:l.volume24h,symbol:null==l?void 0:l.priceSymbol,networkId:null==c?void 0:c.networkId})}]}),[null==l||null==(o=l.blueChip)?void 0:o.next_blue_chip_probability,null==l?void 0:l.floorPrice,null==l?void 0:l.itemsTotal,null==l?void 0:l.ownersTotal,null==l?void 0:l.priceSymbol,null==l?void 0:l.volume24h,null==c?void 0:c.networkId,u,d]),p=Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",numberOfLines:2,children:(null==l?void 0:l.description)||u.formatMessage({id:"content__no_description"})});return Object(Q.jsxs)(N.default,Sr(Sr({},a),{},{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsx)(wr.default,{src:null==l?void 0:l.logoUrl,width:"64px",height:"64px",verified:null==l?void 0:l.openseaVerified}),Object(Q.jsxs)(N.default,{ml:{base:"16px",md:"24px"},maxW:"576px",flex:1,children:[Object(Q.jsx)(ve.default,{typography:"PageHeading",mb:"4px",numberOfLines:1,children:s||"\u2013"}),Object(Q.jsx)(N.default,{mt:"4px",children:d?Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:u.formatMessage({id:"content__int_items"},{0:null==l?void 0:l.itemsTotal})}):p})]})]}),d?Object(Q.jsx)(N.default,{mt:"16px",children:p}):null,Object(Q.jsx)(N.default,{flexDirection:"row",mt:"24px",flexWrap:"wrap",mb:{base:"-16px",md:0},children:b.map((function(e){return e?Object(Q.jsxs)(N.default,{mr:{md:"32px"},mb:{base:"16px",md:0},width:{base:"50%",sm:"33.33%",md:"auto"},children:[Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.key}),Object(Q.jsx)(ve.default,{typography:"Body1Strong",mt:"4px",children:e.value||"-"})]}):null}))})]}))},Cr=n(377),Pr=n(679);function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr,Dr=function(){return Object(Q.jsx)(Q.Fragment,{children:[1,2,3,4,5].map((function(){return Object(Q.jsxs)(Gt.default,{px:0,children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(Ft.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}}),Object(Q.jsx)(Gt.default.Column,{text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"})}})]})}))})},Rr=function(){var e=Object(y.default)();return Object(j.default)()?null:Object(Q.jsxs)(Gt.default,{width:"full",px:0,children:[Object(Q.jsx)(Gt.default.Column,{flex:2.7,text:{label:e.formatMessage({id:"title__nft"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:"FROM",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(Q.jsx)(N.default,{size:"20px"}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:"TO",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})},Er=function(e){var t,n,r,o,a,i,c,l=e.item,s=Object(Pr.default)().formatDistanceToNow,u="# "+(null!=(t=null==(n=l.asset)?void 0:n.tokenId)?t:"");null!=(r=l.asset)&&r.name&&(null==(o=l.asset)?void 0:o.name.length)>0&&(u=null==(c=l.asset)?void 0:c.name);return Object(Q.jsxs)(Gt.default,{width:"full",px:0,children:[l.asset&&Object(Q.jsx)(fr.default,{asset:l.asset,borderRadius:"6px",size:40}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:l.timestamp?s(l.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{text:{label:(null!=(a=l.tradePrice)?a:0)+" "+(null!=(i=l.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right",mb:"24px"}}})]})},Br=function(e){var t,n,r,o,a,i,c,l=e.network,s=e.item,u="# "+(null!=(t=null==(n=s.asset)?void 0:n.tokenId)?t:"");null!=(r=s.asset)&&r.name&&(null==(o=s.asset)?void 0:o.name.length)>0&&(u=null==(c=s.asset)?void 0:c.name);var d=Object(Pr.default)().formatDistanceToNow,f=Object(Cr.default)(l).openAddressDetails;return Object(Q.jsxs)(Gt.default,{width:"full",px:0,children:[Object(Q.jsxs)(sr.default,{flex:2.7,space:"12px",alignItems:"center",children:[s.asset&&Object(Q.jsx)(fr.default,{asset:s.asset,borderRadius:"6px",size:40}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:s.timestamp?d(s.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}})]}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)($.default,{onPress:function(){f(s.send)},flex:1,justifyContent:"center",children:Object(Q.jsx)(ve.default,{numberOfLines:1,typography:"Body1Underline",children:s.send})})}}),Object(Q.jsx)(ee.default,{name:"ChevronDoubleRightMini",size:20}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)($.default,{onPress:function(){f(s.receive)},flex:1,justifyContent:"center",children:Object(Q.jsx)(ve.default,{numberOfLines:1,typography:"Body1Underline",children:s.receive})})}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:(null!=(a=s.tradePrice)?a:0)+" "+(null!=(i=s.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right"}}})]})},Nr=function(e){var t,n,r=e.contractAddress,o=e.networkId,a=e.ListHeaderComponent,c=Object(j.default)(),l=null==(t=cr())?void 0:t.context,s=null==(n=cr())?void 0:n.setContext,u=Object(i.useRef)(),d=W.default.serviceNFT,f=Object(dr.useIsMounted)(),b=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=yield d.getCollectionTransactions(e);null!=t&&t.content&&(u.current=t.next,s&&s((function(e){return null!=l&&l.refreshing?Ar(Ar({},e),{},{txList:t.content}):Ar(Ar({},e),{},{txList:e.txList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==l?void 0:l.refreshing,d,s]);Object(i.useEffect)((function(){1===(null==l?void 0:l.selectedIndex)&&f&&(null!=l&&l.refreshing&&(u.current=void 0),null!==u.current&&b({chain:o,contractAddress:r,cursor:u.current,eventTypes:"sale",showAsset:!0}).then((function(){s&&s((function(e){return Ar(Ar({},e),{},{refreshing:!1})}))})))}),[null==l?void 0:l.refreshing,null==l?void 0:l.selectedIndex,r,b,f,o,s]);var p=Object(ae.useNetworks)(),O=Object(i.useMemo)((function(){return p.find((function(e){return e.id===o}))}),[o,p]),m=Object(i.useCallback)((function(e){var t=e.item;return c?Object(Q.jsx)(Er,{item:t}):Object(Q.jsx)(Br,{item:t,network:O})}),[O,c]),x=Object(i.useCallback)((function(){return null!==u.current?Object(Q.jsx)(Dr,{}):Object(Q.jsx)(N.default,{})}),[]);return Object(Q.jsx)(ht.default,{ListHeaderComponent:null!=a?a:Rr,data:null==l?void 0:l.txList,renderItem:m,ListFooterComponent:x,style:{padding:c?16:32},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},onEndReached:function(){null!==u.current&&b({chain:o,contractAddress:r,cursor:u.current,eventTypes:"sale",showAsset:!0})}})};!function(e){e.Items="items",e.Sales="sales"}(Tr||(Tr={}));var Lr=["items","itemWidth","selectedIndex","onChange"];function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hr=Object(i.memo)(Ir),Fr=function(e){var t=e.items,n=e.itemWidth,r=e.selectedIndex,o=e.onChange,a=O()(e,Lr);return Object(Q.jsxs)(N.default,zr(zr({},a),{},{w:"100%",mt:{base:"24px",md:"32px"},children:[Object(Q.jsx)(N.default,{h:"1px",position:"absolute",left:0,bottom:0,right:0,bgColor:"divider"}),Object(Q.jsx)(gt.default,{space:"32px",children:t.map((function(e,t){var a=t===r;return Object(Q.jsx)($.default,{alignItems:"center",pt:"16px",pb:"14px",borderBottomWidth:2,borderBottomColor:a?"interactive-default":"transparent",width:n,onPress:function(){o(t)},children:function(t){var n=t.isHovered,r=t.isPressed;return Object(Q.jsx)(ve.default,{typography:"Body2Strong",textAlign:"center",color:a||n||r?"text-default":"text-subdued",children:e.title})}},""+e.label+t)}))})]}))},Ur=function(){var e,t,n=Object(y.default)(),r=Object(j.default)(),o=null==(e=cr())?void 0:e.context,a=null==(t=cr())?void 0:t.setContext;return Object(Q.jsxs)(N.default,{flexDirection:"column",alignItems:"flex-start",children:[Object(Q.jsx)(Hr,{},"MemoCollectionInfo"),Object(Q.jsx)(Fr,{mb:r?"24px":"32px",selectedIndex:null==o?void 0:o.selectedIndex,onChange:function(e){a&&a((function(t){return zr(zr({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:Tr.Items},{title:n.formatMessage({id:"content__sales"}),label:Tr.Sales}]})]})},Vr=function(){var e,t,n=Object(y.default)(),r=null==(e=cr())?void 0:e.context,o=null==(t=cr())?void 0:t.setContext;return Object(Q.jsxs)(N.default,{flexDirection:"column",alignItems:"flex-start",children:[Object(Q.jsx)(Hr,{},"MemoCollectionInfo"),Object(Q.jsx)(Fr,{mb:{md:"8px"},selectedIndex:null==r?void 0:r.selectedIndex,onChange:function(e){o&&o((function(t){return zr(zr({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:Tr.Items},{title:n.formatMessage({id:"content__sales"}),label:Tr.Sales}]}),Object(Q.jsx)(Rr,{})]})},Gr=function(){return Object(Q.jsx)(Ur,{})},qr=function(){return Object(Q.jsx)(Vr,{})},Yr=function(){var e,t=Object(w.useRoute)().params,n=t.networkId,r=t.contractAddress,o=null==(e=cr())?void 0:e.context;return Object(Q.jsx)(Q.Fragment,{children:0===(null==o?void 0:o.selectedIndex)?Object(Q.jsx)(gr,{contractAddress:r,networkId:n,ListHeaderComponent:Gr}):Object(Q.jsx)(Nr,{contractAddress:r,networkId:n,ListHeaderComponent:qr})})};function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qr=function(e){var t=e.onPromise,n=e.isDisabled,r=Object(y.default)();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Lt.default,{from:"md",children:Object(Q.jsx)(vt.default,{isDisabled:n,name:"BarsShrinkOutline",size:"lg",type:"plain",circle:!0,onPromise:t})}),Object(Q.jsx)(Lt.default,{till:"md",children:Object(Q.jsx)(re.default,{isDisabled:n,leftIconName:"BarsShrinkMini",onPromise:t,children:r.formatMessage({id:"title__filter"})})})]})},Zr=function(){var e=Object(w.useRoute)().params,t=e.networkId,n=e.collection,r=e.contractAddress,o=e.title,a=Object(i.useState)({selectedIndex:0,collection:n,assetList:[],filterAssetList:[],attributes:[],txList:[],networkId:t}),c=x()(a,2),l=c[0],s=c[1],u=Object(w.useNavigation)(),d=W.default.serviceNFT;Object(i.useLayoutEffect)((function(){u.setOptions({title:""})}),[null==n?void 0:n.contractName,null==n?void 0:n.name,u,o]);var f=Object(i.useMemo)((function(){return!!l.attributes.find((function(e){return e.attribute_values.length>0}))}),[l.attributes]),j=l.collection,p=Object(i.useCallback)((function(){if(j)return Object(Q.jsxs)(N.default,{mr:{base:2.5,md:8},children:[Object(Q.jsx)(Qr,{isDisabled:!j.hasAttributes,onPromise:Sn()((function*(){if("undefined"===typeof j.attributes||0===j.attributes.length){var e=yield d.getCollectionAttributes({chain:t,contractAddress:r});j.attributes=e}u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:ar.NFTMarketRoutes.FilterModal,params:{collection:j,attributes:l.attributes,onAttributeSelected:function(e){s((function(t){return Xr(Xr({},t),{},{refreshing:!0,attributes:e})}))}}}})}))}),f&&Object(Q.jsx)(N.default,{top:{base:1,md:-1.5},right:{base:1,md:-1.5},position:"absolute",size:"12px",bgColor:"interactive-default",borderRadius:"full",borderWidth:"2px",borderColor:"background-default"})]})}),[l.attributes,r,j,f,u,t,d]);Object(i.useEffect)((function(){j&&u.setOptions({headerRight:p})}),[j,p,u]),Object(i.useEffect)((function(){Sn()((function*(){var e=yield d.getCollection({chain:t,contractAddress:r,showStatistics:!0});e&&s((function(t){return Xr(Xr({},t),{},{collection:e})}))}))()}),[r,t,d]);var O=Object(i.useMemo)((function(){return{context:l,setContext:s}}),[l]);return Object(Q.jsx)(ir.Provider,{value:O,children:Object(Q.jsx)(Yr,{})})},Jr=n(101),$r=n(168),eo=n(2430),to=n(1610),no=n(35);function ro(e){var t=e.keyword,n=e.onAddressSearch,r=Object(z.useDebounce)(t,500).toLowerCase(),o=Object(i.useState)(!1),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(""),u=x()(s,2),d=u[0],f=u[1],b=Object(i.useState)(""),j=x()(b,2),p=j[0],O=j[1],m=Object(i.useCallback)(function(){var e=Sn()((function*(e){return W.default.serviceRevoke.lookupEnsName(e)}));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(i.useCallback)(function(){var e=Sn()((function*(e){try{return yield W.default.validator.validateAddress(no.OnekeyNetwork.eth,e),!0}catch(NO){return!1}}));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(i.useCallback)(function(){var e=Sn()((function*(e){return yield W.default.serviceRevoke.getAddress(e,no.OnekeyNetwork.eth)}));return function(t){return e.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){(null==r?void 0:r.length)>0&&Sn()((function*(){if(r!==d&&r.toLowerCase()!==p.toLowerCase()){l(!0);var e=yield Promise.all([m(r),g(r)]),t=x()(e,2),o=t[0],a=t[1];if(a){if(yield h(a)){var i=o;r.toLowerCase()!==a.toLowerCase()&&f(i=r),O(a),n({address:a.toLocaleLowerCase(),ens:i})}}else f("");l(!1)}}))()}),[r]),Object(i.useMemo)((function(){return{loading:c}}),[c])}var oo=["network","loading"];function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var io=function(){return Object(Q.jsx)(Q.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(Ft.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}}),Object(Q.jsx)(Gt.default.Column,{w:"200px",text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}}),Object(Q.jsx)(Gt.default.Column,{w:"160px",text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}}),Object(Q.jsx)(Gt.default.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"})}}),Object(Q.jsx)(Lt.default,{till:"lg",children:Object(Q.jsx)(Gt.default.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"})}})})]},"Skeleton"+e)}))})},co=function(e){var t=e.network,n=e.loading,r=O()(e,oo),a=Object(Pr.default)(),c=a.formatDistanceStrict,l=a.format,s=Object(y.default)(),u=Object(w.useNavigation)(),d=Object(i.useCallback)((function(e){t&&u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:t.id,isOwner:!1}}})}),[u,t]),f=Object(i.useCallback)((function(e){var n,r,o,a,i,u,f,b,j=e.item,p=j.asset,O=j.entry,m=j.exit,x=j.profit,h=Object(kr.PriceString)({price:new In.BigNumber(x).decimalPlaces(3).toString(),symbol:j.exit.tradeSymbol});h=(x>=0?"+":"")+h,"Mint"===O.eventType?b=s.formatMessage({id:"content__mint"}):"Transfer"===O.eventType&&(b=s.formatMessage({id:"action__receive"}));var g,v=new In.BigNumber(null!=(n=O.tradePrice)?n:0).decimalPlaces(3).toString(),y=new In.BigNumber(null!=(r=null!=(o=null!=(a=m.internalTxValue)?a:m.tokenTxValue)?o:m.tradePrice)?r:0).decimalPlaces(3).toString(),w=j.tokenId?"#"+j.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(i=j.contractAddress)?void 0:i.toLowerCase())&&(w=null==(g=j.asset)?void 0:g.name);return Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)($.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){p&&d(p)},children:function(e){var t=e.isHovered;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Gt.default.Column,{children:j.asset&&Object(Q.jsx)(fr.default,{asset:p,borderRadius:"12px",size:40,opacity:t?80:void 0})}),Object(Q.jsx)(Gt.default.Column,{flex:1,ml:"12px",text:{label:j.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:w,descriptionProps:{isTruncated:!0}}})]})}}),Object(Q.jsx)(Lt.default,{till:"md",children:Object(Q.jsx)(D.default,{label:l(new Date(O.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(Q.jsx)(Gt.default.Column,{w:"200px",text:{label:Object(Q.jsxs)(gt.default,{space:1,alignItems:"center",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",numberOfLines:1,children:Object(kr.PriceString)({price:v,symbol:O.tradeSymbol})}),b&&Object(Q.jsx)(st.default,{type:"default",size:"sm",title:b})]}),description:Object(Q.jsxs)(gt.default,{space:1,alignItems:"center",children:[Object(Q.jsx)(ee.default,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(Q.jsx)(ve.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(kr.PriceString)({price:new In.BigNumber(null!=(u=O.gasFee)?u:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(Q.jsx)(Lt.default,{till:"md",children:Object(Q.jsx)(D.default,{label:l(new Date(m.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(Q.jsx)(Gt.default.Column,{w:"160px",text:{label:Object(kr.PriceString)({price:y,symbol:m.tradeSymbol}),description:Object(Q.jsxs)(gt.default,{space:1,alignItems:"center",children:[Object(Q.jsx)(ee.default,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(Q.jsx)(ve.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(kr.PriceString)({price:new In.BigNumber(null!=(f=m.gasFee)?f:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(Q.jsx)(Gt.default.Column,{w:"140px",text:{label:h,labelProps:{isTruncated:!0,textAlign:"right",numberOfLines:1,color:x>0?"text-success":"text-critical"},description:c(m.timestamp,O.timestamp),descriptionProps:{display:{lg:"none"},textAlign:"right"}}}),Object(Q.jsx)(Lt.default,{till:"lg",children:Object(Q.jsx)(Gt.default.Column,{w:"140px",text:{label:c(m.timestamp,O.timestamp),labelProps:{typography:"Body1Strong",textAlign:"right"}}})})]})}),[l,c,d,s,t.id]),j=Object(i.useCallback)((function(){return n?Object(Q.jsx)(io,{}):null}),[n]);return Object(Q.jsx)(Vt.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({renderItem:f,showDivider:!0,keyExtractor:function(e){return e.contractAddress+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:j,contentContainerStyle:{width:"100%",maxWidth:1072,alignSelf:"center",padding:32}},r))},lo=["network","loading"];function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=function(){return Object(Q.jsx)(Q.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(Ft.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}}),Object(Q.jsx)(Gt.default.Column,{alignItems:"flex-end",flex:1,text:{label:Object(Q.jsx)(ne.default,{shape:"Body1"}),description:Object(Q.jsx)(ne.default,{shape:"Body2"})}})]},"Skeleton"+e)}))})},bo=function(e){var t=e.network,n=e.loading,r=O()(e,lo),o=Object(w.useNavigation)(),a=Object(i.useCallback)((function(e){t&&o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:t.id,isOwner:!1}}})}),[o,t]),c=Object(Pr.default)().formatDistanceStrict,l=Object(i.useCallback)((function(e){var t,n=e.item,r=n.asset,o=n.entry,i=n.exit,l=n.profit,s=Object(kr.PriceString)({price:new In.BigNumber(l).decimalPlaces(3).toString(),symbol:n.exit.tradeSymbol});s=(l>=0?"+":"")+s;var u,d=n.tokenId?"#"+n.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=n.contractAddress)?void 0:t.toLowerCase())&&(d=null==(u=n.asset)?void 0:u.name);return Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsxs)($.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){r&&a(r)},children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(fr.default,{asset:r,borderRadius:"12px",size:40})}),Object(Q.jsx)(Gt.default.Column,{flex:1,ml:"12px",text:{label:n.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:d,descriptionProps:{isTruncated:!0}}})]}),Object(Q.jsx)(Gt.default.Column,{text:{label:s,labelProps:{textAlign:"right",color:l>0?"text-success":"text-critical"},description:c(i.timestamp,o.timestamp),descriptionProps:{isTruncated:!0,textAlign:"right"}}})]})}),[c,a]),s=Object(i.useCallback)((function(){return n?Object(Q.jsx)(fo,{}):Object(Q.jsx)(N.default,{h:"24px"})}),[n]);return Object(Q.jsx)(N.default,{flex:1,children:Object(Q.jsx)(Vt.default,uo(uo({renderItem:l,keyExtractor:function(e){return e.contractAddress+" "+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:s},r),{},{p:4}))})},jo=n(625),po=n.n(jo),Oo=n(5280),mo=n.n(Oo),xo=n(5281),ho=n.n(xo),go=function(e){var t,n=e.onAddressSearch,r=Object(w.useNavigation)(),o=Object(z.useActiveWalletAccount)(),a=o.network,c=o.account,l=Object(y.default)(),s=Object(Kt.default)().themeVariant,u=Object(wn.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==a?void 0:a.id)?t:""}).connectAndCreateExternalAccount,d=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:ar.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[r]);Object(i.useEffect)((function(){null!=c&&c.address&&n({address:null==c?void 0:c.address})}),[null==c?void 0:c.address,n]);var f=Object(i.useCallback)((function(){return Object(Q.jsx)(gt.default,{children:Object(Q.jsx)(vt.default,{mr:{base:2.5,md:8},type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:d})})}),[d]);Object(i.useLayoutEffect)((function(){r.setOptions({title:"",headerRight:f})}),[f,r]);var p=Object(i.useState)(""),O=x()(p,2),m=O[0],h=O[1],g=ro({keyword:m,onAddressSearch:n}).loading,v=Object(j.default)(),k=Object(w.useIsFocused)();return Object(i.useEffect)((function(){return"ios"===M.default.OS&&po.a.setEnable(!k),function(){"ios"===M.default.OS&&po.a.setEnable(!0)}}),[k]),Object(Q.jsxs)(N.default,{flex:1,alignItems:"center",px:"16px",pt:{base:"48px",md:"96px"},children:[Object(Q.jsx)(B.View,{from:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:Object(Q.jsx)(ft.default,{width:358,height:155,source:"light"===s?ho.a:mo.a})}),Object(Q.jsx)(ve.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"DisplaySmall"},children:l.formatMessage({id:"empty__pnl"})}),Object(Q.jsx)(gt.default,{mt:"24px",w:v?"full":"400px",justifyContent:"center",children:Object(Q.jsx)(yt.default,{flex:1,size:v?"xl":"default",value:m,onChangeText:h,leftIconName:"SearchOutline",numberOfLines:1,placeholder:l.formatMessage({id:"form__enter_address_ens_name"}),rightCustomElement:!0===g?Object(Q.jsx)(T.default,{p:{base:2,md:1},maxW:"32px",maxH:"32px",children:Object(Q.jsx)(It.default,{size:"sm"})}):null})}),Object(Q.jsxs)(gt.default,{w:v?"full":"400px",mt:"24px",space:"12px",alignItems:"center",justifyContent:"center",children:[Object(Q.jsx)(N.default,{height:"1px",bgColor:"divider",flex:1}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"OR"}),Object(Q.jsx)(N.default,{height:"1px",bgColor:"divider",flex:1})]}),Object(Q.jsx)(re.default,{onPress:u,type:"primary",size:v?"lg":"base",mt:"24px",children:l.formatMessage({id:"action__connect_wallet"})})]})},vo=["loading","network","accountAddress","onAddressSearch"];function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ko=function(){var e=Object(y.default)();return Object(Q.jsxs)(Gt.default,{mt:"48px",px:0,py:0,children:[Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:"NFT",labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{w:"200px",text:{label:e.formatMessage({id:"content__entry_price"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{w:"160px",text:{label:Object(Q.jsx)(D.default,{label:e.formatMessage({id:"content__royalty_fees_are_excluded"}),placement:"top left",children:Object(Q.jsxs)(gt.default,{alignItems:"center",space:1,alignSelf:"flex-start",children:[Object(Q.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"content__exit_value"})}),Object(Q.jsx)(ee.default,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__profit"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Q.jsx)(Lt.default,{till:"lg",children:Object(Q.jsx)(Gt.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__hodl_duration"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})})]})},_o=function(e){var t=e.loading,n=e.network,r=e.accountAddress,o=e.onAddressSearch,a=O()(e,vo),c=a.totalProfit,l=a.win,s=a.lose,u=a.spend,d="0";c&&(d=new In.BigNumber(c).decimalPlaces(3).toString(),d=(c.toNumber()>=0?"+":"")+d),d=Object(kr.PriceString)({price:d,networkId:n.id});var f=Object(i.useState)(null!=r?r:""),b=x()(f,2),p=b[0],m=b[1],h=Object(y.default)(),g=Object(i.useRef)(),v=ro({keyword:p,onAddressSearch:function(e){var t=e.ens,n=e.address;g.current=t,n&&(m(t||Object(Jr.shortenAddress)(n)),o(n))}}).loading,k=Object(j.default)(),_=Object(w.useNavigation)(),S=Object(i.useCallback)((function(){Object($r.copyToClipboard)("https://app.onekey.so/pnl"),qt.default.show({title:h.formatMessage({id:"msg__link_copied"})})}),[h,p,_,n,a]),I=Object(z.useActiveWalletAccount)().account;Object(i.useEffect)((function(){null!=I&&I.address&&m(null==I?void 0:I.address)}),[null==I?void 0:I.address]),Object(i.useEffect)((function(){0===p.length&&null!=I&&I.address&&o(null==I?void 0:I.address)}),[null==I?void 0:I.address,p,o]);var C=Object(i.useMemo)((function(){return 0!==p.length&&!0!==v}),[p,v]);return Object(Q.jsxs)(N.default,{width:"full",p:2,pb:{base:3,md:0},children:[Object(Q.jsx)(N.default,{width:"full",flexDirection:"row",children:Object(Q.jsx)(kt.default,{w:"full",maxW:"400px",value:p,onChangeText:m,rightIconName:C?"XCircleMini":void 0,rightElement:Object(Q.jsx)(T.default,{height:"full",right:"8px",children:!0===v?Object(Q.jsx)(It.default,{size:"sm"}):null}),onClear:function(){m("")},placeholder:h.formatMessage({id:"form__enter_address_ens_name"})})}),Object(Q.jsxs)(N.default,{flexDirection:{sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",mt:"24px",children:[Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__total_profits"})}),c?Object(Q.jsx)(ve.default,{typography:"Display2XLarge",color:c.toNumber()>0?"text-success":"text-critical",children:d}):Object(Q.jsx)(ne.default,{shape:"Display2XLarge"}),Object(Q.jsxs)(N.default,{flexDirection:"row",mt:"8px",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",mr:"24px",alignItems:"center",children:[void 0!==l?Object(Q.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",color:"text-success",children:l}):Object(Q.jsx)(ne.default,{shape:"Body1"}),Object(Q.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__winning_flips"})})]}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",mr:"24px",children:[void 0!==s?Object(Q.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:s}):Object(Q.jsx)(ne.default,{shape:"Body1"}),Object(Q.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__losing_flips"})})]}),Object(Q.jsx)(Lt.default,{from:"base",till:"md",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[void 0!==u?Object(Q.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",children:Object(kr.PriceString)({price:new In.BigNumber(u).decimalPlaces(3).toString(),networkId:n.id})}):Object(Q.jsx)(Ft.default,{width:"24px",height:"12px",mr:"6px"}),Object(Q.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__spent"})})]})})]})]}),Object(Q.jsx)(re.default,{isDisabled:t,type:"primary",size:k?"lg":"base",leftIconName:"ArrowTopRightOnSquareSolid",onPress:S,mt:{base:6,sm:0},children:h.formatMessage({id:"action__share"})})]}),Object(Q.jsx)(Lt.default,{from:"base",till:"md",children:Object(Q.jsx)(ko,{})}),Object(Q.jsx)(mt.default,{mt:{base:"24px",md:"8px"}})]})},So={},Io=function(e){var t,n=e.accountAddress,r=Object(j.default)(),o=Object(y.default)(),a=Object(z.useActiveWalletAccount)().account,c=Object(w.useNavigation)(),l=Object(to.useDefaultNetWork)(),s=W.default.serviceNFT,u=Object(wn.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==l?void 0:l.id)?t:""}).connectAndCreateExternalAccount,d=Object(i.useCallback)((function(){c.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:ar.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[c]),f=Object(i.useMemo)((function(){return void 0===(null==a?void 0:a.id)?Object(Q.jsx)(re.default,{onPress:u,children:o.formatMessage({id:"action__connect_wallet"})}):Object(Q.jsx)(eo.AccountSelectorTrigger,{type:r?"basic":"plain",showAddress:!r})}),[null==a?void 0:a.id,u,o,r]),p=Object(i.useCallback)((function(){return Object(Q.jsxs)(sr.default,{space:2,alignItems:"center",mr:{base:2.5,md:8},justifyContent:"flex-end",children:[f,Object(Q.jsx)(vt.default,{type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:d})]})}),[d,f]);Object(i.useLayoutEffect)((function(){c.setOptions({i18nTitle:r?"":o.formatMessage({id:"action__profit_and_loss"}),headerRight:p})}),[p,o,r,c]);var O=Object(i.useState)([]),m=x()(O,2),h=m[0],g=m[1],v=Object(i.useRef)({totalProfit:new In.BigNumber(0),totalWinProfit:new In.BigNumber(0),totalLoseProfit:new In.BigNumber(0),lose:0,win:0,spend:new In.BigNumber(0),content:[]}),k=Object(i.useRef)(0),_=Object(i.useState)({}),S=x()(_,2),I=S[0],C=S[1],P=Object(i.useState)(n),M=x()(P,2),A=M[0],T=M[1],D=Object(i.useState)(!0),R=x()(D,2),E=R[0],B=R[1],L=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t,n=50*k.current,r=null==(t=v.current)?void 0:t.content.slice(n,n+50),o=r.map((function(e){return{contract_address:e.contractAddress,token_id:e.tokenId}}));if(0!==r.length){var a=yield s.batchAsset({chain:null==l?void 0:l.id,items:o});if(a){var i={};a.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId;i[t]=e})),r.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId,n=i[t];n&&(e.asset=n)})),h.length+r.length>=v.current.content.length&&B(!1),g(0===e?r:function(e){return e.concat(r)})}}else B(!1)}));return function(t){return e.apply(this,arguments)}}(),[h.length,null==l?void 0:l.id,s]),H=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=So[e];if(t)v.current=t,C(t),L(0);else{var n=yield s.getPNLData({address:e}),r=function(e){var t=new In.BigNumber(0),n=new In.BigNumber(0),r=new In.BigNumber(0),o=new In.BigNumber(0),a=0,i=0;return e.forEach((function(e){var c,l,s,u,d,f,b=e.entry,j=e.exit,p=new In.BigNumber(null!=(c=b.gasFee)?c:0),O=new In.BigNumber(null!=(l=b.tradePrice)?l:0),m=new In.BigNumber(null!=(s=j.gasFee)?s:0),x=new In.BigNumber(null!=(u=null!=(d=null!=(f=j.internalTxValue)?f:j.tokenTxValue)?d:j.tradePrice)?u:0),h=O.plus(p).plus(m),g=x.minus(h);g.toNumber()>0?(a+=1,n=n.plus(g)):g.toNumber()<0&&(i+=1,r=r.plus(g)),e.profit=g.toNumber(),e.spend=h.toNumber(),t=t.plus(g),o=o.plus(h)})),{totalProfit:t,totalWinProfit:n,totalLoseProfit:r,win:a,lose:i,spend:o,content:e}}(null!=n?n:[]);v.current=r,So[e]=r,C(r),n&&L(0)}}));return function(t){return e.apply(this,arguments)}}(),[L,s]);Object(i.useEffect)((function(){B(!0),C({totalProfit:new In.BigNumber(0),spend:new In.BigNumber(0),win:0,lose:0}),k.current=0,g([]),H(A)}),[A]);var F=Object(i.useCallback)((function(){return Object(Q.jsx)(_o,wo({accountAddress:n,network:l,onAddressSearch:T,content:v.current.content,loading:0===h.length},I))}),[n,h.length,l,I]),U=Object(i.useCallback)((function(){return E?null:Object(Q.jsx)(xt.default,{emoji:"\ud83d\udcb0",title:o.formatMessage({id:"empty__no_sales_record"}),subTitle:o.formatMessage({id:"empty__no_sales_record_desc"})})}),[o,E]),V=Object(i.useMemo)((function(){return{data:h,ListHeaderComponent:F,ListEmptyComponent:U,onEndReached:function(){k.current+=1,L(k.current)}}}),[U,F,L,h]);return Object(Q.jsx)(N.default,{flex:1,children:r?Object(Q.jsx)(bo,wo(wo({},V),{},{loading:E,network:l})):Object(Q.jsx)(co,wo(wo({},V),{},{loading:E,network:l}))})},Co=function(){var e=Object(z.useActiveWalletAccount)(),t=e.network,n=e.account,r=(null==t?void 0:t.impl)===Pn.IMPL_EVM,o=Object(i.useState)((function(){return{address:r?null==n?void 0:n.address:void 0}})),a=x()(o,2),c=a[0],l=a[1];return null!=c&&c.address?Object(Q.jsx)(Io,{accountAddress:null==c?void 0:c.address,ens:c.ens}):Object(Q.jsx)(go,{onAddressSearch:l})},Po=n(4360),Mo=n(210);function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var To=Object(i.memo)((function(){var e=Object(z.useNavigation)(),t=Object(j.default)(),n=Object(w.useRoute)(),r=Object(i.useState)(0),a=x()(r,2),c=a[0],l=a[1],s=n.params,u=s.networkId,d=s.accountId,f=Object(i.useCallback)((function(){l((function(e){return e+1}))}),[]),b=Object(z.useAccountPortfolios)({networkId:u,accountId:d,type:Mo.EOverviewScanTaskType.defi}).data;return Object(i.useLayoutEffect)((function(){e.setOptions({title:"DeFi"})}),[e]),Object(i.useEffect)((function(){setTimeout(f,200)}),[f]),Object(Q.jsx)(Vt.default,{mb:"6",mt:"4",mx:t?4:"50px",data:b.slice(0,10*c),keyExtractor:function(e){var t;return null==(t=e._id)?void 0:t.protocolId},showDivider:!1,renderItem:function(e){var t=e.item;return Object(Q.jsx)(Po.OverviewDefiProtocol,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},onEndReached:f})})),Do=n(247),Ro=n(687),Eo=function(){return Object(i.useEffect)((function(){Object(zn.openDapp)(Do.revokeUrl),Ro.navigationShortcuts.navigateToDiscover()}),[]),null},Bo=function(){var e=Object(yn.default)();return Object(i.useEffect)((function(){null==e||e.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.Revoke}}})}),[e]),null},No=n(62),Lo=n(113),Wo=n(192),zo=n(153),Ho=n(350),Fo=n(212),Uo=n(4045),Vo={submited:!1},Go=n(964),qo=n(173),Yo={params:void 0,count:0},Ko=function(){var e=Sn()((function*(e){var t=e.filter((function(e){return!e.limited&&void 0!==e.data}));if(t.length>0){var n=yield W.default.serviceSwap.getCurrentUserSelectedQuoter();if(n){var r=t.find((function(e){return e.data.type===n}));if(r)return r}return 1===t.length||t.sort((function(e,t){var n,r,o=null!=(n=e.data.estimatedBuyAmount)?n:e.data.buyAmount,a=null!=(r=t.data.estimatedBuyAmount)?r:t.data.buyAmount;return Number(a)-Number(o)})),t[0]}var o=e.filter((function(e){return e.data}));if(0!==o.length){if(1===o.length)return o[0];for(var a,i=o[0],c=0;c<o.length;c+=1){var l,s,u=o[c],d=null==u||null==(l=u.limited)?void 0:l.max,f=null==u||null==(s=u.limited)?void 0:s.min,b=new Cn.a(u.data.sellAmount),j=[];!b.isNaN()&&d&&j.push(b.minus(d).abs()),!b.isNaN()&&f&&j.push(b.minus(f).abs());var p=void 0;j.length&&(p=Cn.a.min.apply(Cn.a,j)),!p||a&&!p.lt(a)||(i=u,a=p)}return i}}));return function(t){return e.apply(this,arguments)}}(),Xo=function(){var e=Sn()((function*(e){try{var t=yield Uo.SwapQuoter.client.fetchQuotes(e);if(!Vo.submited&&Yo.params===e&&t){W.default.dispatch(Object(Fo.setResponses)(t));var n=yield Ko(t);n?W.default.dispatch(Object(Fo.setQuote)(n.data),Object(Fo.setQuoteLimited)(n.limited)):W.default.dispatch(Object(Fo.setError)(Go.SwapError.NotSupport),Object(Fo.setQuoteLimited)(void 0))}}catch(NO){W.default.dispatch(Object(Fo.setError)(Go.SwapError.QuoteFailed),Object(Fo.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),Qo=function(){var e=Sn()((function*(e){var t;(function(){var n=Sn()((function*(){var n=yield Uo.SwapQuoter.client.fetchQuotes(e);if(!Vo.submited&&Yo.params===e&&n){var r,o,a;W.default.dispatch(Object(Fo.setResponses)(n));var i=yield Ko(n);i&&(null==(r=i.data)?void 0:r.type)!==(null==(o=t)||null==(a=o.data)?void 0:a.type)&&(t||(t=i),W.default.dispatch(Object(Fo.setQuote)(i.data),Object(Fo.setQuoteLimited)(i.limited)))}}));return function(){return n.apply(this,arguments)}})()();try{var n=yield Uo.SwapQuoter.client.fetchQuote(e);Yo.params!==e||t||(n?(t=n,W.default.dispatch(Object(Fo.setQuote)(n.data),Object(Fo.setQuoteLimited)(n.limited))):W.default.dispatch(Object(Fo.setError)(Go.SwapError.NotSupport),Object(Fo.setQuoteLimited)(void 0)))}catch(r){W.default.dispatch(Object(Fo.setError)(Go.SwapError.QuoteFailed),Object(Fo.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),Zo=function(){var e=Sn()((function*(e){var t=e.params,n=e.loading;if(Yo.params=t,t){var r=yield W.default.serviceSwap.buildWrapperTransaction(t);if(r&&r.encodedTx)W.default.dispatch(Object(Fo.setQuoteLimited)(void 0),Object(Fo.setResponses)(void 0),Object(Fo.setQuote)({type:Go.QuoterType.onekey,instantRate:"1",wrapperTxInfo:r,sellAmount:Object(qo.getTokenAmountString)(t.tokenIn,t.typedValue),sellTokenAddress:t.tokenIn.tokenIdOnNetwork,buyAmount:Object(qo.getTokenAmountString)(t.tokenOut,t.typedValue),buyTokenAddress:t.tokenOut.tokenIdOnNetwork}));else{var o=yield W.default.serviceSwap.refreshParams(t);n&&W.default.dispatch(Object(Fo.setLoading)(!0)),W.default.dispatch(Object(Fo.setError)(void 0)),Yo.count+=1;try{o?yield Xo(t):(W.default.dispatch(Object(Fo.setResponses)(void 0)),yield Qo(t))}finally{Yo.count-=1,0===Yo.count&&W.default.dispatch(Object(Fo.setLoading)(!1))}}}else W.default.dispatch(Object(Fo.setQuote)(void 0),Object(Fo.setResponses)(void 0),Object(Fo.setLoading)(!1))}));return function(t){return e.apply(this,arguments)}}(),Jo=n(4032),$o=function(){return Object(i.useEffect)((function(){var e=function(e){W.default.serviceSwap.handleWalletRemove(e)};return zo.appUIEventBus.on(zo.AppUIEventBusNames.RemoveWallet,e),function(){zo.appUIEventBus.off(zo.AppUIEventBusNames.RemoveWallet,e)}}),[]),null},ea=function(){Object(i.useEffect)((function(){var e=function(e){W.default.serviceSwap.handleAccountRemoved(e)};return zo.appUIEventBus.on(zo.AppUIEventBusNames.RemoveAccount,e),function(){zo.appUIEventBus.off(zo.AppUIEventBusNames.RemoveAccount,e)}}),[]);var e=Object(z.useAppSelector)((function(e){return e.runtime.accounts}));return Object(i.useEffect)((function(){W.default.serviceSwap.refreshSendingAccount()}),[e]),null},ta=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(i.useMemo)((function(){return Object(qo.stringifyTokens)(e,t)}),[e,t]),r=Object(z.usePrevious)(n);return Object(i.useEffect)((function(){n!==r&&W.default.serviceSwap.clearUserSelectedQuoter()}),[n,r]),null},na=function(){var e=Object(Ho.useRpcMeasureStatus)(),t=e.status,n=e.loading,r=null==t?void 0:t.responseTime,o=Object(z.usePrevious)(r);return Object(i.useEffect)((function(){void 0===o&&null!=t&&t.responseTime&&!n&&W.default.serviceSwap.getSwapError().then((function(e){e===Go.SwapError.QuoteFailed&&zo.appUIEventBus.emit(zo.AppUIEventBusNames.SwapRefresh)}))}),[null==t?void 0:t.responseTime,o,r,n]),null},ra=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken}));return Object(i.useEffect)((function(){e&&W.default.servicePrice.fetchSimpleTokenPrice({networkId:e.networkId,accountId:"",tokenIds:[e.tokenIdOnNetwork]})}),[e]),Object(i.useEffect)((function(){t&&W.default.servicePrice.fetchSimpleTokenPrice({networkId:t.networkId,accountId:"",tokenIds:[t.tokenIdOnNetwork]})}),[t]),null},oa=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(z.useAppSelector)((function(e){return e.swap.typedValue})),r=Object(z.useAppSelector)((function(e){return e.swap.independentField}));return Object(i.useEffect)((function(){W.default.serviceSwap.setQuote(void 0)}),[e,t,n,r]),null},aa=function(){var e=Object(Jo.useSwapQuoteRequestParams)(),t=Object(i.useCallback)((function(){return Zo({params:e,loading:!0})}),[e]);return Object(i.useEffect)((function(){return zo.appUIEventBus.on(zo.AppUIEventBusNames.SwapRefresh,t),function(){zo.appUIEventBus.off(zo.AppUIEventBusNames.SwapRefresh,t)}}),[t]),Object(i.useEffect)((function(){Zo({params:e,loading:!0})}),[e]),null},ia=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)($o,{}),Object(Q.jsx)(ea,{}),Object(Q.jsx)(ta,{}),Object(Q.jsx)(na,{}),Object(Q.jsx)(ra,{}),Object(Q.jsx)(oa,{}),Object(Q.jsx)(aa,{})]})},ca=n(47),la=(n(273),n(5282)),sa=function(){var e=Sn()((function*(e){var t=la.default.isAvailable();if(K.default.common.info("react-native-in-app-review is available",t),!t)return!1;var n=yield W.default.serviceSetting.getEnableAppRatings(),r=yield W.default.serviceSetting.getAppReviewsLastOpenedAt();return K.default.common.info("appRatingsEnabled, ",n,"lastOpenedAt, ",r),!(!e&&r>0||!n)}));return function(t){return e.apply(this,arguments)}}(),ua=function(){var e=Sn()((function*(e){if(yield sa(e)){var t=!1;try{t=yield la.default.RequestInAppReview()}catch(NO){return void K.default.common.info("react-native-in-app-review error",NO.message)}W.default.serviceSetting.setAppReviewsLastOpenedAt(Date.now()),K.default.common.info("hasFlowFinishedSuccessfully",t)}}));return function(t){return e.apply(this,arguments)}}(),da=n(254),fa=Object(i.createContext)({}),ba=Object(i.createContext)({}),ja=n(4080),pa=n(4338),Oa=function(e){var t=e.children,n=Object(y.default)(),r=Object(z.useNavigation)(),o=Object(ae.useActiveWalletAccount)().walletId,a=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Onboarding)}),[r]);return o?Object(Q.jsx)(N.default,{children:t}):Object(Q.jsx)(re.default,{size:"xl",type:"primary",onPress:a,children:n.formatMessage({id:"action__create_wallet"})},"addWallet")},ma=function(e){var t=e.progressStatus,n=null==t?void 0:t.title;return n?Object(Q.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyItems:"center",children:[Object(Q.jsx)(It.default,{size:"sm"}),Object(Q.jsx)(te.default.Button2,{ml:"2",color:"text-disabled",children:n})]})}):Object(Q.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Q.jsx)(It.default,{size:"sm"})})},xa=function(){var e=Object(i.useContext)(fa);return Object(Q.jsx)(ma,{progressStatus:e.progressStatus})},ha=function(){var e=Object(i.useContext)(ba);return Object(Q.jsx)(ma,{progressStatus:e.progressStatus})},ga=["isDisabled","isLoading"];function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wa=function(e){var t=e.token,n=Object(z.useNetwork)({networkId:t.networkId}).network;return Object(Q.jsx)(ft.default,{size:"4",src:null==n?void 0:n.logoURI})},ka=function(e){var t=e.tokenA,n=e.tokenB,r=e.onPress,o=Object(y.default)(),a=o.formatMessage({id:"title__swap"});return null!=n&&n.symbol&&(a=o.formatMessage({id:"action__cross_chain_swap_to_str"},{0:(null==n?void 0:n.symbol)||""})),Object(Q.jsx)(N.default,{h:"50px",w:"full",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Q.jsx)(R.LinearGradient,{colors:["rgba(18, 65, 232, 255)","rgba(17, 228, 54, 255)"],start:{x:0,y:0},end:{x:1,y:0},style:{height:"100%",width:"100%",opacity:1},children:Object(Q.jsxs)($.default,{w:"full",h:"full",flexDirection:"row",justifyContent:"center",alignItems:"center",onPress:r,children:[Object(Q.jsxs)(N.default,{position:"relative",w:"10",h:"10",justifyContent:"center",alignItems:"center",children:[Object(Q.jsx)(N.default,{position:"absolute",top:"8px",left:"8px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:Object(Q.jsx)(wa,{token:t})}),Object(Q.jsx)(N.default,{position:"absolute",top:"16px",left:"16px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:Object(Q.jsx)(wa,{token:n})})]}),Object(Q.jsx)(te.default.Button1,{color:"text-on-primary",children:a})]})})})},_a=function(e){var t=e.isDisabled,n=e.isLoading,r=O()(e,ga),o=Object(y.default)(),a=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),i=Object(ae.useAppSelector)((function(e){return e.swap.outputToken}));if(!t&&!n&&a&&i&&a.networkId!==(null==i?void 0:i.networkId))return Object(Q.jsx)(ka,ya(ya({tokenA:a,tokenB:i},r),{},{children:o.formatMessage({id:"title__swap"})}));var c=o.formatMessage({id:"title__swap"});return t||n||null==i||!i.symbol||(c=o.formatMessage({id:"action__swap_to_str"},{0:(null==i?void 0:i.symbol)||""})),Object(Q.jsx)(re.default,ya(ya({isDisabled:t,isLoading:n},r),{},{children:c}))},Sa=function(){var e=Object(y.default)(),t=Object(i.useRef)(!1),n=Object(ae.useAppSelector)((function(e){return e.swap.quote})),r=Object(Jo.useSwapQuoteRequestParams)(),o=Object(i.useContext)(fa),a=Object(pa.useSwapSubmit)(),c=Object(i.useCallback)(Sn()((function*(){var e=yield W.default.serviceSwap.getRecipient();yield a({quote:n,params:r,recipient:e,openProgressStatus:o.openProgressStatus,closeProgressStatus:o.closeProgressStatus,setProgressStatus:function(e){null==o.setProgressStatus||o.setProgressStatus(e)}})})),[r,n,a,o]),l=Object(i.useCallback)(Sn()((function*(){if(!t.current)try{t.current=!0,Vo.submited=!0,null==o.openProgressStatus||o.openProgressStatus(),yield c()}finally{t.current=!1,Vo.submited=!1,null==o.closeProgressStatus||o.closeProgressStatus()}})),[c,o]);return o.progressStatus?Object(Q.jsx)(xa,{}):Object(Q.jsx)(_a,{size:"xl",type:"primary",isDisabled:!n,onPress:l,children:e.formatMessage({id:"title__swap"})},"submit")},Ia=function(){var e=Object(y.default)(),t=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(ae.useAppSelector)((function(e){return e.swap.quote})),r=Object(ae.useAppSelector)((function(e){return e.swap.loading})),o=Object(Jo.useSwapError)(),a=Object(Jo.useInputLimitsError)();return r?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__finding_the_best_channel"})},"loading"):o?o===Go.SwapError.InsufficientBalance?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},"insufficient_balance_error"):Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"baseError"):a?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"depositLimit"):n?Object(Q.jsx)(Sa,{}):Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__swap"})},"noQuote")},Ca=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(ae.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo})),c=Object(Jo.useSwapQuoteRequestParams)(),l=Object(ja.useSwapSend)(),s=Object(i.useCallback)(Sn()((function*(){if(c&&a){var e=c.tokenIn,t=c.activeAccount;o(!0);try{yield l({networkId:e.networkId,accountId:t.id,encodedTx:a.encodedTx,showSendFeedbackReceipt:!0,onSuccess:function(){var n=Sn()((function*(n){var r,o=n.result,a=n.decodedTx,i=yield W.default.engine.getNetwork(e.networkId);a&&i&&(r=Object(qo.calculateDecodedTxNetworkFee)(a,i)),W.default.dispatch(Object(da.addTransaction)({accountId:t.id,networkId:e.networkId,transaction:{hash:o.txid,from:t.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:t.id,networkId:e.networkId,nonce:null==a?void 0:a.nonce,receivingAccountId:t.id,receivingAddress:t.address,actualReceived:c.typedValue,arrivalTime:30,networkFee:r,tokens:{from:{token:c.tokenIn,networkId:e.networkId,amount:c.typedValue},to:{token:c.tokenOut,networkId:e.networkId,amount:c.typedValue},rate:1}}})),W.default.serviceSwap.clearState()}));return function(e){return n.apply(this,arguments)}}()})}finally{o(!1)}}})),[c,l,a]);return c&&a?Object(Q.jsx)(re.default,{size:"xl",type:"primary",onPress:s,isLoading:r,children:"Deposite"===a.type?e.formatMessage({id:"action__wrap"}):e.formatMessage({id:"action__unwrap"})},"baseError"):null},Pa=function(){var e=Object(y.default)(),t=Object(Jo.useCheckInputBalance)();return t&&t.insufficient?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:t.token.symbol})},"insufficient_balance_error"):Object(Q.jsx)(Ca,{})},Ma=function(){return Object(ae.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo}))?Object(Q.jsx)(Pa,{}):Object(Q.jsx)(Ia,{})},Aa=function(){var e=Object(y.default)();return Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain}))?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"swapMaintain"):Object(Q.jsx)(Ma,{})},Ta=function(){return Object(Q.jsx)(Oa,{children:Object(Q.jsx)(Aa,{})})},Da=function(e){var t=e.children,n=Object(j.default)();return Object(Q.jsx)(N.default,{px:n?"4":0,children:t})},Ra=n(4044),Ea=function(){var e,t=Object(y.default)(),n=Object(z.useActiveWalletAccount)().wallet,r=Object(z.useAppSelector)((function(e){return e.runtime.accounts})),o=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),a=Object(z.useNetworkSimple)(null==o?void 0:o.networkId),c=Object(on.useCreateAccountInWallet)({networkId:null==a?void 0:a.id,walletId:null==n?void 0:n.id}).createAccount,l=Object(i.useMemo)((function(){return!!o&&(0===(null==n?void 0:n.accounts.length)||(null==n?void 0:n.accounts.every((function(e){return!Object(Lo.isAccountCompatibleWithNetwork)(e,o.networkId)}))))}),[n,o]);return Object(i.useEffect)((function(){a&&W.default.serviceSwap.setRecipient(a)}),[r,a]),l?Object(Q.jsx)(N.default,{mt:"6",children:Object(Q.jsx)(lt.default,{title:t.formatMessage({id:"content__you_don_t_have_a_str_account"},{0:null!=(e=null==a?void 0:a.symbol)?e:""}),alertType:"info",action:t.formatMessage({id:"action__create"}),onAction:c,dismiss:!1})}):null},Ba=function(){return Object(Jo.useSwapRecipient)()?null:Object(Q.jsx)(Ea,{})},Na=function(){var e=Object(Jo.useInputLimitsError)(),t=Object(y.default)(),n=Object(i.useCallback)((function(){null!=e&&e.value&&W.default.serviceSwap.userInput("INPUT",e.value)}),[e]);return e?Object(Q.jsx)(N.default,{mt:"6",children:Object(Q.jsx)(lt.default,{title:e.message,alertType:"warn",dismiss:!1,onAction:n,action:t.formatMessage({id:"action__fill_in"})})}):null},La=function(){var e=Object(y.default)(),t=Object(i.useCallback)((function(){zo.appUIEventBus.emit(zo.AppUIEventBusNames.SwapRefresh)}),[]);return Object(Q.jsx)(N.default,{mt:"6",children:Object(Q.jsx)(lt.default,{title:e.formatMessage({id:"msg__failed_to_fetch_quotes"}),alertType:"warn",action:e.formatMessage({id:"action__retry"}),onAction:t,dismiss:!1})})},Wa=function(){var e=Object(y.default)();return Object(Q.jsx)(N.default,{mt:"6",children:Object(Q.jsx)(lt.default,{title:e.formatMessage({id:"msg__this_transaction_is_not_supported"}),alertType:"warn",dismiss:!1})})},za=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.error}));return e===Go.SwapError.NotSupport?Object(Q.jsx)(Wa,{}):e===Go.SwapError.QuoteFailed?Object(Q.jsx)(La,{}):null},Ha=function(){var e=Object(y.default)();return Object(Q.jsx)(N.default,{flexDirection:"row",mt:"6",w:"full",children:Object(Q.jsx)(lt.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange"}),description:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange_desc"})})})},Fa=function(){var e=Object(i.useState)(!1),t=x()(e,2),n=t[0],r=t[1],o=Object(Jo.useSwapRecipient)();return Object(i.useEffect)((function(){W.default.serviceSwap.recipientIsUnknown(o).then(r)}),[o]),n?Object(Q.jsx)(Ha,{}):null},Ua=function(e){var t=e.value,n=Object(y.default)();return Object(i.useEffect)((function(){function e(){return(e=Sn()((function*(){(yield W.default.serviceSwap.getSwapPriceImpactShown())||(W.default.serviceSwap.setSwapPriceImpactShown(!0),Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(ut.default,{title:n.formatMessage({id:"modal__attention"}),closeOverlay:e,children:Object(Q.jsxs)(T.default,{w:"full",children:[Object(Q.jsx)(te.default.Body1,{textAlign:"center",color:"text-subdued",children:n.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"},{0:t.toFixed(2)})}),Object(Q.jsx)(T.default,{w:"full",mt:"5",children:Object(Q.jsx)(re.default,{size:"lg",w:"full",type:"primary",onPress:e,children:n.formatMessage({id:"action__i_got_it"})})})]})})})))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),Object(Q.jsx)(N.default,{flexDirection:"row",mt:"6",children:Object(Q.jsx)(lt.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:n.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"},{0:t.toFixed(2)})})})},Va=function(){var e=Object(Ra.usePriceImpact)();return e&&e>10?Object(Q.jsx)(Ua,{value:e}):null},Ga=function(e){var t=e.value,n=Object(y.default)();return Object(Q.jsx)(N.default,{flexDirection:"row",mt:"6",w:"full",children:Object(Q.jsx)(lt.default,{containerProps:{width:"full"},alertType:"warn",dismiss:!1,title:n.formatMessage({id:"msg__current_slippage_str_is_high"},{0:t+"%"}),description:n.formatMessage({id:"msg__your_trade_may_be_front_run_due_to_the_larger_slippage"})})})},qa=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.quote})),t=Object(Ra.useSwapSlippage)();if(e&&"custom"===t.mode){var n=Number(t.value);if(!Number.isNaN(n)&&n>=5&&n<50)return Object(Q.jsx)(Ga,{value:t.value})}return null},Ya=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Fa,{}),Object(Q.jsx)(Na,{}),Object(Q.jsx)(Ba,{}),Object(Q.jsx)(za,{}),Object(Q.jsx)(Va,{}),Object(Q.jsx)(qa,{})]})},Ka=Object(i.createContext)((function(){})),Xa=n(855),Qa=["value","onChange","onChangeEnd"];function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $a=function(e){var t=e.value,n=e.onChange,r=e.onChangeEnd,o=O()(e,Qa),c=Object(i.useState)(!1),l=x()(c,2),s=l[0],u=l[1],d=Object(a.default)("surface-neutral-subdued"),f=Object(i.useMemo)((function(){return[(t>=25?100:Math.floor(t/25*100))+"%",(t>=50?100:Math.floor((t-25)/25*100))+"%",(t>=75?100:Math.floor((t-50)/25*100))+"%",(t>=100?100:Math.floor((t-75)/25*100))+"%"]}),[t]),b=Object(i.useCallback)((function(e){Object(Xa.doHapticsWhenEnabled)(),u(!0),null==n||n(e)}),[n]),j=Object(i.useCallback)((function(e){Object(Xa.doHapticsWhenEnabled)(),u(!1),null==n||n(e),null==r||r(e)}),[n,r]),p=Math.min(t,100),m=t+"%";return Object(Q.jsxs)(Rt.default,Ja(Ja({maxW:"300",value:p,minValue:0,maxValue:100,step:1,onChangeEnd:j,onChange:b,_interactionBox:{borderWidth:0,children:Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(N.default,{w:"4",h:"4",bg:"icon-subdued",justifyContent:"center",alignItems:"center",borderRadius:"full",children:Object(Q.jsx)(N.default,{w:"3",h:"3",bg:"surface-neutral-default",borderRadius:"full"})}),s?Object(Q.jsxs)(N.default,{position:"absolute",zIndex:1,right:0,bottom:8,bg:"surface-neutral-subdued",borderRadius:4,style:{transform:[{translateX:17}]},children:[Object(Q.jsx)(N.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:d,position:"absolute",bottom:-8,right:20}}),Object(Q.jsx)(T.default,{p:"1",flexDirection:"row",w:"12",children:Object(Q.jsx)(te.default.CaptionStrong,{color:"text-default",children:m})})]}):null]})}},o),{},{children:[Object(Q.jsx)(Rt.default.Track,{position:"relative",children:Object(Q.jsxs)(gt.default,{space:1,w:"full",h:"full",bg:"background-default",children:[Object(Q.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",position:"relative",children:Object(Q.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[0]})}),Object(Q.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Q.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[1]})}),Object(Q.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Q.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[2]})}),Object(Q.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Q.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[3]})})]})}),Object(Q.jsx)(Rt.default.Thumb,{_pressed:{borderWidth:0,outlineStyle:"none"},_focus:{borderWidth:0,outlineStyle:"none"},_hover:{borderWidth:0,outlineStyle:"none"}})]}))},ei=n(111),ti=n(4e3),ni=function(e){var t=e.token,n=Object(z.useNetwork)({networkId:t.networkId}).network,r=(null==n?void 0:n.id)===no.OnekeyNetwork.goerli?"Ethereum Testnet":null==n?void 0:n.name;return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(N.default,{mr:"2",w:"8",h:"8",borderRadius:"full",overflow:"hidden",bgColor:"surface-neutral-default",children:Object(Q.jsx)(At.default,{token:t,size:8,bgColor:"surface-neutral-default"})}),Object(Q.jsx)(N.default,{position:"absolute",bottom:0,right:"4px",w:"18px",h:"18px",bgColor:"border-default",justifyContent:"center",alignItems:"center",borderRadius:"full",overflow:"hidden",children:Object(Q.jsx)(ft.default,{size:"4",src:null==n?void 0:n.logoURI})})]}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.DisplayLarge,{color:"text-default",fontSize:24,children:Object(qo.truncate)(t.symbol,8)}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:null!=r?r:"-"})]}),Object(Q.jsx)(N.default,{ml:"1",children:Object(Q.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})})]})]})};function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ai=function(){var e,t=Object(y.default)(),n=Object(z.useNavigation)(),r=Object(z.useAppSelector)((function(e){return e.swap.outputTokenNetwork})),o=Object(z.useAppSelector)((function(e){return e.swap.sendingAccount})),c=Object(Jo.useSwapRecipient)(),l=Object(i.useState)(),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useState)(!1),j=x()(f,2),p=j[0],O=j[1],m=Object(a.default)("surface-neutral-default"),h=Object(i.useCallback)((function(){d(void 0),n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.id,onSelected:function(e){var t=e.address,n=e.name,o=e.accountId;W.default.dispatch(Object(Fo.setRecipient)({address:t,name:n,networkId:null==r?void 0:r.id,networkImpl:null==r?void 0:r.impl,accountId:o}))}}}})}),[n,null==r?void 0:r.id,null==r?void 0:r.impl]);Object(i.useEffect)((function(){function e(){return(e=Sn()((function*(){var e=!1;function n(){return(n=Sn()((function*(){var n=yield W.default.serviceSwap.recipientIsUnknown(c);if(O(n),n){if(yield W.default.serviceSwap.getSwapReceivingUnknownShown())return;yield W.default.serviceSwap.setSwapReceivingUnknownShown(!0),d(t.formatMessage({id:"msg__you_are_swapping_asset_to_an_address_that_may_not_be_yours_please_verify"})),e=!0}}))).apply(this,arguments)}function r(){return(r=Sn()((function*(){if(null!=o&&o.address&&null!=c&&c.address&&(null==o?void 0:o.address)!==(null==c?void 0:c.address)){if(yield W.default.serviceSwap.getSwapReceivingIsNotSendingAccountShown())return;yield W.default.serviceSwap.setSwapReceivingIsNotSendingAccountShown(!0),d(t.formatMessage({id:"msg__you_have_selected_another_account_to_receive_tokens"}))}}))).apply(this,arguments)}yield function(){return n.apply(this,arguments)}(),e||(yield function(){return r.apply(this,arguments)}())}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,c,t]),Object(i.useEffect)((function(){if(u){var e=setTimeout((function(){return d(void 0)}),8e3);return function(){clearTimeout(e)}}}),[u]),Object(w.useFocusEffect)(Object(i.useCallback)((function(){return function(){return d(void 0)}}),[]));var g=null!=c?c:{},v=g.address,k=g.name;return v&&k?e=Object(Q.jsxs)(N.default,{mr:"1",flexDirection:"row",children:[Object(Q.jsx)(te.default.Body2Strong,{mr:"1",color:p?"text-warning":"text-default",maxW:"120",isTruncated:!0,children:k}),Object(Q.jsx)(te.default.Body2,{color:p?"text-warning":"text-subdued",children:v.slice(-4)})]}):v&&(e=Object(Q.jsx)(N.default,{mr:"1",children:Object(Q.jsxs)(te.default.Body2,{color:p?"text-warning":"text-subdued",children:[t.formatMessage({id:"form__unknown"})," ",Object(Jr.shortenAddress)(v)]})})),v?Object(Q.jsxs)(N.default,{position:"relative",children:[u?Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(Fe.default,{style:{height:A.default.hairlineWidth,width:210}}),Object(Q.jsxs)(N.default,{position:"absolute",zIndex:1,bottom:"2",left:"1",bg:"surface-neutral-default",borderRadius:12,width:"56",children:[Object(Q.jsx)(N.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:m,position:"absolute",bottom:-10,left:14}}),Object(Q.jsx)(N.default,{p:"3",children:Object(Q.jsx)(te.default.Body2,{children:u})})]})]}):null,Object(Q.jsx)(N.default,{flexDirection:"row",children:Object(Q.jsx)($.default,{flexDirection:"row",borderRadius:12,alignItems:"center",onPress:h,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},position:"relative",children:Object(Q.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",alignItems:"center",children:[e,Object(Q.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]})})})]}):Object(Q.jsx)($.default,{flexDirection:"row",alignItems:"center",onPress:h,children:Object(Q.jsx)(N.default,{flexDirection:"row",py:"1",px:"2",borderRadius:"12",children:Object(Q.jsx)(te.default.Caption,{color:"text-default",mr:"1",numberOfLines:1,children:t.formatMessage({id:"title__choose_an_account"})})})})},ii=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),t=Object(Jo.useSwapRecipient)(),n=Object(ti.useTokenBalance)(e,null==t?void 0:t.accountId),r=null!=n?n:"0",o=Object(qo.formatAmount)(r,6);return r&&0!==Number(r)&&!Number.isNaN(+r)||(o="0"),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",zIndex:1,children:[Object(Q.jsx)(ai,{}),Object(Q.jsx)($.default,{rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:e?o+" "+e.symbol.toUpperCase():"-"})})})]})},ci=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(z.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress}));if(e&&t&&!Object(qo.recipientMustBeSendingAccount)(e,t,n))return Object(Q.jsx)(ii,{});return null},li=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),r=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),o=Object(z.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress})),a=Object(i.useCallback)((function(){var e=!o;e?t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.networkId,onSelected:function(t){var n=t.address,o=t.name,a=t.accountId;W.default.dispatch(Object(Fo.setRecipient)({address:n,name:o,networkId:null==r?void 0:r.networkId,networkImpl:Object(qo.getNetworkIdImpl)(null==r?void 0:r.networkId),accountId:a})),W.default.dispatch(Object(Fo.setAllowAnotherRecipientAddress)(e))}}}}):W.default.dispatch(Object(Fo.setAllowAnotherRecipientAddress)(e))}),[o,r,t]);if(n&&r&&Object(qo.shouldShowAllowRecipientAddressInput)(n,r))return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"2",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__swap_to_another_address"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",size:"mini",onToggle:a,isChecked:o})})]});return null},si=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=Object(y.default)(),c=Object(z.useAppSelector)((function(e){return e.swap.outputToken})),l=Object(ti.useTokenPrice)(c),s=Object(z.useAppSelector)((function(e){return e.swap.loading})),u=Object(z.useAppSelector)((function(e){return e.swap.independentField}));return Object(Q.jsx)(N.default,oi(oi({},o),{},{position:"relative",children:Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",children:[Object(Q.jsx)($.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:c?Object(Q.jsx)(ni,{token:c}):Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"INPUT"===u&&s?Object(Q.jsx)(N.default,{minH:"12",h:"full",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsx)(N.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:Object(Q.jsx)(Ft.default,{})})}):Object(Q.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Q.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Q.jsx)(N.default,{position:"absolute",bottom:"26px",right:2,children:Object(Q.jsx)(N.default,{pointerEvents:"none",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",numberOfLines:2,children:Object(Q.jsx)(ei.FormatCurrency,{numbers:[null!=l?l:0,null!=t?t:0],render:function(e){return Object(Q.jsx)(te.default.Body2,{ml:3,color:"text-subdued",children:l?e:"-"})}})})})}),Object(Q.jsx)(Ht.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isReadOnly:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]}),Object(Q.jsx)(li,{}),Object(Q.jsx)(ci,{})]})}))};function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fi=function(e){var t=e.account,n=e.token,r=Object(y.default)(),o=Object(z.useNavigation)(),a=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,onSelected:function(e){W.default.dispatch(Object(Fo.setSendingAccount)(e))}}}})}),[n,o]);return Object(Q.jsx)($.default,{borderRadius:"12",overflow:"hidden",onPress:a,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?Object(Q.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",mr:"1",children:[Object(Q.jsx)(te.default.Body2Strong,{mr:"1",maxW:"120",isTruncated:!0,children:t.name}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),Object(Q.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]}):Object(Q.jsx)(N.default,{py:"1",px:"2",borderRadius:"12",children:Object(Q.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})},bi=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.type,c=e.isDisabled,l=Object(y.default)(),s=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),u=Object(z.useAppSelector)((function(e){return e.swap.sendingAccount})),d=Object(ti.useTokenBalance)(s,null==u?void 0:u.id),f=Object(z.useAppSelector)((function(e){return e.swap.loading})),b=Object(z.useAppSelector)((function(e){return e.swap.independentField})),j=Object(ti.useTokenPrice)(s),p=null!=d?d:"0",O=Object(i.useCallback)(Sn()((function*(){if(s&&p)if(s.tokenIdOnNetwork)W.default.serviceSwap.userInput(a,p);else{var e=yield W.default.serviceSwap.getReservedNetworkFee(s.networkId),t=0;if(u)try{var n,r=yield W.default.servicePassword.getPassword(),o=yield W.default.engine.getFrozenBalance({accountId:u.id,networkId:s.networkId,password:r});t="number"===typeof o?o:null!=(n=null==o?void 0:o[s.id])?n:0}catch(NO){K.default.swap.info("failed to get frozen balanace",NO.message)}var i=Cn.a.max(0,new Cn.a(p).minus(e).minus(t));i.gt(0)?W.default.serviceSwap.userInput(a,i.toFixed()):Number(p)>0&&qt.default.show({title:l.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:e+" "+s.symbol.toUpperCase()})},{type:"error"})}})),[s,p,a,l,u]),m=Object(qo.formatAmount)(p,6);return p&&0!==Number(p)&&!Number.isNaN(+p)||(m="0"),Object(Q.jsx)(N.default,di(di({},o),{},{position:"relative",children:Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(fi,{account:u,token:s}),Object(Q.jsx)($.default,{onPress:function(){c||O()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:s?m+" "+Object(qo.truncate)(s.symbol.toUpperCase(),8):"-"})})})]}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Q.jsx)($.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:s?Object(Q.jsx)(ni,{token:s}):Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.DisplayMedium,{fontWeight:600,children:l.formatMessage({id:"title__select_a_token"})})})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"OUTPUT"===b&&f?Object(Q.jsx)(N.default,{h:"full",minH:"12",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsx)(N.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:Object(Q.jsx)(Ft.default,{})})}):Object(Q.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Q.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Q.jsx)(N.default,{position:"absolute",bottom:"26px",right:2,children:Object(Q.jsx)(N.default,{pointerEvents:"none",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",numberOfLines:2,children:Object(Q.jsx)(ei.FormatCurrency,{numbers:[null!=j?j:0,null!=t?t:0],render:function(e){return Object(Q.jsx)(te.default.Body2,{ml:3,color:"text-subdued",children:j?e:"-"})}})})})}),Object(Q.jsx)(Ht.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:c,rightCustomElement:null})]})})})]})]})}))},ji=function(){var e=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(ae.useAppSelector)((function(e){return e.swap.sendingAccount})),n=Object(ti.useTokenBalance)(e,null==t?void 0:t.id),r=Object(ae.useAppSelector)((function(e){return e.swap.typedValue})),o=Object(i.useMemo)((function(){if(n&&r){var e=new Cn.a(n),t=new Cn.a(r);if(e.gt(0)&&t.gt(0)){var o=t.div(e).multipliedBy(100).toNumber();return Math.ceil(o)}}return 0}),[n,r]),a=Object(i.useCallback)((function(e){if(n){var t=Object(qo.div)(Object(qo.multiply)(n,e),100);e<100&&(t=Object(qo.formatAmountExact)(t)),W.default.serviceSwap.userInput("INPUT",t)}}),[n]),c=Object(i.useContext)(Ka),l=Object(i.useCallback)((function(){0}),[c]),s=Object(i.useCallback)((function(){0}),[c]);return Object(Q.jsx)(T.default,{h:"10",w:"48",children:Object(Q.jsx)(N.default,{style:{transform:[{translateY:2}]},w:"full",children:Object(Q.jsx)($a,{onTouchStart:l,onChangeEnd:s,value:o,onChange:a})})})},pi=function(){return Object(Q.jsx)(ot.LazyDisplayView,{delay:100,children:Object(Q.jsx)(ji,{})})},Oi=function(){var e=Object(y.default)(),t=Object(j.default)(),n=Object(z.useNavigation)(),r=Object(ae.useAppSelector)((function(e){return e.swap.independentField})),o=Object(ae.useAppSelector)((function(e){return e.swap.loading})),a=Object(ae.useActiveWalletAccount)(),c=a.wallet,l=a.network,s=Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),u=Object(Jo.useDerivedSwapState)().formattedAmounts,d=!c||!l||s,f=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.Input}})}),[n]),p=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.OutputCrosschain}})}),[n]),O=Object(i.useCallback)((function(e){W.default.serviceSwap.userInput("INPUT",e)}),[]),m=Object(i.useCallback)((function(e){W.default.serviceSwap.userInput("OUTPUT",e)}),[]),x=Object(i.useCallback)((function(){W.default.serviceSwap.switchTokens()}),[]),h=Object(i.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]);return Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsxs)(N.default,{position:"relative",borderRadius:t?void 0:"12",overflow:"hidden",children:[Object(Q.jsx)(N.default,{px:2,pt:"3",pb:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Q.jsx)(bi,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:u.INPUT,onChange:O,onPress:f,containerProps:h.upper,isDisabled:o&&"OUTPUT"===r})}),Object(Q.jsx)(N.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:Object(Q.jsxs)(N.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:[Object(Q.jsx)(N.default,{position:"absolute",top:"0",left:"4",children:Object(Q.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Q.jsx)(vt.default,{w:35,h:35,borderColor:"background-default",isDisabled:o,name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:x,size:"lg",bgColor:"surface-neutral-subdued"})})}),Object(Q.jsx)(N.default,{position:"absolute",top:"0",right:"4",children:Object(Q.jsx)(pi,{})})]})}),Object(Q.jsx)(N.default,{px:2,pb:"3",pt:"5",bg:"action-secondary-default",overflow:"hidden",children:Object(Q.jsx)(si,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:u.OUTPUT,onChange:m,onPress:p,containerProps:h.lower})}),d?Object(Q.jsx)(N.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})},mi=n(86),xi=n(4559),hi=n(44),gi=n(344),vi=function(){var e=Object(Kt.default)().themeVariant,t=Object(w.useIsFocused)(),r=Object(i.useRef)(new hi.default.Value(0)).current,o=Object(i.useRef)(new hi.default.Value(0)).current,a=Object(z.useAppSelector)((function(e){return e.swap.loading})),c=Object(i.useCallback)((function(){var e=Object(Wo.appSelector)((function(e){return e.swap.quoteLimited}));Vo.submited||e||!t||(r.setValue(0),hi.default.timing(r,{toValue:-1,duration:1e3,useNativeDriver:!0}).start((function(){zo.appUIEventBus.emit(zo.AppUIEventBusNames.SwapRefresh)})))}),[r,t]);return Object(i.useEffect)((function(){var e=o.addListener((function(e){15e3===e.value&&c()}));return function(){return o.removeListener(e)}}),[c,o]),Object(i.useEffect)((function(){hi.default.timing(o,{toValue:15e3,duration:15e3,useNativeDriver:!0}).start()}),[o]),Object(i.useEffect)((function(){t&&(15e3===Number(o._value)&&setTimeout((function(){return zo.appUIEventBus.emit(zo.AppUIEventBusNames.SwapRefresh)}),100))}),[t,o]),Object(Q.jsx)(gi.default,{onPress:c,isDisabled:a,children:Object(Q.jsx)(hi.default.View,{style:{transform:[{rotate:r.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})}]},children:Object(Q.jsx)(T.default,{w:"5",h:"5",children:Object(Q.jsx)(zt.default,{autoPlay:!0,width:20,source:n("light"===e?5283:5284)})})})})},yi=["children"];function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _i=function(e){var t=e.children,n=O()(e,yi);return Object(z.useAppSelector)((function(e){return e.swap.loading}))?Object(Q.jsx)(N.default,ki(ki({overflow:"hidden"},n),{},{children:Object(Q.jsx)(Ft.default,{})})):Object(Q.jsx)(N.default,{children:t})},Si=n(4189),Ii=function(e){var t=e.label;return Object(Q.jsx)(D.default,{hasArrow:!0,_text:{maxW:"80"},label:t,placement:"top",children:Object(Q.jsx)($.default,{borderRadius:"full",p:"2px",position:"relative",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:Object(Q.jsx)(ee.default,{color:"text-subdued",name:"QuestionMarkCircleOutline",size:16})})})},Ci=n(4561),Pi=n(4188),Mi=function(e){var t=e.onClose,n=Object(y.default)(),r=Object(z.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),o=Object(i.useState)(!!r),a=x()(o,2),c=a[0],l=a[1];return Object(Q.jsxs)(Ct.default,{direction:"column",space:"2",children:[Object(Q.jsxs)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return l(!1)},children:[Object(Q.jsx)(te.default.Body1Strong,{children:n.formatMessage({id:"form__exact_amount"})}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(te.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"})}),Object(Q.jsx)(T.default,{w:"5",children:c?null:Object(Q.jsx)(ee.default,{name:"CheckMini",size:20,color:"text-success"})})]})]}),Object(Q.jsxs)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return l(!0)},children:[Object(Q.jsx)(te.default.Body1Strong,{children:n.formatMessage({id:"form__unlimited"})}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(te.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"})}),Object(Q.jsx)(T.default,{w:"5",children:c?Object(Q.jsx)(ee.default,{name:"CheckMini",size:20,color:"text-success"}):null})]})]}),Object(Q.jsx)(re.default,{size:"xl",type:"primary",onPress:function(){W.default.dispatch(Object(mi.setDisableSwapExactApproveAmount)(c)),t()},children:n.formatMessage({id:"action__done"})})]})},Ai=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.quote})),n=Object(z.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),r=Object(i.useCallback)((function(){Object(Mn.showOverlay)((function(t){return Object(Q.jsx)(ut.default,{title:e.formatMessage({id:"form__approval"}),closeOverlay:t,children:Object(Q.jsx)(Mi,{onClose:t})})}))}),[e]);return t&&t.needApproved?Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__approval"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__exact_amount_allowance_desc"})})]}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsxs)($.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[Object(Q.jsx)(te.default.Body2,{mr:"1",color:"text-default",children:n?e.formatMessage({id:"form__unlimited"}):e.formatMessage({id:"form__exact_amount"})}),Object(Q.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]}):null},Ti=function(){var e=Object(y.default)(),t=Object(i.useMemo)((function(){return[{text:"\ud83d\ude85 "+e.formatMessage({id:"form__high"}),value:"2"},{text:"\ud83d\ude95 "+e.formatMessage({id:"form__normal"}),value:"1"},{text:"\ud83d\udeb4\ud83c\udffb "+e.formatMessage({id:"form__low"}),value:"0"}]}),[e]),n=Object(z.useAppSelector)((function(e){return e.swapTransactions.swapFeePresetIndex})),r=Object(i.useCallback)((function(){Object(Mn.showOverlay)((function(n){return Object(Q.jsx)(ut.default,{title:e.formatMessage({id:"form__gas_fee_settings"}),closeOverlay:n,children:Object(Q.jsx)(Ct.default,{direction:"column",space:"2",children:t.map((function(e){return Object(Q.jsx)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){W.default.serviceSwap.setSwapFeePresetIndex(e.value),n()},children:Object(Q.jsx)(te.default.DisplayMedium,{children:e.text})},e.value)}))})})}))}),[t,e]),o=Object(i.useMemo)((function(){var e=t.findIndex((function(e){return e.value===n}));return-1===e&&(e=1),t[e].text}),[t,n]);return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__network_fee"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__network_fee_desc"})})]}),Object(Q.jsx)(N.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsxs)($.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[Object(Q.jsx)(te.default.Body2,{mr:"1",color:"text-default",children:o}),Object(Q.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]})},Di=function(){var e,t=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(z.useNetwork)({networkId:null==t?void 0:t.networkId}).network;return null!=n&&null!=(e=n.settings)&&e.feeInfoEditable?Object(Q.jsx)(Ti,{}):null},Ri=function(){var e=Object(Ra.useSwapMinimumReceivedAmount)(),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken}));if(t&&e){var n=Object(qo.getTokenAmountValue)(t,String(e));return Object(Q.jsxs)(te.default.Body2,{color:"text-default",children:[n.toFixed(4)," ",t.symbol.toUpperCase()]})}return null},Ei=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.quote}));if(!t)return null;var n=Number(t.estimatedPriceImpact);if(0===n||Number.isNaN(n))return null;var r=Object(qo.formatAmount)(null==t?void 0:t.estimatedPriceImpact,4)+"%";return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__price_impact"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__price_impact_desc"})})]}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(te.default.Body2,{color:"text-default",children:r})})]})},Bi=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.protocolFees}));if(t){var n=Object(qo.calculateProtocalsFee)(t);if(Number(n.value)>0)return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__bridge_fee"})})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(te.default.Body2,{color:"text-default",children:Object(qo.formatAmount)(n.value,8)+" "+n.symbol.toUpperCase()})})]})}return null},Ni=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(z.useAppSelector)((function(e){return e.swap.quote})),r=Object(z.useAppSelector)((function(e){return e.swap.quoteLimited})),o=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.SelectRoutes}})}),[t]);return n?Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__smart_router"})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsx)(_i,{h:"5",width:"24",borderRadius:"4px",children:Object(Q.jsxs)($.default,{onPress:o,disabled:!!r,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:[Object(Q.jsx)(Si.default,{providers:n.providers,typography:"Body2",color:"text-default"}),r?null:Object(Q.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})})]}):null},Li=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(Ra.useSwapSlippage)(),r=n.mode,o=n.value,a=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.Slippage}})}),[t]);return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__slippage"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__slippage_desc"})})]}),Object(Q.jsx)(N.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Q.jsxs)($.default,{flexDirection:"row",onPress:a,children:[Object(Q.jsxs)(te.default.Body2,{mr:"1",color:"text-default",children:["auto"===r?e.formatMessage({id:"form__auto"}):null,"(",o,"%)"]}),Object(Q.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]})},Wi=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.quote}));return t?Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__included_onekey_fee"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__included_onekey_fee_desc"})})]}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(Ci.default,{type:t.type,percentageFee:t.percentageFee,typography:"Body2",color:"text-default"})})]}):null},zi=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.arrivalTime}));return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__arrival_time"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__arrival_time_desc"})})]}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(xi.ArrivalTime,{value:t,typography:"Body2",color:"text-default"})})]})},Hi=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.quote}));return t?Object(Q.jsxs)(N.default,{mt:"2",children:[Object(Q.jsx)(mt.default,{}),Object(Q.jsx)(N.default,{py:"4",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__by_submitting_this_order_you_are_confirming_a_swap_powered_by_str_api"},{0:Object(qo.normalizeProviderName)(t.type)})})})]}):null},Fi=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.quote})),t=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(z.useAppSelector)((function(e){return e.swap.outputToken}));return e?Object(Q.jsx)(T.default,{py:"3",children:Object(Q.jsx)(_i,{h:"5",width:"24",borderRadius:"4px",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(N.default,{mr:"1",children:Object(Q.jsx)(vi,{})}),Object(Q.jsx)(Pi.default,{tokenA:t,tokenB:n,rate:null==e?void 0:e.instantRate,typography:"Body2",color:"text-default"})]})})}):null},Ui=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.showMoreQuoteDetail})),n=Object(i.useCallback)((function(){W.default.serviceSwap.setShowMoreQuoteDetail(!0)}),[]),r=Object(i.useCallback)((function(){W.default.serviceSwap.setShowMoreQuoteDetail(!1)}),[]);return t?Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(N.default,{py:"4",children:Object(Q.jsx)(mt.default,{})}),Object(Q.jsx)(Ai,{}),Object(Q.jsx)(Li,{}),Object(Q.jsx)(Ei,{}),Object(Q.jsx)(Bi,{}),Object(Q.jsx)(Wi,{}),Object(Q.jsx)(zi,{})]}),Object(Q.jsx)(T.default,{h:"9",children:Object(Q.jsx)(re.default,{iconColor:"text-subdued",rightIconName:"ChevronUpMini",_text:{color:"text-subdued"},type:"plain",onPress:r,children:e.formatMessage({id:"action__collapse"})},"collapse")})]}):Object(Q.jsx)(T.default,{h:"9",children:Object(Q.jsx)(re.default,{iconColor:"text-subdued",rightIconName:"ChevronDownMini",_text:{color:"text-subdued"},type:"plain",onPress:n,children:e.formatMessage({id:"action__expand"})},"expand")})},Vi=function(){var e=Object(y.default)();return Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(Fi,{}),Object(Q.jsx)(Di,{}),Object(Q.jsx)(Ni,{}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__minimum_received"})}),Object(Q.jsx)(Ii,{label:e.formatMessage({id:"form__minimum_received_desc"})})]}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(_i,{h:"5",width:"24",borderRadius:"4px",children:Object(Q.jsx)(Ri,{})})})]}),Object(Q.jsx)(Ui,{}),Object(Q.jsx)(Hi,{})]})},Gi=function(){return Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Di,{})})},qi=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.quote}));return e?e.wrapperTxInfo?Object(Q.jsx)(Gi,{}):Object(Q.jsx)(Vi,{}):null};function Yi(){return Object(i.useEffect)((function(){var e=function(){var e=Sn()((function*(){(yield sa())&&(yield Object(ca.wait)(2e3),ua())}));return function(){return e.apply(this,arguments)}}();return zo.appUIEventBus.on(zo.AppUIEventBusNames.SwapAddTransaction,e),function(){zo.appUIEventBus.off(zo.AppUIEventBusNames.SwapAddTransaction,e)}}),[]),Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(Oi,{}),Object(Q.jsxs)(Da,{children:[Object(Q.jsx)(Ya,{}),Object(Q.jsx)(N.default,{mt:"6",mb:"3",children:Object(Q.jsx)(Ta,{})}),Object(Q.jsx)(qi,{})]})]})}var Ki=function(e){var t=e.tokenId,n=e.networkId;return Object(i.useEffect)((function(){function e(){return(e=Sn()((function*(){if(!Object(No.isAllNetworks)(n)){var e=yield W.default.engine.ensureTokenInDB(n,t),r=Object(Wo.appSelector)((function(e){return e.swap.inputToken}));if(!(!e||r&&Object(qo.tokenEqual)(r,e))){yield W.default.serviceSwap.buyToken(e);var o=setTimeout((function(){var e=Object(Wo.appSelector)((function(e){return e.swap.sendingAccount})),t=Object(Wo.appSelector)((function(e){return e.swap.inputToken})),n=Object(ae.getActiveWalletAccount)(),r=n.account,o=n.wallet;"watching"===(null==o?void 0:o.type)?W.default.serviceSwap.setSendingAccountSimple(null):r&&r.id!==(null==e?void 0:e.id)&&t&&Object(Lo.isAccountCompatibleWithNetwork)(r.id,t.networkId)&&W.default.serviceSwap.setSendingAccountSimple(r)}),200);return function(){return clearTimeout(o)}}}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Yi,{}),Object(Q.jsx)(ia,{})]})},Xi=n(1641),Qi=n(52),Zi=n(2440),Ji=n(279),$i=n.n(Ji),ec=n(1687),tc=n(1182),nc=n.n(tc),rc=n(61),oc=n.n(rc),ac=n(155);function ic(e){return cc.apply(this,arguments)}function cc(){return(cc=Sn()((function*(e){var t,n,r,o,a=e.historyTx,i=e.actionType,c=e.navigation,l=null!=(t=null==(n=a.decodedTx)?void 0:n.encodedTx)?t:{},s=null==a||null==(r=a.decodedTx)?void 0:r.encodedTxEncrypted;if(s)try{o=JSON.parse(yield W.default.servicePassword.decryptByInstanceId(s))}catch(m){o={from:"-",to:"-",value:"-",data:"-"}}var u=a.decodedTx,d=u.nonce,f=u.accountId,j=u.networkId;if(!(oc()(d)||!nc()(d)||d<0)){var p={from:l.from,to:l.to,value:l.value,data:l.data,nonce:d,gas:l.gas,gasLimit:l.gasLimit,gasPrice:l.gasPrice,maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas};if("cancel"===i&&(p.to=p.from,p.value="0x0",p.data="0x"),"speedUp"===i&&o&&(o.from!==p.from||o.to!==p.to||o.value!==p.value||o.data!==p.data||!new Cn.a(p.nonce||"0").eq(o.nonce||"0")))return qt.default.show({title:"Speedup failed. History transaction data not matched"},{type:"error"}),void K.default.sendTx.info("Speedup failed. History transaction data not matched",{encodedTxOrigin:o,encodedTxEvm:p});var O={accountId:f,networkId:j,actionType:i,resendActionInfo:{type:i,replaceHistoryId:a.id},encodedTx:p,feeInfoEditable:!0,feeInfoUseFeeInTx:!0,ignoreFetchFeeCalling:!0};c.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:ac.SendModalRoutes.SendConfirm,params:$i()(O)}})}}))).apply(this,arguments)}function lc(e){var t=e.historyTx,n=Object(z.useNavigation)(),r=Object(y.default)(),o="cancel"===t.replacedType;return Object(Q.jsxs)(Q.Fragment,{children:[o?null:Object(Q.jsx)(re.default,{size:"sm",ml:2,onPress:function(){ic({historyTx:t,actionType:"cancel",navigation:n})},children:r.formatMessage({id:"action__cancel"})}),Object(Q.jsx)(re.default,{type:"primary",size:"sm",ml:2,onPress:function(){ic(o?{historyTx:t,actionType:"cancel",navigation:n}:{historyTx:t,actionType:"speedUp",navigation:n})},children:r.formatMessage({id:"action__speed_up"})})]})}var sc=n(1218),uc=n(2468),dc=n(391);var fc=Object(ec.withDebugRenderTracker)((function(e){var t,n,r,o=e.historyTx,a=e.isFirst,i=e.isLast,c=o.decodedTx,l=c.status,s=Object(y.default)(),u=Object(z.useActiveWalletAccount)().network,d=Object(Kt.default)().isLight,f=Object(z.useNavigation)(),j=Object(dc.getTxStatusInfo)({decodedTx:c});l!==Qi.IDecodedTxStatus.Pending&&Object(Q.jsx)(ct.default,{typography:"Body2",color:"text-subdued",text:null!=(t=c.txid)?t:"",short:!0,prefix:"Hash: "}),l!==Qi.IDecodedTxStatus.Confirmed&&Object(Q.jsx)(ve.default,{typography:"Body2",color:j.textColor,children:s.formatMessage({id:j.text})}),"cancel"===o.replacedType&&Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"TxCancel"}),"speedUp"===o.replacedType&&Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"TxSpeedUp"});var p=null!=u&&null!=(n=u.settings)&&n.txCanBeReplaced?Object(Q.jsx)(lc,{historyTx:o}):void 0;return Object(Q.jsx)(sc.TxActionElementTime,{typography:"Body2",color:"text-subdued",isShort:!0,timestamp:null!=(r=c.updatedAt)?r:c.createdAt}),Object(Q.jsx)($.default.Item,{borderTopRadius:a?12:0,borderBottomRadius:i?12:0,borderWidth:d?1:0,borderBottomWidth:i&&d?1:0,borderTopWidth:a&&d?1:0,borderColor:"border-subdued",px:{base:"4",lg:"6"},py:"16px",onPress:function(){f.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.TransactionDetail,params:{screen:b.TransactionDetailModalRoutes.HistoryDetailModal,params:$i()({decodedTx:c,historyTx:o})}})},children:Object(Q.jsxs)(Oe.default,{children:[Object(Q.jsx)(uc.TxActionsListView,{historyTx:o,decodedTx:c,transformType:"T0",space:"31px",showDivider:!0,showConnectionLine:!0}),c.status===Qi.IDecodedTxStatus.Pending?Object(Q.jsxs)(gt.default,{space:2,mt:2,children:[Object(Q.jsx)(N.default,{flex:1}),p]}):null]})})})),bc=n(868),jc=Object(i.createContext)(null);function pc(e){var t=e.children,n=e.isLoading,r=void 0!==n&&n,o=e.isTab,a=e.headerView,c=e.refresh,l=Object(i.useState)({isLoading:r,isTab:o,headerView:a,refresh:c}),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useMemo)((function(){return{context:u,setContext:d}}),[u]);return Object(Q.jsx)(jc.Provider,{value:f,children:t})}function Oc(){return Object(i.useContext)(jc)}function mc(e){var t,n=e.isLoading,r=e.refresh,o=Object(y.default)(),a=Oc();return Object(Q.jsx)(N.default,{py:4,flexDirection:"column",alignItems:"center",children:Object(Q.jsx)(xt.default,{emoji:"\ud83d\udd50",title:o.formatMessage({id:"transaction__history_empty_title"}),subTitle:o.formatMessage({id:"transaction__history_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:null!=(t=null==a?void 0:a.context.refresh)?t:r,isLoading:Boolean((null==a?void 0:a.context.isLoading)||n)})})}var xc=n(462);function hc(e){var t,n=e.closeOverlay,r=Object(y.default)(),o=null==(t=Object(z.useAppSelector)((function(e){return e.settings.hideScamHistory})))||t;return Object(Q.jsx)(ut.default,{modalLizeProps:{tapGestureEnabled:!1},title:r.formatMessage({id:"title__settings"}),closeOverlay:n,children:Object(Q.jsxs)(N.default,{pb:4,pr:2,children:[Object(Q.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:r.formatMessage({id:"form__anti_scam"})}),Object(Q.jsx)(ve.default,{typography:"Body1Strong",mt:3,children:r.formatMessage({id:"form__hide_0_amount_transfers"})}),Object(Q.jsxs)(gt.default,{mt:1,alignItems:"flex-start",space:3,children:[Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",flex:1,children:r.formatMessage({id:"form__hide_0_amount_transfers_desc"})}),Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:o,onToggle:function(){return W.default.dispatch(Object(mi.setHideScamHistory)(!o),Object(xc.refreshHistory)())}})]})]})})}var gc=function(){Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(hc,{closeOverlay:e})}))};function vc(e){var t,n=e.isLoading,r=e.refresh,o=e.networkId,a=Object(y.default)(),i=Object(z.useNetwork)({networkId:o}).network;return Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[Object(Q.jsx)(te.default.Heading,{children:a.formatMessage({id:"transaction__history"})}),Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsx)(vt.default,{onPress:function(){null==r||r()},isLoading:Boolean(n),p:2,size:"sm",name:"ArrowPathMini",type:"plain",circle:!0}),(null==i||null==(t=i.settings)?void 0:t.supportFilterScam)&&Object(Q.jsx)(vt.default,{onPress:gc,ml:3,p:2,size:"sm",name:"Cog8ToothMini",type:"plain",circle:!0})]})]})}function yc(e){var t,n,r=e.refresh,o=e.networkId,a=Oc();return Object(Q.jsxs)(N.default,{children:[null==a||null==(t=a.context)?void 0:t.headerView,Object(Q.jsx)(vc,{networkId:o,refresh:null!=(n=null==a?void 0:a.context.refresh)?n:r,isLoading:null==a?void 0:a.context.isLoading})]},"header")}function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _c(e){var t=e.title,n=e.titleKey,r=e.data,o=Object(y.default)(),a=t||o.formatMessage({id:n})||"";return Object(Q.jsx)(N.default,{py:2,flexDirection:"row",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:a}),r[0]&&r[0].decodedTx.status===Qi.IDecodedTxStatus.Pending&&Object(Q.jsx)(N.default,{ml:3,children:Object(Q.jsx)(st.default,{title:r.length.toString(),type:"default",size:"sm"})})]})},"section-header")}var Sc=Object(i.memo)((function(e){var t=e.networkId,n=e.data,r=e.SectionListComponent,o=Object(ye.default)().size,a=Object(Pr.default)(),c=Object(i.useMemo)((function(){return["NORMAL","LARGE"].includes(o)?32:16}),[o]),l=Object(i.useMemo)((function(){return function(e){var t,n=e.items,r=e.formatDate,o={titleKey:"transaction__pending",data:[]},a=[];return n.forEach((function(e){if(e.decodedTx.status===Qi.IDecodedTxStatus.Pending){var n;null==(n=o)||n.data.push(e)}else{var i=r(e.decodedTx.updatedAt||e.decodedTx.createdAt||0);t&&t.title===i||(t&&a.push(t),t={title:i,data:[]}),t.data.push(e)}})),t&&a.push(t),o.data.length||(o=void 0),o?[o].concat(a).filter(Boolean):[].concat(a).filter(Boolean)}({items:n,formatDate:function(e){return a.formatDate(new Date(e),{hideTheYear:!0,hideTimeForever:!0})}})}),[n,a]),s=!l||!l.length,u=Object(i.useCallback)((function(e){var t,n=e.item,r=e.index,o=e.section;return Object(Q.jsx)(fc,{historyTx:n,isFirst:0===r,isLast:r===(null==o||null==(t=o.data)?void 0:t.length)-1})}),[]),d=Object(i.useCallback)((function(e){var t=e.section,n=t.title,r=t.titleKey,o=t.data;return Object(Q.jsx)(_c,{title:n,titleKey:r,data:o})}),[]),f=Object(i.useCallback)((function(){return Object(Q.jsx)(mt.default,{},"separator")}),[]),b={renderItem:u,renderSectionHeader:d,contentContainerStyle:{paddingHorizontal:c,marginTop:16},sections:l,ListHeaderComponent:Object(Q.jsx)(yc,{isEmpty:s,networkId:t},"header"),ListEmptyComponent:Object(Q.jsx)(mc,{},"empty"),ListFooterComponent:Object(Q.jsx)(N.default,{h:"20px"},"footer"),ItemSeparatorComponent:f,keyExtractor:function(e,t){return e.id||t.toString(10)},showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!1};return Object(Q.jsx)(r,kc({},b))}));function Ic(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=e.headerView,a=e.isHomeTab,c=e.tabComponent,l=Object(i.useState)([]),s=x()(l,2),u=s[0],d=s[1],f=Oc(),b=Object(Jt.useIsAtHomeTab)(bc.WalletHomeTabEnum.History),j=W.default.serviceHistory,p=Object(z.useAppSelector)((function(e){return e.refresher.refreshHistoryTs})),O=Object(z.useAppSelector)((function(e){var n,r;return null!=(n=null==(r=e.overview.allNetworksAccountsMap)?void 0:r[t||""])?n:{}})),m=Object(Zi.useVisibilityFocused)(),h=Object(z.useAccountPortfolios)({networkId:n,accountId:t,type:Mo.EOverviewScanTaskType.token}).data,v=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=e.networkId,n=e.accountId,r=e.refresh,o=e.tokenAddress;if(!n||!t)return Promise.resolve([]);if(r){try{yield j.refreshHistory({networkId:t,accountId:n,tokenIdOnNetwork:o})}catch(a){K.default.common.error(a)}yield Object(ca.wait)(1e3)}return yield j.getLocalHistory({networkId:t,accountId:n,tokenIdOnNetwork:""===o?o:o||void 0,limit:Pn.HISTORY_CONSTS.DISPLAY_TX_LIMIT})}));return function(t){return e.apply(this,arguments)}}(),[j]),y=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t,n,r=e.refresh,o=e.coingeckoId,a=[],i=null!=(t=null==(n=h.find((function(e){return e.coingeckoId===o})))?void 0:n.tokens)?t:[],c=function*(){if(!l)return"continue";var e=l.networkId,t=l.address,n=l.accountAddress;if(!e||!n)return"continue";var o=O[e].find((function(e){return e.address===n}));if(!o)return"continue";var i=yield v({networkId:e,accountId:o.id,tokenAddress:t,refresh:r});a.push.apply(a,g()(i))};for(var l of i)yield*c();return a}));return function(t){return e.apply(this,arguments)}}(),[h,v,O]),w=Object(i.useCallback)(Sn()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.refresh,a=void 0===o||o;return n&&t?Object(No.isAllNetworks)(n)?y({accountId:t,coingeckoId:r,refresh:a}):v({networkId:n,accountId:t,tokenAddress:r,refresh:a}):[]})),[t,n,r,v,y]),k=Object(i.useCallback)((function(){return w({refresh:!1})}),[w]),_=Object(i.useMemo)((function(){return!(!t||!n)&&(!!Object(Lo.isAccountCompatibleWithNetwork)(t,n)&&(!!m&&(!a||b)))}),[t,b,m,a,n]),S=a?"fetchHistoryTx-homeTab":"fetchHistoryTx",I=Object(Xi.default)(S,w,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!_},onSuccess:function(e){(Object(No.isAllNetworks)(n)||function(e){var t=e.oldTxList,n=e.newTxList;if(t.length!==n.length)return!0;for(var r=0;r<5;r+=1){var o=t[r],a=n[r];if(!a&&!o)return!1;if(!a||!o)return!0;if(a.id!==o.id||a.decodedTx.createdAt!==o.decodedTx.createdAt||a.decodedTx.updatedAt!==o.decodedTx.updatedAt||a.decodedTx.status!==o.decodedTx.status||a.decodedTx.totalFeeInNative!==o.decodedTx.totalFeeInNative)return!0}return!1}({oldTxList:u||[],newTxList:e||[]}))&&d(e)}}),C=I.mutate,P=I.isValidating,M=Object(i.useCallback)((function(){return j.refreshHistoryUi()}),[j]);Object(i.useEffect)((function(){null==f||f.setContext((function(e){return e.isLoading!==P||e.refresh!==M||e.headerView!==o?kc(kc({},e),{},{refresh:M,isLoading:P,headerView:o}):e}))}),[M,P,f,o]);var A=Object(i.useMemo)((function(){var e=u[0];return e&&(null==e?void 0:e.decodedTx.networkId)===n&&(null==e?void 0:e.decodedTx.accountId)===t}),[t,u,n]);if(Object(i.useEffect)((function(){_&&!A&&k()}),[t,n,k,_,A]),Object(i.useEffect)((function(){_&&C()}),[p,t,n,C,_]),!t||!n)return null;var T=a||c?hn.Tabs.SectionList:_t.default;return Object(Q.jsx)(Sc,{accountId:t,networkId:n,data:u.sort((function(e,t){var n=e.decodedTx.updatedAt||e.decodedTx.createdAt||0;return(t.decodedTx.updatedAt||t.decodedTx.createdAt||0)-n})),SectionListComponent:T})}function Cc(e){var t=e.headerView,n=e.isHomeTab;return Object(Q.jsx)(pc,{headerView:t,isTab:n,children:Object(Q.jsx)(Ic,kc({},e))})}var Pc=n(834),Mc=n.n(Pc),Ac=n(890),Tc=n(4356),Dc=n.n(Tc),Rc=Object(i.createContext)(void 0),Ec=function(e){var t=e.networks,n=e.onChange,r=e.value,o=[Object.assign(Ac.FAKE_ALL_NETWORK,{name:"All"})].concat(g()(t)).filter(Boolean),a=Object(i.useMemo)((function(){return o.findIndex((function(e){return(null==e?void 0:e.id)===r}))}),[o,r]),c=Object(i.useCallback)((function(e){var t,r=o[e];n(null!=(t=null==r?void 0:r.id)?t:"")}),[o,n]);return t.length<=1?null:Object(Q.jsx)(Wt.default,{mt:"6",size:"sm",buttons:o.filter(Boolean).map((function(e){var t;return{text:null!=(t=e.name)?t:"",id:e.id,leftComponentRender:function(){return Object(Q.jsx)(N.default,{mr:"1",children:Object(Q.jsx)(ft.default,{width:"20px",height:"20px",borderRadius:"full",source:Object(No.isAllNetworks)(e.id)?Dc.a:{uri:e.logoURI}})})}}})),selectedIndex:a,onButtonPress:c,bg:"background-default"})},Bc=function(){var e,t,n,r=Object(z.useManageNetworks)().allNetworks,o=Object(i.useContext)(Rc),a=Object(y.default)(),c=Object(i.useState)(Ac.FAKE_ALL_NETWORK.id),l=x()(c,2),s=l[0],u=l[1],d=null!=(e=null==o?void 0:o.routeParams)?e:{},f=d.price,b=d.networkId,p=d.accountId,O=Object(z.useAccount)({networkId:null!=b?b:"",accountId:null!=p?p:""}).account,m=null!=(t=null==o?void 0:o.positionInfo)?t:{},h=m.items,g=m.balance,v=(null!=(n=null==o?void 0:o.detailInfo)?n:{}).symbol,w=Object(j.default)(),k=Object(i.useMemo)((function(){return Object.entries(Mc()(h,"networkId")).map((function(e){var t=x()(e,2),n=t[0],o=t[1];return{network:null==r?void 0:r.find((function(e){return e.id===n})),data:o}}))}),[h,r]),_=Object(i.useMemo)((function(){return Object(Q.jsx)(xt.default,{mt:"56px",emoji:"\ud83e\udd11",title:a.formatMessage({id:"empty__no_tokens"}),subTitle:a.formatMessage({id:"empty__no_tokens_desc"},{0:null!=v?v:""})})}),[v,a]),S=Object(i.useCallback)((function(e){var t,n=e.section.network;return n?Object(Q.jsx)(te.default.Subheading,{mt:"6",mb:"2",color:"text-subdued",children:null==n||null==(t=n.name)?void 0:t.toUpperCase()}):null}),[]),I=Object(i.useCallback)((function(e){var t,n,r=e.item,o=e.index,i={name:r.name,logoURI:r.logoURI},c=new Cn.a(null!=(t=r.balance)?t:0).multipliedBy(null!=f?f:0),l=new Cn.a(null!=g?g:0),s=(l.isNaN()||l.isEqualTo(0)?new Cn.a(100):new Cn.a(null!=(n=r.balance)?n:0).dividedBy(l).multipliedBy(100)).toFixed(2)+"%",u=Object(Q.jsx)(ei.FormatBalance,{balance:r.balance,suffix:null==r?void 0:r.symbol,formatOptions:{fixed:6}}),d=Object(Q.jsxs)(gt.default,{alignItems:"center",flex:1,children:["Token"===r.type?Object(Q.jsx)(N.default,{size:"8",borderRadius:"999px",bg:"action-primary-default",justifyContent:"center",alignItems:"center",children:Object(Q.jsx)(ee.default,{size:20,color:"icon-on-primary",name:"WalletOutline"})}):Object(Q.jsx)(ft.default,{size:8,borderRadius:"full",source:"number"===typeof i.logoURI?i.logoURI:{uri:i.logoURI}}),Object(Q.jsxs)(Oe.default,{ml:"3",alignItems:"flex-start",children:[Object(Q.jsx)(te.default.Body1Strong,{isTruncated:!0,maxW:56,numberOfLines:1,children:"Token"===r.type&&(r.accountName||(null==O?void 0:O.name))||r.name}),w?Object(Q.jsx)(D.default,{label:a.formatMessage({id:"msg__asset_ratio"}),placement:"top",children:Object(Q.jsx)(N.default,{children:Object(Q.jsx)(st.default,{size:"sm",type:"info",title:s,mt:"1"})})}):null]})]});return w?Object(Q.jsxs)(Gt.default,{mx:"-8px",onPress:r.onPress,children:[Object(Q.jsx)(Gt.default.Column,{flex:"1",children:d}),Object(Q.jsx)(Gt.default.Column,{flex:1,alignItems:"flex-end",text:{label:Object(Q.jsx)(te.default.Body1Strong,{children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:0,convertValue:c})}),description:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:u})}})]}):Object(Q.jsxs)(Q.Fragment,{children:[0!==o?Object(Q.jsx)(N.default,{borderBottomWidth:1,borderColor:"divider"}):null,Object(Q.jsxs)(Gt.default,{mx:"-8px",py:4,onPress:r.onPress,children:[d,Object(Q.jsx)(N.default,{flex:1,flexDirection:"row",justifyContent:"flex-end",children:Object(Q.jsx)(D.default,{label:a.formatMessage({id:"msg__asset_ratio"}),placement:"top",children:Object(Q.jsx)(N.default,{children:Object(Q.jsx)(st.default,{size:"sm",type:"info",title:s})})})}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)(te.default.Body1Strong,{textAlign:"right",children:u})}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(Q.jsx)(te.default.Body1Strong,{textAlign:"right",children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:0,convertValue:c})})}})]})]})}),[w,f,g,null==O?void 0:O.name,a]);return Object(Q.jsx)(hn.Tabs.SectionList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:w?16:32},renderSectionHeader:S,sections:k.filter((function(e){var t;return s===Ac.FAKE_ALL_NETWORK.id||(null==(t=e.network)?void 0:t.id)===s})),renderItem:I,keyExtractor:function(e){var t;return e.networkId+"__"+e.name+"__"+e.balance+"__"+(null!=(t=e.address)?t:"")},ListFooterComponent:null!=h&&h.length?null:_,ListHeaderComponent:Object(Q.jsx)(Ec,{networks:k.map((function(e){return e.network})),value:s,onChange:function(e){return u(e)}})})},Nc=n(137),Lc=n(2640),Wc=n(3832),zc=n(707),Hc=n(4022),Fc=n(186),Uc=n(4026),Vc=n(833);function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yc=function(e){var t,n=e.height,r=void 0===n?"48px":n,o=e.onPress,a=e.explorer,c=e.index,l=e.triggerProps,s=Object(Uc.useGridBoxStyle)({index:c,maxW:zc.SCREEN_SIZE.LARGE,outPadding:32}),u=Object(z.useNetwork)({networkId:null==a?void 0:a.networkId}).network,d=Boolean(null==a?void 0:a.url),f=Object(i.useRef)(),b=Object(i.useMemo)((function(){return null!=u&&u.logoURI?Object(Q.jsx)(ft.default,{borderRadius:"12px",src:u.logoURI,alt:u.logoURI,size:"25px",ml:2}):null}),[u]);return Object(Q.jsx)($.default,qc(qc(qc({height:r,borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},s),{},{onPress:function(){null==o||o(d,f)}},l),{},{children:Object(Q.jsxs)(N.default,{flex:1,ref:f,flexDirection:"row",alignItems:"center",children:[d?null:b,Object(Q.jsxs)(N.default,{ml:"2",flex:1,children:[Object(Q.jsx)(te.default.Body2Strong,{numberOfLines:1,children:null==a?void 0:a.name}),null!=a&&a.contractAddress?Object(Q.jsx)(te.default.Caption,{color:"text-subdued",children:Object(Jr.shortenAddress)(null!=(t=null==a?void 0:a.contractAddress)?t:"")}):null]}),Object(Q.jsx)(N.default,{mr:"2",children:Object(Q.jsx)(ee.default,{name:d?"ArrowTopRightOnSquareMini":"EllipsisHorizontalMini",color:"icon-subdued",size:20})})]})}))},Kc=function(e){var t,n,r,o,a=e.links,c=Object(y.default)(),l=Object(i.useCallback)((function(e,t){Object(zn.openUrl)(null!=e?e:"",t,{modalMode:!0})}),[]);return Object(i.useMemo)((function(){return Object.values(a).filter((function(e){return e.length})).length}),[a])?Object(Q.jsxs)(pe.default,{mx:-4,horizontal:!0,flexDirection:"row",children:[null!=a&&null!=(t=a.homePageUrl)&&t.length?Object(Q.jsx)(re.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mx:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.homePageUrl,c.formatMessage({id:"form__website"}))},children:c.formatMessage({id:"form__website"})}):null,null!=a&&null!=(n=a.twitterUrl)&&n.length?Object(Q.jsx)(re.default,{type:"basic",size:"base",leftIconName:"TwitterOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.twitterUrl,"Twitter")},children:"Twitter"}):null,null!=a&&null!=(r=a.telegramUrl)&&r.length?Object(Q.jsx)(re.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.telegramUrl,"Telegram")},children:"Telegram"}):null,null!=a&&null!=(o=a.discordUrl)&&o.length?Object(Q.jsx)(re.default,{type:"basic",size:"base",leftIconName:"DiscordOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.discordUrl,"Discord")},children:"Discord"}):null]}):null};function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zc=function(e){var t,n=e.explorer,r=e.index,o=Object(y.default)(),a=Object(Uc.useGridBoxStyle)({index:r,maxW:zc.SCREEN_SIZE.LARGE,outPadding:32}).width,c=Object(i.useCallback)((function(){setTimeout((function(){n.contractAddress&&Object($r.copyToClipboard)(n.contractAddress)}),200),qt.default.show({title:o.formatMessage({id:"msg__copied"})})}),[n.contractAddress,o]),l=Object(z.useNetwork)({networkId:n.networkId}).network,s=Object(Cr.default)(l).openAddressDetails,u=Object(i.useCallback)((function(e){return Object(Q.jsx)(Yc,{index:r,explorer:n,triggerProps:e},r)}),[n,r]);return Object(Q.jsxs)(wt.default,{offset:Fc.defaultMenuOffset,width:a,minWidth:220,trigger:u,children:[Object(Q.jsx)(wt.default.CustomItem,{onPress:c,icon:"DocumentDuplicateMini",children:o.formatMessage({id:"action__copy_address"})}),null==n||!n.networkId||null!=l&&null!=(t=l.settings)&&t.hiddenBlockBrowserTokenDetailLink?null:Object(Q.jsx)(wt.default.CustomItem,{onPress:function(){var e;s(null!=(e=n.contractAddress)?e:"",o.formatMessage({id:"form__explorers"}))},icon:"ArrowTopRightOnSquareMini",children:o.formatMessage({id:"action__view_in_browser"})})]})},Jc=function(e){var t=e.title,n=e.value,r=e.subValue,o=e.valueColor,a=e.index,i=e.isFetching,c=Object(Uc.useGridBoxStyle)({index:a,outPadding:32,maxW:zc.SCREEN_SIZE.LARGE});return Object(Q.jsxs)(N.default,Qc(Qc({},c),{},{children:[Object(Q.jsxs)(N.default,{alignItems:"flex-start",justifyContent:"space-between",mb:2,flex:1,children:[Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",children:t}),Object(Q.jsxs)(N.default,{flex:1,alignItems:"flex-start",children:[i?Object(Q.jsx)(ne.default,{shape:"Body2"}):Object(Q.jsx)(te.default.Body2Strong,{textAlign:"right",numberOfLines:2,color:null!=o?o:"text-default",children:n}),r?Object(Q.jsx)(te.default.Caption,{color:"text-subdued",children:r}):null]})]}),Object(Q.jsx)(mt.default,{})]}))},$c=function(e){var t=e.low24h,n=e.high24h,r=e.volume24h,o=e.marketCapRank,a=e.marketCap,c=e.expolorers,l=e.about,s=e.links,u=e.px,d=e.atl,f=e.ath,b=Object(y.default)(),j=Object(z.useSettings)().selectedFiatMoneySymbol,p=Object(Hc.useCurrencyUnit)(j),O=Object(i.useMemo)((function(){var e,t,n=new Date(null!=(e=null==f?void 0:f.time)?e:""),r=new Date(null!=(t=null==d?void 0:d.time)?t:"");return{athTime:Object(Lc.default)(n)?Object(Wc.default)(n,"yyyy-MM-dd"):void 0,atlTime:Object(Lc.default)(r)?Object(Wc.default)(r,"yyyy-MM-dd"):void 0}}),[f,d]),m=O.athTime,x=O.atlTime;return Object(Q.jsx)(N.default,{px:u,children:Object(Q.jsxs)(Oe.default,{space:6,my:2,children:[Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"content__stats"})}),Object(Q.jsx)(Uc.GridLayout,{children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:[Object(Q.jsx)(Jc,{index:0,isFetching:void 0===a,title:b.formatMessage({id:"form__market_cap"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(a))}),Object(Q.jsx)(Jc,{index:1,isFetching:void 0===o,title:b.formatMessage({id:"form__market_cap_rank"}),value:"#"+(null!=o?o:0)}),Object(Q.jsx)(Jc,{index:2,isFetching:void 0===r,title:b.formatMessage({id:"form__24h_volume"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(r))}),Object(Q.jsx)(Jc,{index:3,isFetching:void 0===t,title:b.formatMessage({id:"form__24h_low"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(t))}),Object(Q.jsx)(Jc,{index:4,isFetching:void 0===n,title:b.formatMessage({id:"form__24h_high"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(n))}),Object(Q.jsx)(Jc,{index:5,isFetching:void 0===(null==d?void 0:d.value),title:b.formatMessage({id:"form__all_time_low"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(null==d?void 0:d.value)),subValue:x}),Object(Q.jsx)(Jc,{index:6,isFetching:void 0===(null==f?void 0:f.value),title:b.formatMessage({id:"form__all_time_high"}),value:Object(Vc.formatMarketUnitPosition)(p,Object(Vc.formatMarketValueForInfo)(null==f?void 0:f.value)),subValue:m})]})})]}),null!=c&&c.length?Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"form__explorers"})}),Object(Q.jsx)(Uc.GridLayout,{children:Object(Q.jsx)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:null==c?void 0:c.map((function(e,t){return e.url?Object(Q.jsx)(Yc,{index:t,explorer:e,onPress:function(){var t;Object(zn.openUrl)(null!=(t=e.url)?t:"",b.formatMessage({id:"form__explorers"}),{modalMode:!0})}},t):Object(Q.jsx)(Zc,{explorer:e,index:t})}))})})]}):null,null!=l&&l.length?Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"title__about"})}),Object(Q.jsx)(te.default.Body2,{noOfLines:5,children:l})]}):null,s?Object(Q.jsx)(Kc,{links:s}):null]})})},el=n(544),tl=function(e){var t=e.coingeckoId,n=Object(z.useAppSelector)((function(e){return e.market.details})),r=Object(z.useAppSelector)((function(e){return e.settings.locale})),o=Object(i.useMemo)((function(){return n[t]}),[t,n]);return Object(i.useEffect)((function(){W.default.serviceMarket.fetchMarketDetail({coingeckoId:t,locale:"system"===r?Object(el.getDefaultLocale)():r})}),[t,r]),{tokenDetail:o}},nl=function(e){var t,n,r,o,a,i,c,l=e.coingeckoId,s=tl({coingeckoId:l}).tokenDetail,u=Object(je.default)().bottom;return Object(Q.jsx)(N.default,{mt:"20px",mb:u,children:Object(Q.jsx)($c,{low24h:null==s||null==(t=s.stats)?void 0:t.low24h,high24h:null==s||null==(n=s.stats)?void 0:n.high24h,marketCapRank:null==s||null==(r=s.stats)?void 0:r.marketCapRank,marketCap:null==s||null==(o=s.stats)?void 0:o.marketCap,volume24h:null==s||null==(a=s.stats)?void 0:a.volume24h,expolorers:null==s?void 0:s.explorers,about:null==s?void 0:s.about,links:null==s?void 0:s.links,atl:null==s||null==(i=s.stats)?void 0:i.atl,ath:null==s||null==(c=s.stats)?void 0:c.ath})})},rl=function(e){var t=e.coingeckoId,n=Object(y.default)();return t&&Object(Nc.isValidCoingeckoId)(t)?Object(Q.jsx)(nl,{coingeckoId:t}):Object(Q.jsx)(N.default,{py:"24px",flexDirection:"column",alignItems:"center",children:Object(Q.jsx)(xt.default,{emoji:"\ud83e\udd37\u200d\u2640\ufe0f",title:n.formatMessage({id:"empty__no_info"}),subTitle:n.formatMessage({id:"empty__no_info_desc"})})})},ol=function(e){var t=e.coingeckoId,n=Object(j.default)(),r=Object(i.useCallback)((function(){return Object(Q.jsx)(rl,{coingeckoId:t})}),[t]);return Object(Q.jsx)(hn.Tabs.FlatList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:n?16:32},ListHeaderComponent:r,data:[],renderItem:function(){return null}})},al=function(){var e,t,n,r=Object(y.default)(),o=Object(i.useContext)(Rc),a=null!=(e=null==o?void 0:o.routeParams)?e:{},c=a.walletId,l=a.accountId,s=a.networkId,u=a.tokenAddress,d=a.coingeckoId,f=a.symbol,b=a.price,j=Object(z.useTokenPositionInfo)({walletId:null!=c?c:"",networkId:null!=s?s:"",accountId:null!=l?l:"",tokenAddress:null!=u?u:"",coingeckoId:d});return Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.Heading,{children:r.formatMessage({id:"content__balance"})}),Object(Q.jsx)(ei.FormatBalance,{balance:null!=(t=j.balance)?t:0,suffix:f,formatOptions:{fixed:6},render:function(e){return Object(Q.jsx)(te.default.DisplayXLarge,{children:e})}}),Object(Q.jsx)(te.default.Body2,{mt:"4px",color:"text-subdued",children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:new Cn.a(null!=(n=null==j?void 0:j.balance)?n:0).times(null!=b?b:0)})})]})},il=n(1090),cl=n(384),ll=n(681),sl=n(4185),ul=n(1609),dl=n(4043),fl=function(e){var t=e.stakingType,n=e.children,r=Object(z.useActiveWalletAccount)(),o=r.accountId,a=r.networkId;return Object(No.isAllNetworks)(a)||Object(dl.isAccountCompatibleWithStakingTypes)(o,t)?Object(Q.jsx)(Q.Fragment,{children:n}):null},bl=function(e){var t=e.stakingType,r=Object(y.default)(),o=Object(z.useNavigation)(),a=Object(z.useActiveWalletAccount)(),c=a.accountId,l=a.networkId,s=Object(cl.useAllNetworksSelectNetworkAccount)({accountId:c,networkId:l,filter:Object(dl.getStakeSelectNetworkAccountFilter)(t)});Object(i.useEffect)((function(){W.default.serviceStaking.fetchEthAprSma()}),[]);var u=Object(z.useAppSelector)((function(e){return e.staking.ethStakingApr})),d=Object(i.useMemo)((function(){if(u){var e=l===no.OnekeyNetwork.eth?u.mainnet:u.testnet;return e.kele>e.lido?{name:"Kele \u2022 Ethereum",value:Object(ll.formatAmount)(e.kele,2)+"%",logo:n(1384)}:{name:"Lido \u2022 Ethereum",value:Object(ll.formatAmount)(e.lido,2)+"%",logo:n(4042)}}}),[u,l]),f=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=yield s(),n=t.account,r=t.network;e===ul.EthStakingSource.Kele?o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:ul.StakingRoutes.StakedETHOnKele,params:{accountId:n.id,networkId:r.id}}}):o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:ul.StakingRoutes.StakedETHOnLido,params:{accountId:n.id,networkId:r.id}}})}));return function(t){return e.apply(this,arguments)}}(),[o,s]),j=Object(i.useCallback)((function(){d&&("Kele \u2022 Ethereum"===d.name?f(ul.EthStakingSource.Kele):f(ul.EthStakingSource.Lido))}),[d,f]),p=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:ul.StakingRoutes.ETHPoolSelector,params:{networkId:l,accountId:c,onSelector:f}}})}),[o,l,c,f]);return d?Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"16",children:[Object(Q.jsx)(te.default.Heading,{children:r.formatMessage({id:"form__top_yields"})}),Object(Q.jsx)(re.default,{type:"plain",size:"sm",pr:"0",rightIconName:"ChevronRightMini",onPress:p,children:r.formatMessage({id:"action__view_all"})})]}),Object(Q.jsx)(sl.Options,{title:"ETH",subtitle:d.name,num:d.value,logo:d.logo,onPress:j})]}):null},jl=function(e){var t=e.token,n=Object(dl.isSupportStakingType)({networkId:null==t?void 0:t.networkId,tokenIdOnNetwork:null==t?void 0:t.tokenIdOnNetwork});return n===dl.StakingTypes.eth?Object(Q.jsx)(fl,{stakingType:n,children:Object(Q.jsx)(bl,{stakingType:n})}):null},pl=function(e){var t=e.stakingType,r=Object(y.default)(),o=Object(z.useNavigation)(),a=Object(z.useActiveWalletAccount)(),c=a.accountId,l=a.networkId,s=Object(z.useAppSelector)((function(e){return e.staking.ethStakingApr})),u=Object(cl.useAllNetworksSelectNetworkAccount)({accountId:c,networkId:l,filter:Object(dl.getStakeSelectNetworkAccountFilter)(t)}),d=Object(i.useMemo)((function(){if(s){var e=l===no.OnekeyNetwork.eth?s.mainnet:s.testnet;return{name:"Lido \u2022 Ethereum",value:Object(ll.formatAmount)(e.lido,2)+"%",logo:n(4042)}}}),[s,l]),f=Object(i.useCallback)(Sn()((function*(){var e=yield u(),t=e.account,n=e.network;o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:ul.StakingRoutes.LidoEthStakeShouldUnderstand,params:{networkId:n.id,accountId:t.id}}})})),[o,u]);return Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"16",children:[Object(Q.jsx)(te.default.Heading,{children:r.formatMessage({id:"form__related_pool"})}),Object(Q.jsx)(N.default,{})]}),d?Object(Q.jsx)(sl.Options,{title:"ETH",subtitle:d.name,num:d.value,logo:d.logo,onPress:f}):null,Object(Q.jsx)(N.default,{py:"1",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:r.formatMessage({id:"content__when_you_stake_str_you_receive_str"},{0:"ETH",1:"stETH"})})})]})},Ol=function(e){var t=e.token;return Object(dl.isSTETH)(null==t?void 0:t.networkId,null==t?void 0:t.tokenIdOnNetwork)?Object(Q.jsx)(fl,{stakingType:dl.StakingTypes.eth,children:Object(Q.jsx)(pl,{stakingType:dl.StakingTypes.eth})}):null};function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hl=function(e){var t=e.icon,n=e.text,r=e.onPress,o=e.isDisabled,a=Object(j.default)();return Object(i.useMemo)((function(){var e=Object(Q.jsxs)(N.default,{mx:a?0:3,alignItems:"center",children:["function"===typeof r?Object(Q.jsx)(il.default,{children:Object(Q.jsx)(vt.default,{circle:!0,size:a?"lg":"sm",name:t,type:"basic",isDisabled:o,onPress:r,w:a?"42px":"34px",h:a?"42px":"34px"})}):Object(Q.jsx)(N.default,{p:a?2:1.5,alignItems:"center",justifyContent:"center",borderWidth:"1px",borderRadius:"999px",borderColor:"border-default",bg:"action-secondary-default",w:a?"42px":"34px",h:a?"42px":"34px",children:Object(Q.jsx)(ee.default,{name:t,size:a?24:20})}),Object(Q.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:o?"text-disabled":"text-default",children:n})]});return"function"===typeof r&&(e=Object(Q.jsx)($.default,{onPress:r,children:e})),e}),[t,a,n,r,o])},gl=function(){var e,t,n,r=Object(y.default)(),o=Object(j.default)(),a=Object(z.useNavigation)(),c=Object(i.useContext)(Rc),l=null!=(e=null==c?void 0:c.routeParams)?e:{},s=l.walletId,u=void 0===s?"":s,f=l.accountId,p=void 0===f?"":f,O=l.networkId,m=void 0===O?"":O,x=l.sendAddress,h=null!=(t=null==c?void 0:c.detailInfo)?t:{},g=h.symbol,v=h.logoURI,w=h.fiatUrls,k=null!=(n=null==c?void 0:c.detailInfo)?n:{},_=k.tokens,S=k.loading,I=k.ethereumNativeToken,C=Object(z.useWallet)({walletId:u}).wallet,P=Object(i.useMemo)((function(){return Object(No.isAllNetworks)(m)&&S}),[S,m]),M=Object(z.useNetwork)({networkId:m}).network,A=Object(i.useCallback)((function(e){var t=e.network;return!(null==t||!t.id)&&!(null==_||!_.some((function(e){return e.networkId===(null==t?void 0:t.id)})))}),[_]),T=Object(cl.useAllNetworksSelectNetworkAccount)({networkId:m,accountId:p,filter:A}),D=Object(i.useCallback)((function(e){var t=e.network,n=e.account,r=e.token;a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:ac.SendModalRoutes.PreSendAddress,params:{accountId:n.id,networkId:t.id,from:"",to:"",amount:"",token:null==r?void 0:r.address,tokenSendAddress:null==r?void 0:r.sendAddress}}})}),[a]),R=Object(i.useCallback)((function(e){var t=e.network,n=e.account;C&&(Object(Pn.isLightningNetworkByImpl)(t.impl)?a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:b.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:n.id}}}):a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:b.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:C,network:t,account:n,template:n.template}}}))}),[a,C]),E=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=e.token,n=e.account,r=e.network;t&&(yield W.default.serviceSwap.buyToken(t),n&&r&&W.default.serviceSwap.setRecipientToAccount(n,r),a.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Swap}}))}));return function(t){return e.apply(this,arguments)}}(),[a]),B=Object(i.useCallback)((function(e){a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:e}}})}),[a]),L=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=e.token,n=e.account,r=e.network,o=yield W.default.serviceFiatPay.getFiatPayUrl({type:"buy",address:null==n?void 0:n.address,tokenAddress:null==t?void 0:t.address,networkId:null==r?void 0:r.id});B(o)}));return function(t){return e.apply(this,arguments)}}(),[B]),H=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=e.account,n=e.network,r=e.token,o=yield W.default.serviceFiatPay.getFiatPayUrl({type:"sell",address:null==t?void 0:t.address,tokenAddress:null==r?void 0:r.address,networkId:null==n?void 0:n.id});B(o)}));return function(t){return e.apply(this,arguments)}}(),[B]),F=Object(i.useCallback)((function(e){T().then((function(t){var n=t.network,r=t.account,o=null==_?void 0:_.find((function(e){var t,r,o=(null==n?void 0:n.id)===(null!=(t=e.impl)?t:"")+"--"+(null!=(r=e.chainId)?r:"");return x?o&&x===e.sendAddress:o}));o&&(null==e.onPress||e.onPress({network:n,account:r,token:o}))}))}),[T,_,x]),U=Object(i.useMemo)((function(){return!(null!=M&&M.settings.hiddenAccountInfoSwapOption)}),[M]),V=Object(i.useMemo)((function(){return!(null!=M&&M.settings.hiddenAccountInfoMoreOption)}),[M]),G=Object(i.useMemo)((function(){var e=[{id:"action__send",onPress:D,icon:"PaperAirplaneOutline"},{id:"action__receive",onPress:R,icon:"QrCodeMini"},{id:"title__swap",onPress:E,icon:"ArrowsRightLeftSolid",visible:function(){return U}},{id:"action__buy",onPress:L,icon:"PlusMini",visible:function(){var e;return!d.default.isAppleStoreEnv&&V&&!(null==w||null==(e=w[m])||!e.buy)}},{id:"action__sell",onPress:H,icon:"BanknotesMini",visible:function(){var e;return!d.default.isAppleStoreEnv&&V&&!(null==w||null==(e=w[m])||!e.sell)}}].map((function(e){return xl(xl({},e),{},{isDisabled:P})})).filter((function(e){return!e.visible||(null==e||null==e.visible?void 0:e.visible())})),t=o?4:3;return{buttons:e.slice(0,t),options:e.slice(t).map((function(e){return xl(xl({},e),{},{onPress:function(){F(e)}})}))}}),[m,w,P,F,o,L,H,E,R,D,U,V]),q=G.buttons,Y=G.options;return Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)(gt.default,{justifyContent:"space-between",children:[!o&&Object(Q.jsx)(At.default,{flex:"1",showInfo:!0,size:8,token:{name:g,logoURI:v}}),Object(Q.jsxs)(gt.default,{justifyContent:"space-between",w:o?"100%":void 0,children:[q.map((function(e){return Object(Q.jsx)(hl,{onPress:function(){F(e)},icon:e.icon,text:r.formatMessage({id:e.id}),isDisabled:P},e.id)})),V&&null!=Y&&Y.length?Object(Q.jsx)(Fc.default,{ml:"26px",options:Y,children:Object(Q.jsx)($.default,{children:Object(Q.jsx)(hl,{icon:"EllipsisVerticalOutline",text:r.formatMessage({id:"action__more"}),isDisabled:P})})}):null]})]}),I&&!Object(No.isAllNetworks)(m)?Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(jl,{token:I}),Object(Q.jsx)(Ol,{token:I})]}):null]})},vl=n(5352);var yl=function(){var e=Sn()((function*(e){var t=e.networkId,n=e.contract,r=void 0===n?"main":n,o=e.vs_currency,a=void 0===o?"usd":o,i=e.points,c=e.days;return(yield W.default.engine.getChart({networkId:t,addresses:[r],days:c,vs_currency:a,points:i}))[r]}));return function(t){return e.apply(this,arguments)}}(),wl=function(e){var t=e.data,n=e.onHover,r=e.lineColor,o=e.topColor,a=e.bottomColor,c=e.height,l=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(l.current){var e=function(e,t,n,r){var o=e(t,{height:r,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),a=function(){o.applyOptions({width:t.clientWidth})};return o.subscribeCrosshairMove((function(e){var t=e.time,r=e.seriesPrices;n({time:t,price:r.values().next().value})})),o.timeScale().fitContent(),window.addEventListener("resize",a),window._onekey_chart=o,{chart:o,handleResize:a}}(vl.createChart,l.current,n,c),t=e.chart,r=e.handleResize;return function(){window.removeEventListener("resize",r),t.remove()}}}),[]),Object(i.useEffect)((function(){!function(e){var t=e.lineColor,n=e.topColor,r=e.bottomColor,o=e.data,a=o.map((function(e){var t=x()(e,2);return{time:t[0],value:t[1]}})),i=window._onekey_chart;if(!i._onekey_series){var c=i.addAreaSeries({lineColor:t,topColor:n,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return c.setData(a),void(i._onekey_series=c)}var l=i._onekey_series;l.applyOptions({lineColor:t,topColor:n,bottomColor:r}),l.setData(a),o.length>2&&i.timeScale().setVisibleLogicalRange({from:.4,to:o.length-1.4})}({bottomColor:a,topColor:o,lineColor:r,data:t})}),[a,o,t,r]),Object(Q.jsx)("div",{style:{width:"100%",height:c},ref:l})};wl.displayName="ChartViewAdapter";var kl=wl,_l=function(e){var t=e.data,n=e.onHover,r=e.height,o=e.isFetching,i=Object(a.default)("interactive-default"),c=Object(a.default)("action-primary-focus");return Object(Q.jsx)(kl,{isFetching:o,height:r,data:t,lineColor:i,topColor:c,bottomColor:"#00FF1900",onHover:n})};_l.displayName="ChartView";var Sl=Object(i.memo)(_l),Il=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=e.onPriceSubscribe;if(null!==n){var i=Object(ll.calculateGains)({basePrice:r,price:n}),c=i.gainText,l=i.percentageGain,s=i.gainTextColor;t=Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(te.default.Body2Strong,{color:s,children:[c,"(",l,")"]}),Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:"+0.00(+0.00%)"});return Object(Q.jsxs)(N.default,{flexDirection:"column",children:[Object(Q.jsxs)($.default,{disabled:Boolean(!a),flexDirection:"row",alignItems:"center",onPress:function(){a&&a(n||0)},children:[Object(Q.jsx)(te.default.DisplayXLarge,{mr:2,children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:n||0})}),a?Object(Q.jsx)(ee.default,{name:"BellSolid",size:20}):null]}),Object(Q.jsx)(N.default,{mt:"4px",flexDirection:"row",alignItems:"center",children:t})]})},Cl=function(e){var t,n=e.data,r=e.isFetching,o=e.timeDefaultLabel,a=e.children,c=e.onPriceSubscribe,l=Object(Pr.default)().formatDate,s=Object(y.default)(),u=Object(i.useState)(),d=x()(u,2),f=d[0],b=d[1],p=Object(i.useState)(""),O=x()(p,2),m=O[0],h=O[1],g=Object(j.default)(),v=null!=n&&n.length?n[0][1]:0,w=null!=n&&n.length?n[n.length-1][1]:0;t=n?"undefined"===f||void 0===f?w:"string"===typeof f?+f:f:null;var k=Object(i.useCallback)((function(e){var t;t=e.time instanceof Date?l(e.time):"number"===typeof e.time?l(new Date(e.time)):"string"===typeof e.time?l(new Date(+e.time)):"",h(t),b(e.price)}),[l]),_=Object(Q.jsx)(Il,{onPriceSubscribe:c,price:t,time:m||o,basePrice:v}),S=n&&n.length>0?Object(Q.jsx)(Sl,{isFetching:r,height:g?190:240,data:n,onHover:k}):Object(Q.jsx)(xt.default,{emoji:"\ud83d\udcca",title:s.formatMessage({id:"empty__no_data"}),subTitle:s.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})}),I=r?Object(Q.jsx)(It.default,{}):S;return g?Object(Q.jsxs)(Q.Fragment,{children:[_,Object(Q.jsx)(N.default,{h:"190px",mt:"24px",justifyContent:"center",alignItems:"center",children:I}),Object(Q.jsx)(N.default,{mt:"8px",children:a})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",children:[_,Object(Q.jsx)(N.default,{w:"280px",children:n?a:null})]}),Object(Q.jsx)(N.default,{h:"240px",mt:"32px",justifyContent:"center",alignItems:"center",children:I})]})};Cl.displayName="ChartWithLabel";var Pl=Cl,Ml=["1D","1W","1M","1Y","All"],Al=["1","7","30","365","max"],Tl=["content__past_24_hours","content__past_7_days","content__past_month","content__past_year","content__since_str"],Dl=function(e){var t=e.selectedIndex,n=e.onTimeChange,r=e.enabled,o=Object(a.default)("background-default");return Object(Q.jsx)(St.default,{enabled:r,style:{marginTop:5},values:Ml,onValueChange:n,selectedIndex:t,backgroundColor:o})};Dl.displayName="TimeControl";var Rl=Dl,El=function(e,t){var n=Object(y.default)(),r=Object(Pr.default)().formatDate;return Object(i.useMemo)((function(){var o;return e===Tl.length-1?n.formatMessage({id:Tl[e]},{0:t?null==(o=r(new Date(t)).split(","))?void 0:o[0]:""}):n.formatMessage({id:Tl[e]})}),[r,n,e,t])},Bl=n(4025),Nl=function(e){var t,n,r=e.coingeckoId,o=e.style,a=Object(w.useNavigation)(),c=Object(i.useState)(0),l=x()(c,2),s=l[0],u=l[1];Object(j.default)()?n="100":d.default.isNativeIOSPad&&(n="300");var f=Object(Bl.useMarketTokenChart)({coingeckoId:r,days:Al[s],points:n}).chart,p=El(s,null==f||null==(t=f[0])?void 0:t[0]),O=Object(Bl.useMarketTokenItem)({coingeckoId:r}),m=Object(i.useCallback)((function(e){a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageToken,params:{screen:b.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:r,symbol:null==O?void 0:O.symbol,logoURI:null==O?void 0:O.logoURI}}}})}),[r,a,null==O?void 0:O.logoURI,null==O?void 0:O.symbol]),h=Object(i.useCallback)((function(e){var t=Ml.indexOf(e);u(t)}),[]),g=Object(i.useMemo)((function(){return!(f&&f.length>0)}),[f]);return Object(Q.jsx)(N.default,{style:o,children:Object(Q.jsx)(Pl,{onPriceSubscribe:Object(Nc.isValidCoingeckoId)(r)?m:void 0,timeDefaultLabel:p,isFetching:g,data:f||[],children:Object(Q.jsx)(Rl,{enabled:!g,selectedIndex:s,onTimeChange:h})})})};Nl.displayName="MarketPriceChart";var Ll=Nl,Wl=n(196),zl=function(e){var t,n,r,o,a,c=e.coingeckoId,l=e.contract,s=e.networkId,u=e.style,f=e.symbol,p=Object(i.useState)(!0),O=x()(p,2),m=O[0],h=O[1],g=Object(w.useNavigation)(),v=Object(i.useState)(0),y=x()(v,2),k=y[0],_=y[1],S=Object(Wl.useSimpleTokenPriceValue)({networkId:s,contractAdress:l}),I=Object(i.useRef)([]),C=El(k,null==(t=I.current)||null==(n=t[k])||null==(r=n[0])?void 0:r[0]),P=Object(z.useSettings)().selectedFiatMoneySymbol,M=void 0===S||null===S;Object(j.default)()?a="100":d.default.isNativeIOSPad&&(a="300");var A=Object(Bl.useMarketTokenItem)({coingeckoId:c}),T=Object(i.useCallback)((function(e){g.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageToken,params:{screen:b.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:c,symbol:null!=f?f:null==A?void 0:A.symbol,logoURI:null==A?void 0:A.logoURI}}}})}),[c,g,null==A?void 0:A.logoURI,null==A?void 0:A.symbol,f]),D=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t=Ml.indexOf(e);if(!I.current[t]){h(!0);var n=yield yl({contract:l,networkId:s,days:Al[t],points:a,vs_currency:P});null!=n&&n.length&&(I.current[t]=n)}_(t),h(!1)}));return function(t){return e.apply(this,arguments)}}(),[l,s,a,P]);return Object(i.useEffect)((function(){D(Ml[0])}),[D]),Object(Q.jsx)(N.default,{style:u,children:Object(Q.jsx)(Pl,{onPriceSubscribe:Object(Nc.isValidCoingeckoId)(c)?T:void 0,isFetching:m,timeDefaultLabel:C,data:M?null:(null==(o=I.current)?void 0:o[k])||[],children:Object(Q.jsx)(Rl,{enabled:!m&&!M,selectedIndex:k,onTimeChange:D})})})};zl.displayName="PriceChart";var Hl=zl,Fl=function(e){var t=e.networkId,n=void 0===t?"":t,r=e.coingeckoId,o=e.tokenAddress,a=e.symbol;return Object(i.useMemo)((function(){return Object(No.isAllNetworks)(n)?Object(Q.jsx)(Ll,{coingeckoId:null!=r?r:""}):Object(Q.jsx)(Hl,{networkId:n,contract:o,coingeckoId:r,symbol:a},n+"--"+(null!=o?o:""))}),[r,a,n,o])};function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gl=function(){var e=Object(ye.default)().size,t=Object(z.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),n=Object(i.useContext)(Rc),r=Object(i.useMemo)((function(){return"SMALL"===e?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(al,{}),Object(Q.jsx)(gl,{})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(gl,{}),t&&null!=n&&n.routeParams?Object(Q.jsx)(Fl,Vl({},null==n?void 0:n.routeParams)):null,Object(Q.jsx)(al,{})]})}),[e,t,null==n?void 0:n.routeParams]);return Object(Q.jsx)(Oe.default,{px:["NORMAL","LARGE"].includes(e)?8:4,space:"6",bg:"background-default",children:r})},ql=function(e){var t=e.coingeckoId,n=e.size,r=e.type,o=e.circle,a=Object(y.default)(),i=Object(Bl.useMarketTokenItem)({coingeckoId:t}),c="undefined"===typeof i,l=null!=i&&i.favorited?"icon-warning":"icon-default";return c&&(l="icon-disabled"),Object(Q.jsx)(vt.default,{isDisabled:c,name:null!=i&&i.favorited?"StarSolid":"StarOutline",circle:o,iconColor:l,onPress:function(){i&&(i.favorited?(W.default.serviceMarket.cancelMarketFavoriteToken(i.coingeckoId),qt.default.show({title:a.formatMessage({id:"msg__removed"})})):(W.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:i.coingeckoId,symbol:i.symbol}]),qt.default.show({title:a.formatMessage({id:"msg__added_to_favorites"})})))},size:n,type:r})},Yl=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),n=Object(i.useCallback)((function(){(0,W.default.dispatch)(Object(mi.setShowTokenDetailPriceChart)(!t))}),[t]),r=Object(i.useMemo)((function(){return[function(){return Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:"10px",px:3,onPress:n,children:[Object(Q.jsx)(te.default.Body2,{flex:"1",children:e.formatMessage({id:t?"action__hide_chart":"action__show_chart"})}),Object(Q.jsx)(Ot.default,{isChecked:!!t,mr:"-12px",pointerEvents:"none"})]})}]}),[e,t,n]);return Object(Q.jsx)(Fc.default,{ml:"26px",options:r,children:Object(Q.jsx)(vt.default,{circle:!0,size:"sm",name:"EllipsisVerticalOutline",w:"34px",h:"34px",type:"plain"})})},Kl=n(547);function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zl,Jl=Object(i.memo)((function(){var e,t=Object(i.useRef)(null),n=Object(y.default)(),r=Object(je.default)().bottom,o=Object(i.useContext)(Rc),a=null!=(e=null==o?void 0:o.routeParams)?e:{},c=a.price,l=a.price24h,s=Object(ll.calculateGains)({price:c,basePrice:new Cn.a(null!=c?c:0).multipliedBy(1-(null!=l?l:0)/100).toNumber()}),u=s.percentageGain,d=s.gainTextColor,f=Object(i.useCallback)((function(){null!=o&&o.routeParams&&(null!=t&&t.current&&(null==t||null==t.current||t.current()),t.current=Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Kl.BottomSheetSettings,{closeOverlay:e,children:Object(Q.jsx)(Fl,Ql({},null==o?void 0:o.routeParams))})})))}),[null==o?void 0:o.routeParams]);return Object(w.useFocusEffect)(Object(i.useCallback)((function(){return function(){null==t||null==t.current||t.current()}}),[])),c&&l?Object(Q.jsxs)($.default,{pb:Math.max(r,32)+"px",position:"absolute",bottom:"0",left:"0",w:"full",alignItems:"center",display:"flex",justifyContent:"space-between",flexDirection:"row",px:"3",pt:"2",borderTopRadius:"12px",borderTopWidth:"1px",borderTopColor:"border-subdued",onPress:f,children:[Object(Q.jsx)(te.default.Body2Strong,{flex:"1",display:"flex",children:n.formatMessage({id:"form__current_price"})}),Object(Q.jsx)(te.default.Body2,{mx:"1",children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:0,convertValue:+(c||0)})}),Object(Q.jsx)(te.default.Body2,{color:d,children:u}),Object(Q.jsx)(ee.default,{name:"ChevronUpMini",size:20})]}):null})),$l=["walletId","coingeckoId","networkId","tokenAddress","accountId","sendAddress"];!function(e){e.Assets="Assets",e.History="History",e.Info="Info"}(Zl||(Zl={}));var es=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(j.default)(),c=Object(w.useRoute)(),l=Object(w.useNavigation)(),s=c.params,u=s.walletId,d=s.coingeckoId,f=s.networkId,b=s.tokenAddress,p=s.accountId,m=s.sendAddress,h=O()(s,$l),g=Object(z.useTokenDetailInfo)({networkId:f,accountId:p,tokenAddress:b,coingeckoId:d,defaultInfo:h}),v=Object(z.useTokenPositionInfo)({coingeckoId:d,networkId:f,tokenAddress:b,accountId:p,sendAddress:m,walletId:u}),k=Object(z.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),_=Object(i.useMemo)((function(){return Object(Pn.isLightningNetworkByNetworkId)(f)}),[f]),S=Object(i.useMemo)((function(){var e=a?210:194;return null!=g&&g.ethereumNativeToken&&!Object(No.isAllNetworks)(f)&&(e+=132),k&&!a&&(e+=332),e}),[f,null==g?void 0:g.ethereumNativeToken,a,k]),I=Object(i.useCallback)((function(){return a?Object(Q.jsxs)(gt.default,{space:"8px",alignItems:"center",children:[Object(Q.jsx)(At.default,{size:"24px",showTokenVerifiedIcon:!0,token:g}),Object(Q.jsx)(te.default.Heading,{children:null==g?void 0:g.symbol})]}):null}),[a,g]),C=Object(i.useCallback)((function(){return a?Object(Q.jsx)(ql,{coingeckoId:d,type:"plain",size:"xl"}):Object(Q.jsx)(Yl,{})}),[a,d]);Object(i.useLayoutEffect)((function(){l.setOptions({title:"",headerTitle:I,headerRight:C})}),[C,I,l]);var P=Object(i.useCallback)((function(e){var t=e.nativeEvent.layout.width;o(t>1280)}),[]),M=Object(i.useMemo)((function(){return{routeParams:c.params,detailInfo:g,positionInfo:v}}),[c.params,g,v]);return Object(Q.jsx)(Rc.Provider,{value:M,children:Object(Q.jsxs)(gt.default,{flex:1,justifyContent:"center",onLayout:P,position:"relative",children:[Object(Q.jsxs)(hn.Tabs.Container,{disableRefresh:!0,renderHeader:function(){return Object(Q.jsx)(Gl,{})},headerHeight:S,containerStyle:{maxWidth:1088,flex:1},children:[Object(Q.jsx)(hn.Tabs.Tab,{name:Zl.Assets,label:e.formatMessage({id:"content__asset"}),children:Object(Q.jsx)(Bc,{})}),Object(Q.jsx)(hn.Tabs.Tab,{name:Zl.History,label:e.formatMessage({id:"transaction__history"}),children:Object(Q.jsx)(Cc,{accountId:p,networkId:f,tokenId:Object(No.isAllNetworks)(f)?d:b,tabComponent:!0})}),Object(Q.jsx)(hn.Tabs.Tab,{name:Zl.Info,label:e.formatMessage({id:"content__info"}),children:Object(Q.jsx)(ol,{coingeckoId:d})})]},String(S)),a||!r||Object(No.isAllNetworks)(f)||_?null:Object(Q.jsx)(N.default,{width:"360px",mt:"6",mr:"8",children:Object(Q.jsx)(Ki,{tokenId:null!=b?b:"main",networkId:f})}),a?Object(Q.jsx)(Jl,{}):null]})})},ts=n(802);function ns(e){var t=e.networkId,n=e.accountId,r=e.password,o=Object(y.default)();return Object(i.useEffect)((function(){r&&t&&[no.OnekeyNetwork.lightning,no.OnekeyNetwork.tlightning].includes(t)&&(W.default.serviceLightningNetwork.refreshToken({networkId:t,accountId:n,password:r}).then((function(){K.default.common.info("refresh lightning network token success")})).catch((function(e){qt.default.show({title:o.formatMessage({id:"msg__authentication_failed_verify_again"})},{type:"error"}),K.default.common.info("refresh lightning network token failed: ",e)})),K.default.common.info("should refresh lightning network token"))}),[r,t,n,o]),null}var rs=n(342),os=n(5285),as=n(221),is=n(1205),cs=n(231),ls=n(187),ss=n(4336),us=n(1170),ds=n(937),fs=function(){var e,t=Object(y.default)(),n=null==(e=Object(z.useAppSelector)((function(e){return e.settings.includeNFTsInTotal})))||e,r=Object(z.useActiveWalletAccount)(),o=r.accountId,a=r.networkId,i=Object(ds.useAccountBalanceDetailsInfo)({networkId:a,accountId:o});return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ds.AccountBalanceDetailsPanel,{info:i}),i.enabled?Object(Q.jsx)(N.default,{h:4}):null,Object(Q.jsxs)(Kl.BottomSheetSettingRow,{children:[Object(Q.jsx)(te.default.Body1Strong,{children:t.formatMessage({id:"form__include_nfts_in_totals"})}),Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:n,onToggle:function(){return W.default.dispatch(Object(mi.setIncludeNFTsInTotal)(!n))}})]})]})},bs=function(){return Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Kl.BottomSheetSettings,{closeOverlay:e,children:Object(Q.jsx)(fs,{})})}))},js=n(1092),ps=n(191),Os=n(167),ms=n(138);function xs(){return Object(ms.useAppSelector)((function(e){var t,n;return null==e||null==(t=e.settings)||null==(n=t.devMode)?void 0:n.enable}))}var hs=n(4081),gs=n(4064),vs=function(e){var t=e.networkId,n=e.accountId,r=e.type,o=Object(z.useActiveSideAccount)({networkId:t,accountId:n}).wallet,a=Object(z.useNavigation)(),c=Object(cl.useActionForAllNetworks)({accountId:n,networkId:t,action:Object(i.useCallback)((function(e){var t=e.network,n=e.account;a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.SupportTokenListModal,params:{type:r,networkId:t.id,accountId:n.id}}})}),[a,r]),filter:function(e){return!d.default.isAppleStoreEnv&&"watching"!==(null==o?void 0:o.type)&&!!e.network&&!!e.account}}),l=c.visible;return{visible:l,process:c.process,isDisabled:!l,icon:"PlusMini",text:"action__buy_crypto"}};function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ks=[Pn.IMPL_APTOS,Pn.IMPL_SUI],_s=function(e){var t=Object(y.default)(),n=Object(z.useNavigation)(),r=Object(z.useActiveWalletAccount)(),o=r.network,a=r.account,c=r.wallet,l=r.accountId,s=r.networkId,u=Object(Cr.default)(o).openAddressDetails,d=Object(us.useCopyAddress)({wallet:c}).copyAddress,f=W.default.serviceNotification,j=W.default.dispatch,p=Object(gs.useEnabledAccountDynamicAccounts)(!1),O=p.enabledAccounts,m=p.loading,h=p.refresh,g=Object(i.useState)(!1),v=x()(g,2),w=v[0],k=v[1],_=Object(dr.useIsMounted)(),S=xs(),I=Object(i.useMemo)((function(){return O.find((function(e){var t;return e.address.toLowerCase()===(null==a||null==(t=a.address)||null==t.toLowerCase?void 0:t.toLowerCase())}))}),[O,a]),C=Object(js.useAsync)(Sn()((function*(){var e;return Object(gs.checkAccountCanSubscribe)(a,null!=(e=null==o?void 0:o.id)?e:"")})),[a],{executeOnMount:!1,executeOnUpdate:!1}),P=C.result,M=void 0!==P&&P,A=C.execute;Object(i.useEffect)((function(){Sn()((function*(){if(!o)return!1;if(Object(No.isAllNetworks)(null==o?void 0:o.id))return!1;var e=yield W.default.engine.getVaultSettings(o.id);if(ks.includes(o.impl)&&!o.isTestnet)return!1;_.current&&k(!(null==e||!e.activateAccountRequired)&&"watching"!==(null==c?void 0:c.type))}))()}),[_,o,null==c?void 0:c.type]);var T=!!a&&!m&&M&&Pn.enabledAccountDynamicNetworkIds.includes((null==o?void 0:o.id)||"")&&Object(ps.isCoinTypeCompatibleWithImpl)(a.coinType,Pn.IMPL_EVM),D=(null==o?void 0:o.settings.isBtcForkChain)&&!(null==a||!a.xpub),R=Object(i.useMemo)((function(){return I?"BellSlashMini":"BellMini"}),[I]),E=Object(i.useCallback)(Sn()((function*(){if(a){var e=null;I?e=yield f.removeAccountDynamic({address:a.address}):(j(Object(mi.setPushNotificationConfig)({pushEnable:!0,accountActivityPushEnable:!0})),e=yield f.addAccountDynamic({accountId:a.id,address:a.address,name:a.name,passphrase:!!c&&Object(Os.isPassphraseWallet)(c)})),e&&qt.default.show({title:t.formatMessage({id:I?"msg__unsubscription_succeeded":"msg__subscription_succeeded"})})}})),[c,a,t,j,I,f]),B=Object(i.useCallback)((function(){var e;n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CoinControl,params:{screen:b.CoinControlModalRoutes.CoinControlModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:"",accountId:l,isSelectMode:!1}}})}),[n,null==o?void 0:o.id,l]),N=vs({accountId:l,networkId:s,type:"buy"}),L=vs({accountId:l,networkId:s,type:"sell"}),H=Object(i.useMemo)((function(){return[!!w&&{id:"action__get_faucet",onPress:function(){a&&o&&W.default.engine.activateAccount(a.id,o.id).catch((function(){}))},icon:"LightBulbMini"},N.visible&&{id:"action__buy_crypto",onPress:N.process,icon:"PlusMini"},L.visible&&{id:"action__sell_crypto",onPress:L.process,icon:"BanknotesMini"},!(null==a||!a.address)&&{id:"action__view_in_explorer",icon:"GlobeAltMini",onPress:function(){u(null==a?void 0:a.address)}},!Object(No.isAllNetworks)(null==o?void 0:o.id)&&{id:"action__copy_address",onPress:function(){setTimeout((function(){d({address:null==a?void 0:a.address,displayAddress:null==a?void 0:a.displayAddress})}),150)},icon:"Square2StackMini"},T&&{id:I?"action__unsubscribe":"action__subscribe",onPress:E,icon:R},D&&{id:"title__manage_utxos",onPress:B,icon:"CircleStackOutline"},S&&{id:"content__gas_fee",onPress:function(){var e;n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.GasPanel,params:{screen:hs.GasPanelRoutes.GasPanelModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:""}}})},icon:"GasIllus"}]}),[N,L,w,T,I,E,R,D,B,S,a,o,n,d,u]);return Object(Q.jsx)(Fc.default,ws(ws({w:220,options:H},e),{},{onOpen:function(){h(),A()}}))},Ss=n(658),Is=function(e){var t=e.isSmallView,n=Object(y.default)(),r=Object(z.useNavigation)(),o=Object(z.useActiveWalletAccount)(),a=o.wallet,c=o.account,l=o.networkId,s=o.accountId,u=Object(j.default)(),d=Object(z.useNavigationActions)().sendToken,f=u?1:0,p=Object(z.useNetwork)({networkId:l}).network,O=Object(cl.useAllNetworksSelectNetworkAccount)({networkId:l,accountId:s,filter:function(e){var t=e.network,n=e.account;return!!t&&!!n}}),m=Object(i.useCallback)((function(){O().then((function(e){var t=e.network,n=e.account;t&&n&&d({accountId:null==n?void 0:n.id,networkId:null==t?void 0:t.id})}))}),[d,O]),x=Object(i.useCallback)((function(){O().then((function(e){var t=e.network,n=e.account;t&&n&&(Object(Pn.isLightningNetworkByImpl)(null==t?void 0:t.impl)?r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:Ss.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:null==n?void 0:n.id}}}):r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:Ss.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:a,network:t,account:n,template:n.template}}}))}))}),[r,a,O]),h=Object(i.useCallback)((function(){O().then(function(){var e=Sn()((function*(e){var t,o,a=e.network,i=e.account;if(a&&i){var c=yield W.default.engine.getNativeTokenInfo(null!=(t=null==a?void 0:a.id)?t:"");if(c)(yield W.default.serviceSwap.tokenIsSupported(c))||(qt.default.show({title:n.formatMessage({id:"msg__wrong_network_desc"})},{type:"default"}),c=yield W.default.engine.getNativeTokenInfo(no.OnekeyNetwork.eth));if(c&&(W.default.serviceSwap.sellToken(c),i)){W.default.serviceSwap.setSendingAccountSimple(i);var l=yield W.default.serviceSwap.getPaymentToken(c);(null==l?void 0:l.networkId)===(null==a?void 0:a.id)&&W.default.serviceSwap.setRecipientToAccount(i,a)}null==(o=r.getParent())||o.navigate(b.TabRoutes.Swap)}}));return function(t){return e.apply(this,arguments)}}())}),[r,n,O]);return Object(Q.jsxs)(N.default,{flexDirection:"row",px:u?1:0,mx:-3,children:[Object(Q.jsxs)($.default,{flex:f,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:m,children:[Object(Q.jsx)(il.default,{children:Object(Q.jsx)(vt.default,{circle:!0,size:t?"xl":"lg",name:"PaperAirplaneOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:m})}),Object(Q.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"action__send"})})]}),Object(Q.jsxs)($.default,{flex:f,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:x,children:[Object(Q.jsx)(il.default,{children:Object(Q.jsx)(vt.default,{circle:!0,size:t?"xl":"lg",name:"QrCodeOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:x})}),Object(Q.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"action__receive"})})]}),null!=p&&p.settings.hiddenAccountInfoSwapOption?null:Object(Q.jsxs)($.default,{flex:f,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:h,children:[Object(Q.jsx)(il.default,{children:Object(Q.jsx)(vt.default,{circle:!0,size:t?"xl":"lg",name:"ArrowsRightLeftOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:h})}),Object(Q.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"title__swap"})})]}),null!=p&&p.settings.hiddenAccountInfoMoreOption?null:Object(Q.jsxs)(N.default,{flex:f,mx:3,minW:"56px",alignItems:"center",children:[Object(Q.jsx)(_s,{children:Object(Q.jsx)(vt.default,{circle:!0,size:t?"xl":"lg",name:"EllipsisVerticalOutline",type:"basic"})}),Object(Q.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"text-default",children:n.formatMessage({id:"action__more"})})]})]})},Cs=function(){var e,t,n=Object(y.default)(),r=Object(yn.default)(),o=Object(ae.useActiveWalletAccount)(),a=o.account,c=o.networkId,l=o.network,s=o.wallet,u=o.walletId,d=o.accountId,f=Object(us.useCopyAddress)({wallet:s}).copyAddress,j=Object(cl.useAllNetworksWalletAccounts)({accountId:d}).data,p=Object(i.useMemo)((function(){return!(null!=l&&l.settings.hiddenAddress)}),[null==l?void 0:l.settings.hiddenAddress]),O=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageNetwork,params:{screen:b.ManageNetworkModalRoutes.AllNetworksAccountsDetail,params:{walletId:u,accountId:d}}})}),[u,d,r]);return Object(No.isAllNetworks)(c)?Object(Q.jsxs)($.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:O,children:[Object(Q.jsx)(ve.default,{typography:"Body2Strong",mr:2,color:"text-subdued",children:n.formatMessage({id:"form__all_networks_str"},{0:Object.keys(j).length})}),Object(Q.jsx)(ee.default,{name:"ChevronDownMini",color:"icon-subdued",size:16})]}):p?Object(Q.jsx)(D.default,{hasArrow:!0,placement:"top",label:n.formatMessage({id:"action__copy_address"}),children:Object(Q.jsxs)($.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){f({address:null==a?void 0:a.address,displayAddress:null==a?void 0:a.displayAddress})},children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body2",md:"CaptionStrong"},mr:2,color:"text-subdued",children:Object(Jr.shortenAddress)(null!=(e=null!=(t=null==a?void 0:a.displayAddress)?t:null==a?void 0:a.address)?e:"",null==l?void 0:l.settings.displayChars)}),Object(Q.jsx)(ee.default,{name:"Square2StackOutline",color:"icon-subdued",size:16})]})}):null},Ps=function(){var e=Object(y.default)(),t=Object(ae.useActiveWalletAccount)(),n=t.account,r=t.network,o=Object(Cr.default)(r),a=o.openAddressDetails;return o.hasAvailable?Object(Q.jsx)(D.default,{hasArrow:!0,placement:"top",label:e.formatMessage({id:"form__blockchain_browser"}),children:Object(Q.jsx)($.default,{p:1,rounded:"full",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){return a(null==n?void 0:n.address)},children:Object(Q.jsx)(ee.default,{name:"GlobeAltOutline",color:"icon-subdued",size:16})})}):null},Ms=function(){var e=Object(y.default)(),t=Object(i.useState)(""),n=x()(t,2),r=n[0],o=n[1],a=Object(ae.useActiveWalletAccount)(),c=a.networkId,l=a.accountId,s=Object(z.useAccountIsUpdating)({networkId:c,accountId:l}),u=Object(z.useAccountValues)({networkId:c,accountId:l}),d=Object(z.useOverviewPendingTasks)({networkId:c,accountId:l}),f=d.tasks,b=d.updatedAt;Object(i.useEffect)((function(){if(f.length){var e=setInterval((function(){o((function(e){return e.length<3?e+".":""}))}),500);return function(){return clearInterval(e)}}}),[null==f?void 0:f.length]);var j=Object(i.useMemo)((function(){if(null!=f&&f.length||s)return e.formatMessage({id:"content__updating_assets"})+r;var t=Date.now()-b;return t<Object(ca.getTimeDurationMs)({minute:2})?e.formatMessage({id:"form__updated_just_now"}):t<Object(ca.getTimeDurationMs)({hour:1})?e.formatMessage({id:"form__str_mins_ago"},{0:Math.floor(t/1e3/60)}):t<Object(ca.getTimeDurationMs)({hour:24})?e.formatMessage({id:"form__str_hours_ago"},{0:Math.floor(t/1e3/60/60)}):t>Object(ca.getTimeDurationMs)({hour:24})?e.formatMessage({id:"form__str_days_ago"},{0:Math.floor(t/1e3/60/60/24)}):void 0}),[b,e,f.length,r,s]),p=Object(i.useState)(!1),O=x()(p,2),m=O[0],h=O[1],g=Object(i.useMemo)((function(){return u.value.isNaN()?Object(Q.jsx)(ne.default,{shape:"DisplayXLarge"}):Object(Q.jsxs)(gt.default,{flex:"1",alignItems:"center",children:[Object(Q.jsx)(te.default.Display2XLarge,{numberOfLines:2,isTruncated:!0,children:Object(Q.jsx)(ei.FormatCurrencyNumber,{decimals:2,value:0,convertValue:u.value})}),Object(Q.jsx)(vt.default,{name:"ChevronDownMini",onPress:bs,type:"plain",circle:!0,ml:1})]})}),[u]),v=Object(i.useCallback)((function(){f.length>0||W.default.serviceOverview.refreshCurrentAccount()}),[f]),w=Object(i.useMemo)((function(){var t=Object(ll.calculateGains)({basePrice:u.value24h.toNumber(),price:u.value.toNumber()}),n=t.gainNumber,r=t.percentageGain,o=t.gainTextColor;return u.value.isNaN()?Object(Q.jsx)(ne.default,{shape:"Body1"}):Object(Q.jsxs)(gt.default,{alignItems:"center",children:[Object(Q.jsx)($.default,{onPress:function(){h(!m)},children:Object(Q.jsx)(te.default.Body2Strong,{color:o,mr:"4px",children:m?r:Object(Q.jsxs)(Q.Fragment,{children:[n>=0?"+":"-",Object(Q.jsx)(ei.FormatCurrencyNumber,{value:Math.abs(n),decimals:2})]})})}),Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"1",children:e.formatMessage({id:"content__today"})}),j?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(N.default,{size:"1",bg:"icon-subdued",borderRadius:"999px",mx:"2"}),Object(Q.jsx)($.default,{onPress:v,children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:j})})]}):null]})}),[e,u,j,v,m]);return Object(Q.jsxs)(N.default,{alignItems:"flex-start",flex:"1",children:[Object(Q.jsxs)(N.default,{mx:"-8px",my:"-4px",flexDir:"row",alignItems:"center",children:[Object(Q.jsx)(Cs,{}),Object(Q.jsx)(Ps,{})]}),Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",mt:1,w:"full",children:g}),Object(Q.jsx)(N.default,{flexDirection:"row",mt:1,children:w})]})},As=function(){var e=Object(j.default)();return e?Object(Q.jsxs)(N.default,{pt:"16px",pb:"24px",w:"100%",px:"16px",flexDirection:"column",bgColor:"background-default",h:238,children:[Object(Q.jsx)(Ms,{}),Object(Q.jsx)(N.default,{mt:8,children:Object(Q.jsx)(Is,{isSmallView:e})})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(fe.DesktopDragZoneAbsoluteBar,{}),Object(Q.jsxs)(N.default,{h:152,py:8,px:{sm:8,lg:4},flexDirection:"row",justifyContent:"space-between",alignItems:"center",bgColor:"background-default",children:[Object(Q.jsx)(Ms,{}),Object(Q.jsx)(Is,{isSmallView:e})]})]})},Ts=function(){return null},Ds=n(266),Rs=n(1640),Es=n(595),Bs=function(e){var t=e.networkId,n=Object(z.useActiveWalletAccount)().networkId,r=Object(z.useNetwork)({networkId:t}).network,o=Object(i.useMemo)((function(){return Object(No.isAllNetworks)(n)?null==r?void 0:r.logoURI:null}),[r,n]);return o?Object(Q.jsx)(N.default,{borderWidth:"2px",borderColor:"border-default",borderRadius:"999px",position:"absolute",right:"3",bottom:"3",zIndex:"999",children:Object(Q.jsx)(ft.default,{width:4,height:4,src:o,alt:o,borderRadius:"full"})}):null},Ns=["onSelect","data"];function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zs=function(e){var t=e.count,n=e.size;return Object(Q.jsx)(N.default,{position:"absolute",right:"0",bottom:"0",borderRadius:"6px",size:n+"px",bgColor:"backdrop",children:Object(Q.jsx)(T.default,{flex:1,children:Object(Q.jsx)(ve.default,{children:"+"+t})})})},Hs=function(e){var t=e.width,n=e.collectible,r=(t-9)/2,o=n.assets.filter((function(e,t){return t<4}));return 1===o.length?Object(Q.jsx)(fr.default,{asset:n.assets[0],borderRadius:"6px",size:t}):Object(Q.jsxs)(sr.default,{flexWrap:"wrap",width:t+"px",height:t+"px",borderRadius:"6px",children:[o.map((function(e,t){var n,o,a=t%2!==0?0:9,i=t<2?9:0;return Object(Q.jsx)(fr.default,{asset:e,borderRadius:"6px",marginRight:a+"px",marginBottom:i+"px",size:r},"NFTListImage"+(null!=(n=null!=(o=e.tokenId)?o:e.tokenAddress)?n:"")+t)})),n.assets.length>4?Object(Q.jsx)(zs,{size:r,count:n.assets.length}):null]})};function Fs(e,t){var n=e.data;return n.contractAddress?"Collection "+n.contractAddress:n.contractName?"Collection "+n.contractName:"Collection "+t}var Us=Object(i.memo)((function(e){var t,n,r=e.onSelect,o=e.data,a=O()(e,Ns),i=Object(j.default)(),c=Object(ye.default)().screenWidth,l=i?16:20,s=i?8:12,u=i?Math.floor((c-3*l)/2):177,d=Object(Kt.default)().themeVariant,f=u-2*s,b=Object(Wl.useTokenPrice)({networkId:null!=(t=o.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"})*(null!=(n=o.totalPrice)?n:0);return Object(Q.jsx)(N.default,Ws(Ws({mb:"16px"},a),{},{children:Object(Q.jsxs)(gi.default,{bgColor:"surface-default",padding:s+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===d?1:void 0,width:u,flexDirection:"column",_hover:{bg:"surface-hovered"},onPress:function(){r&&r(o)},children:[Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(Hs,{collectible:o,width:f}),Object(Q.jsx)(Bs,{networkId:o.networkId})]}),Object(Q.jsx)(gt.default,{mt:s+"px",justifyContent:"space-between",children:Object(Q.jsx)(ve.default,{typography:"Body2",height:"20px",numberOfLines:1,flex:1,children:o.contractName})}),Object(Q.jsx)(ve.default,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:0,decimals:2,convertValue:b>0?b:""})})]})}))})),Vs=n(1225),Gs=["asset"];function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ys=function(e){var t=e.asset,n=O()(e,Gs),r=Object(Vs.getBTCListComponent)({data:t,sizeType:"list"}).Component;return Object(Q.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({asset:t},n))},Ks=["onSelect","data"];function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e){return e.data.inscription_id}var Js,$s=Object(i.memo)((function(e){var t=e.onSelect,n=e.data,r=O()(e,Ks),o=Object(j.default)(),a=Object(ye.default)().screenWidth,c=o?16:20,l=o?8:12,s=o?a:Math.min(rs.MAX_PAGE_CONTAINER_WIDTH,a-224),u=o?Math.floor((s-3*c)/2):177,d=Object(Kt.default)().themeVariant,f=Object(i.useMemo)((function(){return n.inscription_number>0?"#"+n.inscription_number:""}),[n.inscription_number]);return Object(Q.jsx)(N.default,Qs(Qs({mb:"16px"},r),{},{children:Object(Q.jsxs)($.default,{flexDirection:"column",bgColor:"surface-default",padding:l+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===d?1:void 0,width:u,_hover:{bg:"surface-hovered"},onPress:function(){t&&t(n)},children:[Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(Ys,{size:u-2*l,asset:n}),Object(Q.jsx)(Bs,{networkId:n.networkId})]}),Object(Q.jsx)(gt.default,{justifyContent:"space-between",children:Object(Q.jsx)(ve.default,{typography:"Body2",height:"20px",mt:l+"px",numberOfLines:1,children:f})})]})}))})),eu=n(4318);function tu(e){switch(e){case Js.BTCAsset:return $s;case Js.SOLAsset:case Js.EVMAsset:return eu.default;default:return Us}}function nu(e){switch(e){case Js.BTCAsset:return Zs;case Js.SOLAsset:case Js.EVMAsset:return eu.keyExtractor;default:return Fs}}function ru(e){var t=e.type,n=!0,r=Js.EVMCollection;return t===Es.NFTAssetType.BTC&&(r=Js.BTCAsset,n=!1),{Component:tu(r),cardType:r,expandEnable:n,keyExtractor:nu(r)}}!function(e){e.EVMAsset="EVMAsset",e.EVMCollection="EVMCollection",e.SOLAsset="SOLAsset",e.SOLCollection="SOLCollection",e.BTCAsset="BTCAsset"}(Js||(Js={}));function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iu=Object(i.createContext)(null);function cu(e){var t=e.children,n=e.priceType,r=Object(i.useState)({priceType:n}),o=x()(r,2),a=o[0],c=o[1];Object(i.useEffect)((function(){c((function(e){return au(au({},e),{},{priceType:n})}))}),[n]);var l=Object(i.useMemo)((function(){return{context:a,setContext:c}}),[a]);return Object(Q.jsx)(iu.Provider,{value:l,children:t})}var lu=Object(i.memo)((function(e){var t=e.isNFTSupport,n=Object(y.default)(),r=Object(Kt.default)().themeVariant,o=Object(ae.useActiveWalletAccount)(),a=o.account,i=o.network,c=Object(z.useNFTValues)({accountId:null==a?void 0:a.id,networkId:null==i?void 0:i.id}),l="lastSalePrice"===Object(ae.useAppSelector)((function(e){return e.nft.disPlayPriceType}))?n.formatMessage({id:"form__last_price"}):n.formatMessage({id:"form__floor_price"});return Object(Q.jsxs)(N.default,{flexDirection:"column",paddingRight:"16px",children:[t&&Object(Q.jsx)(N.default,{flexDirection:"row",height:"84px",mb:"24px",bgColor:"surface-default",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===r?1:void 0,padding:"16px",justifyContent:"space-between",children:Object(Q.jsxs)(N.default,{flexDirection:"column",children:[Object(Q.jsx)(te.default.DisplayLarge,{children:Object(Q.jsx)(ei.FormatCurrencyNumber,{value:0,decimals:2,convertValue:c>0?c:""})}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:n.formatMessage({id:"content__total_value_by_str"},{0:l})})]})}),Object(Q.jsx)(gt.default,{space:4,alignItems:"center",justifyContent:"space-between",pb:3,children:Object(Q.jsx)(te.default.Heading,{children:n.formatMessage({id:"title__assets"})})})]})})),su=["type"];function uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fu=Object(i.memo)((function(e){var t=e.isNFTSupport,n=e.fetchData,r=e.isLoading,o=Object(y.default)();return t?Object(Q.jsx)(xt.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"asset__collectibles_empty_title"}),subTitle:o.formatMessage({id:"asset__collectibles_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:n,isLoading:r}):Object(Q.jsx)(xt.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"empty__not_supported"}),subTitle:o.formatMessage({id:"empty__not_supported_desc"})})})),bu=function(e){var t=e.listData,n=e.fetchData,r=e.isNFTSupport,o=e.isLoading,a=e.onSelect,c=Object(y.default)(),l=Object(j.default)(),s=Object(i.useState)(1),u=x()(s,2),d=u[0],f=u[1],b=Object(ae.useActiveWalletAccount)(),p=b.accountId,m=b.networkId,h=Object(j.default)(),g=Object(ye.default)().screenWidth,v=h?16:20,w=h?g:Math.min(rs.MAX_PAGE_CONTAINER_WIDTH,g-224),k=h?2:Math.floor(w/(177+v)),_=Object(i.useMemo)((function(){var e=[];return t.forEach((function(t){var n=t.type;t.data.forEach((function(t){var r=function(e){var t=e.data,n=e.type;return n?n===Es.NFTAssetType.BTC?[{data:t,isAsset:!0,type:n}]:[{data:t,isAsset:!1,type:n}]:[]}({data:t,type:n});e=e.concat(r)}))})),e}),[t]),S=Object(i.useMemo)((function(){var e=_.slice(0,20*d);return{data:e,hasMore:e.length<_.length}}),[_,d]),I=S.data,C=S.hasMore,P=Object(i.useCallback)((function(e){var t=e.item,n=t.type,r=O()(t,su);if(!n)return null;var o=ru({type:n}),i=o.Component,c=o.cardType;return Object(Q.jsx)(ec.DebugRenderTracker,{children:Object(Q.jsx)(i,du(du({},r),{},{onSelect:function(e){a&&a(e,c)},mr:"16px"}))})}),[a]),M=Object(i.useCallback)((function(){f((function(e){return e+1}))}),[]);Object(i.useEffect)((function(){f(1)}),[p,m]);var A="NFTList"+k,T=Object(i.useMemo)((function(){if(null==I||!I.length)return null;var e=C?Object(Q.jsx)(gt.default,{justifyContent:"center",children:Object(Q.jsx)(vt.default,{name:"ChevronDownMini",w:l?"full":"130px",onPress:M,children:c.formatMessage({id:"action__load_more"})})}):null;return Object(Q.jsxs)(Oe.default,{pr:"4",children:[e,Object(Q.jsx)(N.default,{h:"24px",w:"full"})]})}),[c,l,M,C,null==I?void 0:I.length]);return Object(Q.jsx)(hn.Tabs.FlatList,{contentContainerStyle:{paddingLeft:16,paddingBottom:_.length?16:0,marginTop:24},data:I,renderItem:P,ListFooterComponent:T,showsVerticalScrollIndicator:!1,ListEmptyComponent:Object(Q.jsx)(fu,{fetchData:n,isNFTSupport:r,isLoading:o}),numColumns:k,ListHeaderComponent:Object(Q.jsx)(lu,{isNFTSupport:r}),keyExtractor:function(e,t){return ru({type:e.type}).keyExtractor(e,t)}},A)};var ju=Object(i.memo)((function(){var e=Object(ae.useActiveWalletAccount)(),t=e.accountId,n=e.networkId,r=Object(Ds.isCollectibleSupportedChainId)(n),o=W.default.serviceNFT,a=Object(ae.useAppSelector)((function(e){return e.status.homeTabName})),c=Object(w.useIsFocused)(),l=Object(i.useState)([]),s=x()(l,2),u=s[0],d=s[1],f=Object(z.useNFTIsLoading)({accountId:t,networkId:n}),b=Object(z.useAccountPortfolios)({networkId:n,accountId:t,type:Mo.EOverviewScanTaskType.nfts}).updatedAt;Object(i.useEffect)((function(){W.default.serviceNFT.getNftListWithAssetType({networkId:n,accountId:t}).then((function(e){return d(e)})).catch((function(e){K.default.common.error("getNftListWithAssetType Error",e)}))}),[b,n,t]);var j=Object(i.useCallback)(Sn()((function*(){if(t&&n&&r&&!Object(No.isAllNetworks)(n))return yield o.fetchNFT({accountId:t,networkId:n})})),[t,r,n,o]),p=Object(i.useMemo)((function(){return!!(t&&n&&r)&&(!!Object(Lo.isAccountCompatibleWithNetwork)(t,n)&&(!!c&&a===bc.WalletHomeTabEnum.Collectibles))}),[t,a,c,r,n]),O=Object(Xi.default)("fetchNFTList",j,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!p}}),m=O.mutate,h=O.isValidating;Object(i.useEffect)((function(){p&&m()}),[m,p,t,n]);var g=Object(i.useCallback)((function(e,r){if(t&&n)switch(r){case Js.EVMCollection:case Js.SOLCollection:Object(Rs.navigateToNFTCollection)({networkId:n,accountId:t,collection:e});break;case Js.EVMAsset:case Js.SOLAsset:case Js.BTCAsset:Object(Rs.navigateToNFTDetail)({networkId:n,accountId:t,asset:e})}}),[t,n]);return Object(Q.jsx)(cu,{children:Object(Q.jsx)(bu,{listData:u,onSelect:g,fetchData:m,isNFTSupport:r,isLoading:h||f})})})),pu=n(2728),Ou=n(2733),mu=n(366),xu=n(4337);function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu=[{key:"revoke",icon:{name:"ShieldCheckSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__contract_approvals",description:"title__token_approvals_desc",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===Pn.IMPL_EVM}},{key:"bulkSender",icon:{name:"BulkSenderMini",color:"decorative-icon-two"},iconBg:"decorative-surface-two",title:"title__bulksender",description:"title__bulksender_desc",filter:function(e){var t,n=e.network,r=e.account;return!!r&&!(null!=r&&r.id.startsWith("watching-"))&&!(null==n||null==(t=n.settings)||!t.supportBatchTransfer)&&(!!n.settings.nativeSupportBatchTransfer||!!gn.batchTransferContractAddress[n.id])}},{key:"explorer",icon:{name:"GlobeAltSolid",color:"decorative-icon-three"},iconBg:"decorative-surface-three",title:"title__blockchain_explorer",description:"title__blockchain_explorer_desc",filter:function(e){var t,n,r,o=e.network,a=e.account;return!(null==(t=Object(mu.getManageNetworks)().allNetworks)||null==t.find||null==(n=t.find((function(e){return e.id===(null==o?void 0:o.id)})))||null==(r=n.blockExplorerURL)||!r.address)&&!(null==a||!a.address)}},{key:"pnl",icon:{name:"DocumentChartBarSolid",color:"decorative-icon-four"},iconBg:"decorative-surface-four",title:"content__nft_profit_and_loss",description:"empty__pnl",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===Pn.IMPL_EVM}},{key:"inscribe",icon:{name:"SparklesSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__inscribe",description:"title__inscribe_desc",filter:function(e){var t,n,r,o,a,i=e.network,c=e.account;return[Pn.IMPL_BTC,Pn.IMPL_TBTC].includes(null!=(t=null==i?void 0:i.impl)?t:"")&&!(null==c||!c.template)&&[null==(n=Ou.default.accountNameInfo)||null==(r=n.BIP86)?void 0:r.template,null==(o=pu.default.accountNameInfo)||null==(a=o.BIP86)?void 0:a.template].includes(null==c?void 0:c.template)}}],yu=function(){var e=Object(y.default)(),t=Object(z.useActiveWalletAccount)(),n=t.network,r=t.account,o=t.accountId,a=t.networkId,c=Object(xu.useIsVerticalOrMiddleLayout)(),l=Object(w.useNavigation)(),s=Object(mu.useManageNetworks)().enabledNetworks,u=Object(yn.default)(),f=Object(ae.useTools)(null==n?void 0:n.id),j=Object(cl.useAllNetworksWalletAccounts)({accountId:o}).data,p=Object(cl.useAllNetworksSelectNetworkAccount)({networkId:a,accountId:o}),O=Object(i.useMemo)((function(){var e=vu;return e=e.concat(Object.values(Mc()(f,"title")).filter((function(e){return e.length>0})).map((function(e){var t=e[0];return{ts:e,key:t.title,icon:{uri:t.logoURI},iconBg:void 0,title:t.title,description:t.desc,link:t.link,intlDisabled:!0,filter:function(t){var n=t.network;return e.some((function(e){return e.networkId===(null==n?void 0:n.id)}))}}}))),Object(No.isAllNetworks)(null==n?void 0:n.id)?e.filter((function(e){var t=function(t){var n=s.find((function(e){return e.id===t}));if(n)for(var r of a)if(!e.filter||e.filter({network:n,account:r}))return{v:!0}};for(var n of Object.entries(j)){var r=x()(n,2),o=r[0],a=r[1],i=t(o);if("object"===typeof i)return i.v}return!1})):e.filter((function(e){var t;return null==(t=null==e.filter?void 0:e.filter({network:n,account:r}))||t}))}),[r,n,f,j,s]),m=Object(i.useCallback)((function(t){var r=t.key,o=t.network,a=t.account;if("revoke"===r){var i,c,s=Object(No.parseNetworkId)(null!=(i=null==n?void 0:n.id)?i:"").chainId;Object(zn.openDapp)(Do.revokeUrl+"address/"+(null!=(c=null==a?void 0:a.address)?c:"")+"?chainId="+(null!=s?s:""))}else if("explorer"===r){var j=Object(Cr.buildAddressDetailsUrl)(o,null==a?void 0:a.address);Object(zn.openUrl)(j,e.formatMessage({id:"title__blockchain_explorer"}),{modalMode:!0})}else if("pnl"===r)l.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.NFTPNLScreen}}});else if("bulkSender"===r)d.default.isExtFirefoxUiPopup?(W.default.serviceApp.openExtensionExpandTab({routes:[b.RootRoutes.Main,b.HomeRoutes.BulkSender]}),setTimeout((function(){window.close()}),300)):l.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.BulkSender}}});else if("inscribe"===r)null!=o&&o.id&&a&&u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Inscribe,params:{screen:b.InscribeModalRoutes.InscribeModal,params:{networkId:null==o?void 0:o.id,accountId:null==a?void 0:a.id}}});else{var p,O=null==f?void 0:f.find((function(e){return e.title===r})),m={address:null!=(p=null==a?void 0:a.address)?p:"",networkId:null==o?void 0:o.id};if(O){var x,h=null==O||null==(x=O.link)?void 0:x.replace(/\{([\w\d]+)\}/g,(function(e,t){var n;return null!=(n=m[t])?n:""}));Object(zn.openUrl)(h,null==O?void 0:O.title,{modalMode:!0})}}}),[null==n?void 0:n.id,f,l,e,u]),h=Object(i.useCallback)((function(e){if(!Object(No.isAllNetworks)(null==n?void 0:n.id))return m({key:e,network:n,account:r});var t=O.find((function(t){return t.key===e}));t&&p(t.filter).then(function(){var t=Sn()((function*(t){var n=t.network,r=t.account;if("revoke"===e||"bulkSender"===e||"pnl"===e){var o=W.default.serviceNetwork,a=W.default.serviceAccount;yield o.changeActiveNetwork(null==n?void 0:n.id),yield a.changeActiveAccountByAccountId(null==r?void 0:r.id)}m({key:e,network:n,account:r})}));return function(e){return t.apply(this,arguments)}}())}),[m,n,r,O,p]),g=Object(i.useCallback)((function(e){return c?{paddingLeft:0,paddingRight:0}:{paddingLeft:e%2===0?0:6,paddingRight:e%2===1?0:6}}),[c]),v=Object(i.useCallback)((function(e){return e?"number"===typeof e?Object(Q.jsx)(ft.default,{borderRadius:"14px",source:e,w:"full",h:"full"}):e.name?Object(Q.jsx)(ee.default,gu(gu({},e),{},{size:24})):Object(Q.jsx)(ft.default,{borderRadius:"14px",source:e,w:"full",h:"full"}):null}),[]);return Object(i.useEffect)((function(){W.default.serviceToken.fetchTools()}),[]),Object(Q.jsx)(hn.Tabs.FlatList,{data:O,keyExtractor:function(e){return e.key},numColumns:c?void 0:2,contentContainerStyle:{marginVertical:24,paddingHorizontal:c?32:16},renderItem:function(t){var n=t.item,r=t.index;return Object(Q.jsx)(N.default,{p:"6px",width:c?"100%":"50%",style:g(r),children:Object(Q.jsxs)($.default,{flexDirection:"row",p:"16px",bg:"surface-default",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderWidth:A.default.hairlineWidth,borderColor:"border-default",borderRadius:"12px",alignItems:"center",onPress:function(){h(n.key)},children:[Object(Q.jsx)(T.default,{w:"48px",h:"48px",bgColor:n.iconBg,borderRadius:"12px",children:v(n.icon)}),Object(Q.jsxs)(Oe.default,{ml:"4",flex:"1",children:[Object(Q.jsxs)(gt.default,{alignItems:"center",flex:"1",pr:"18px",children:[Object(Q.jsx)(te.default.Body1Strong,{numberOfLines:1,isTruncated:!0,maxW:"200px",children:n.intlDisabled?n.title:e.formatMessage({id:n.title})}),n.tag?Object(Q.jsx)(st.default,{ml:"1",size:"sm",type:"success",title:e.formatMessage({id:n.tag})}):null]}),Object(Q.jsx)(te.default.Body2,{mt:"4px",numberOfLines:2,isTruncated:!0,color:"text-subdued",children:n.intlDisabled?n.description:e.formatMessage({id:n.description})})]})]},n.title)},n.key)}},String(c))},wu=function(){return Object(Q.jsx)(As,{})},ku=function(){var e=Object(y.default)(),t=Object(i.useRef)(null),n=Object(ye.default)().screenWidth,r=Object(j.default)(),o=Object(ae.useAppSelector)((function(e){return e.status.homeTabName})),a=Object(ae.useActiveWalletAccount)(),c=a.wallet,l=a.network,s=a.accountId,u=a.networkId,f=a.walletId,b=Object(i.useState)(!1),p=x()(b,2),O=p[0],m=p[1],h=Object(i.useRef)(),g=Object(i.useMemo)((function(){return Object(Q.jsx)(hn.Tabs.Tab,{name:bc.WalletHomeTabEnum.Tokens,label:e.formatMessage({id:"asset__tokens"}),children:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(rr.default,{walletId:f,accountId:s,networkId:u,ListFooterComponent:Object(Q.jsx)(N.default,{h:6}),limitSize:10,renderDefiList:!0}),Object(Q.jsx)(os.OneKeyPerfTraceLog,{name:"App RootTabHome AssetsList render"}),Object(Q.jsx)(ss.GuideToPushFirstTimeCheck,{})]})},bc.WalletHomeTabEnum.Tokens)}),[s,e,u,f]),v=Object(i.useMemo)((function(){return Object(Q.jsx)(hn.Tabs.Tab,{name:bc.WalletHomeTabEnum.Collectibles,label:e.formatMessage({id:"asset__collectibles"}),children:Object(Q.jsx)(ju,{})},bc.WalletHomeTabEnum.Collectibles)}),[e]),w=Object(i.useMemo)((function(){return Object(Q.jsx)(hn.Tabs.Tab,{name:bc.WalletHomeTabEnum.History,label:e.formatMessage({id:"transaction__history"}),children:Object(Q.jsx)(Cc,{accountId:s,networkId:u,isHomeTab:!0})},bc.WalletHomeTabEnum.History)}),[s,u,e]),k=Object(i.useMemo)((function(){return Object(Q.jsx)(hn.Tabs.Tab,{name:bc.WalletHomeTabEnum.Tools,label:e.formatMessage({id:"form__tools"}),children:Object(Q.jsx)(yu,{})},bc.WalletHomeTabEnum.Tools)}),[e]),_=Object(i.useMemo)((function(){return[{name:bc.WalletHomeTabEnum.Tokens,tab:g},{name:bc.WalletHomeTabEnum.Collectibles,tab:v},{name:bc.WalletHomeTabEnum.History,tab:w},{name:bc.WalletHomeTabEnum.Tools,tab:k}].filter((function(e){return e.name===bc.WalletHomeTabEnum.Collectibles?!(null!=l&&l.settings.hiddenNFTTab):e.name===bc.WalletHomeTabEnum.History?!Object(No.isAllNetworks)(u):e.name!==bc.WalletHomeTabEnum.Tools||!(null!=l&&null!=(t=l.settings)&&t.hiddenToolTab);var t}))}),[null==l?void 0:l.settings,u,g,v,w,k]),S=Object(i.useCallback)((function(e){var t;return null==(t=_[e])?void 0:t.name}),[_]),I=Object(i.useCallback)((function(e){var t=_.findIndex((function(t){return t.name===e}));return-1===t?0:t}),[_]),C=Object(i.useCallback)((function(e){h.current&&clearTimeout(h.current);var t=0;d.default.isNativeAndroid&&(t=500),h.current=setTimeout((function(){K.default.common.info("setHomeTabIndex",e),W.default.dispatch(Object(ls.setHomeTabName)(S(e)))}),t)}),[S]),P=Object(ts.useDebouncedCallback)((function(e){var n;null==(n=t.current)||null==n.setPageIndex||n.setPageIndex(e),C(e)}),1e3,{leading:!1,trailing:!0,maxWait:1e3});Object(i.useEffect)((function(){var e,t=I(o);return d.default.isNativeIOS?e=setTimeout((function(){P(t)})):P(t),function(){e&&clearTimeout(e)}}),[o,I,P]);var M=Object(i.useCallback)((function(){m(!0),W.default.serviceOverview.refreshCurrentAccount().finally((function(){setTimeout((function(){return m(!1)}),50)}))}),[]),A=Object(i.useMemo)((function(){return _.map((function(e){return e.tab})).filter(Boolean)}),[_]),D=Object(i.useMemo)((function(){return Object(Pn.isLightningNetworkByNetworkId)(u)}),[u]),R=Object(Q.jsx)(hn.Tabs.Container,{canOpenDrawer:!0,initialTabName:o,refreshing:O,onRefresh:M,onIndexChange:function(e){C(e)},onStartChange:function(){h.current&&clearTimeout(h.current)},renderHeader:wu,headerHeight:r?238:152,ref:t,containerStyle:{maxWidth:rs.MAX_PAGE_CONTAINER_WIDTH,width:r?n:n-224,marginHorizontal:"auto",alignSelf:"center",flex:1},children:A},d.default.isNativeAndroid?""+A.length:void 0);return c?null!=l&&l.settings.validationRequired?Object(Q.jsx)(T.default,{w:"full",h:"full",children:Object(Q.jsx)(as.default,{walletId:c.id,networkId:l.id,field:as.ValidationFields.Account,placeCenter:!0,subTitle:e.formatMessage({id:"title__password_verification_is_required_to_view_account_details_on_str"},{0:l.name}),checkIsNeedPassword:D?function(){return W.default.serviceLightningNetwork.checkAuth({networkId:u,accountId:s})}:void 0,children:function(e){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ns,{accountId:s,password:e,networkId:l.id}),R]})}})}):R:null},_u=Object(i.memo)((function(){return Object(cs.useOnboardingRequired)(!0),Object(is.useHtmlPreloadSplashLogoRemove)(),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(N.default,{flex:1,children:Object(Q.jsx)(un,{children:Object(Q.jsx)(ku,{})})}),Object(Q.jsx)(Ts,{})]})}));function Su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cu=b.TabRoutes.Home,Pu=Iu(Iu({},_e[Cu]),{},{component:Zt(rn(_u,{rootTabName:Cu}),Cu),children:[{name:b.HomeRoutes.ScreenTokenDetail,component:es,alwaysShowBackButton:!0},{name:b.HomeRoutes.FullTokenListScreen,component:or,i18nTitle:"asset__tokens"},{name:b.HomeRoutes.Revoke,component:Eo,alwaysShowBackButton:!0},{name:b.HomeRoutes.RevokeRedirect,component:Bo},{name:b.HomeRoutes.RevokeRedirect2,component:Bo},{name:b.HomeRoutes.NFTMarketCollectionScreen,component:Zr},{name:b.HomeRoutes.NFTPNLScreen,component:Co,alwaysShowBackButton:!0},{name:b.HomeRoutes.OverviewDefiListScreen,component:To},{name:b.HomeRoutes.BulkSender,component:nr,alwaysShowBackButton:!0}]}),Mu=function(e){var t=e.stakingType,n=Object(y.default)(),r=Object(i.useState)(!1),o=x()(r,2),a=o[0],c=o[1],l=Object(z.useActiveWalletAccount)(),s=l.accountId,u=l.networkId,d=Object(w.useNavigation)(),f=Object(cl.useAllNetworksSelectNetworkAccount)({accountId:s,networkId:u,filter:Object(dl.getStakeSelectNetworkAccountFilter)(t)}),j=Object(i.useCallback)(Sn()((function*(){try{c(!0);var e=yield f(),t=e.account,n=e.network;K.default.staking.info("use networkId: "+n.id+" and account id "+t.id+" to stake asset"),d.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:ul.StakingRoutes.ETHStake,params:{networkId:n.id,accountId:t.id}}})}finally{c(!1)}})),[f,d]);return t&&!a?Object(Q.jsx)(hl,{icon:"InboxArrowDownMini",text:n.formatMessage({id:"action__stake"}),onPress:j}):null},Au=function(e){var t=e.stakingType,n=Object(z.useActiveWalletAccount)(),r=n.accountId,o=n.networkId;return Object(No.isAllNetworks)(o)||Object(dl.isAccountCompatibleWithStakingTypes)(r,t)?Object(Q.jsx)(fl,{stakingType:t,children:Object(Q.jsx)(Mu,{stakingType:t})}):null},Tu=n(1098),Du=function(e){var t=e.marketTokenId,n=Object(y.default)(),r=Object(Bl.useMarketTokenItem)({coingeckoId:t}),o=Object(w.useNavigation)(),a=(Object(i.useCallback)((function(){null!=o&&null!=o.canGoBack&&o.canGoBack()&&(null==o||o.goBack())}),[o]),Object(i.useMemo)((function(){var e;return!(null!=r&&null!=(e=r.tokens)&&e.length)}),[r]));return Object(Q.jsxs)(N.default,{testID:"MarketDetailActionButton",flexDirection:"row",alignItems:"center",pt:"24px",children:[Object(Q.jsx)(re.default,{flex:1,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(W.default.serviceSwap.buyToken(r.tokens[0]),o.pop(),o.navigate(b.TabRoutes.Swap))},isDisabled:a,children:n.formatMessage({id:"Market__buy"})}),Object(Q.jsx)(re.default,{flex:1,ml:2,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(W.default.serviceSwap.sellToken(r.tokens[0]),o.pop(),o.navigate(b.TabRoutes.Swap))},isDisabled:a,children:n.formatMessage({id:"Market__sell"})})]})},Ru=Object(i.memo)((function(e){var t,n,r,o,a,c,l,s=e.marketTokenId,u=e.tokenDetail,d=Object(je.default)().bottom,f=Object(j.default)(),b=Object(i.useState)(!1),p=x()(b,2),O=p[0],m=p[1],h=f?"16px":"0px",g=Object(z.useAppSelector)((function(e){return e.settings.locale})),v=Object(i.useCallback)(Sn()((function*(){m(!0),yield W.default.serviceMarket.fetchMarketDetail({coingeckoId:s,locale:"system"===g?Object(el.getDefaultLocale)():g}),m(!1)})),[g,s]);return Object(Q.jsxs)(pe.default,{contentContainerStyle:{paddingBottom:d},refreshControl:Object(Q.jsx)(Tu.default,{refreshing:O,onRefresh:v}),children:[Object(Q.jsx)(N.default,{w:"100%",p:h,flexDirection:"column",bg:"background-default",children:f?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ll,{coingeckoId:s}),Object(Q.jsx)(Du,{marketTokenId:s})]}):Object(Q.jsx)(Ll,{coingeckoId:s})}),Object(Q.jsx)($c,{low24h:null==u||null==(t=u.stats)?void 0:t.low24h,high24h:null==u||null==(n=u.stats)?void 0:n.high24h,marketCapRank:null==u||null==(r=u.stats)?void 0:r.marketCapRank,marketCap:null==u||null==(o=u.stats)?void 0:o.marketCap,volume24h:null==u||null==(a=u.stats)?void 0:a.volume24h,expolorers:null==u?void 0:u.explorers,about:null==u?void 0:u.about,links:null==u?void 0:u.links,atl:null==u||null==(c=u.stats)?void 0:c.atl,ath:null==u||null==(l=u.stats)?void 0:l.ath,px:h})]})})),Eu=function(e){var t=e.tokenItem,n=Object(y.default)(),r=Object(j.default)(),o=Object(i.useCallback)((function(){t&&(t.favorited?(W.default.serviceMarket.cancelMarketFavoriteToken(t.coingeckoId),qt.default.show({title:n.formatMessage({id:"msg__removed"})})):(W.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:t.coingeckoId,symbol:t.symbol}]),qt.default.show({title:n.formatMessage({id:"msg__added_to_favorites"})})))}),[n,t]);return r?Object(Q.jsx)(N.default,{children:Object(Q.jsx)(vt.default,{ml:4,mr:2,type:r?"plain":"basic",name:null!=t&&t.favorited?"StarSolid":"StarOutline",size:r?"xl":"base",circle:!0,iconColor:null!=t&&t.favorited?"icon-warning":"icon-default",onPress:o})}):Object(Q.jsx)(hl,{icon:null!=t&&t.favorited?"StarSolid":"StarOutline",text:null!=t&&t.favorited?n.formatMessage({id:"action__unlike"}):n.formatMessage({id:"action__like"}),onPress:o})},Bu=function(e){var t=e.onPress,n=Object(y.default)();return Object(Q.jsx)(hl,{icon:"ArrowsRightLeftMini",text:n.formatMessage({id:"title__swap"}),onPress:t})},Nu=function(e){var t=e.onPress,n=Object(y.default)();return Object(Q.jsx)(hl,{icon:"PlusMini",text:n.formatMessage({id:"Market__buy"}),onPress:t})},Lu=function(e){var t=e.tokenItem,n=Object(j.default)();return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(At.default,{size:n?6:8,token:{logoURI:null==t?void 0:t.logoURI,symbol:null==t?void 0:t.symbol,name:null==t?void 0:t.name}}),Object(Q.jsx)(te.default.Heading,{ml:"2",children:null==t?void 0:t.symbol})]})},Wu=function(e){var t,n=e.marketTokenId,r=e.children,o=Object(w.useNavigation)(),a=Object(j.default)(),c=Object(i.useState)(!1),l=x()(c,2),s=l[0],u=l[1],f=Object(Bl.useMarketTokenItem)({coingeckoId:n}),p=Object(i.useCallback)((function(){o.goBack()}),[o]);Object(i.useLayoutEffect)((function(){a?o.setOptions({headerRight:function(){return Object(Q.jsx)(Eu,{tokenItem:f})},headerTitle:function(){return Object(Q.jsx)(Lu,{tokenItem:f})}}):o.setOptions({headerShown:!1})}));var O=null==f||null==(t=f.tokens)?void 0:t[0],m=Object(i.useState)(""),h=x()(m,2),g=h[0],v=h[1];Object(i.useEffect)((function(){void 0!==(null==O?void 0:O.address)&&void 0!==(null==O?void 0:O.networkId)&&W.default.serviceFiatPay.getFiatPayUrl({type:"buy",tokenAddress:null==O?void 0:O.address,networkId:null==O?void 0:O.networkId}).then((function(e){return v(e)}))}),[null==O?void 0:O.address,null==O?void 0:O.networkId]);var y=Object(i.useCallback)((function(e){var t=e.nativeEvent.layout.width;u(t>1280)}),[]),k=dl.coingeckoId2StakingTypes[n];return a?null!=r?r:null:Object(Q.jsxs)(N.default,{bg:"background-default",w:"full",h:"full",p:"4",children:[Object(Q.jsx)(N.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:Object(Q.jsx)(vt.default,{onPress:p,type:"plain",name:"ArrowLeftOutline"})}),Object(Q.jsxs)(N.default,{flex:1,flexDirection:"row",justifyContent:"center",onLayout:y,children:[Object(Q.jsxs)(N.default,{flex:1,maxW:zc.SCREEN_SIZE.LARGE,children:[Object(Q.jsxs)(N.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"8",children:[Object(Q.jsx)(Lu,{tokenItem:f}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[O?Object(Q.jsx)(Bu,{onPress:function(){O&&(W.default.serviceSwap.setOutputToken(O),o.navigate(b.TabRoutes.Swap))}}):null,k?Object(Q.jsx)(Au,{stakingType:k}):null,g.length>0&&!d.default.isAppleStoreEnv?Object(Q.jsx)(Nu,{onPress:function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:g}}})}}):null,Object(Q.jsx)(Eu,{tokenItem:f})]})]}),r]}),O&&s?Object(Q.jsx)(N.default,{width:"360px",ml:"4",children:Object(Q.jsx)(Ki,{networkId:O.networkId,tokenId:O.tokenIdOnNetwork})}):null]})]})},zu=function(){var e=Object(w.useRoute)().params.marketTokenId,t=tl({coingeckoId:e}).tokenDetail;return Object(Q.jsx)(Wu,{marketTokenId:e,children:Object(Q.jsx)(Ru,{tokenDetail:t,marketTokenId:e})})};function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uu=function(e){return Object(Q.jsxs)(oe.default,Fu(Fu({viewBox:"0 0 358 160",fill:"currentColor"},e),{},{children:[Object(Q.jsx)(oe.Path,{d:"M340.11 16.0064C347.852 16.0064 350.258 0 358 0V160H0V89.463C7.74194 89.463 15.484 95.038 23.2259 95.038C30.9679 95.038 38.7098 89.845 46.4518 88.9552C54.1937 88.0654 61.9358 88.5103 69.6778 87.6205C77.4197 86.7306 85.1615 74.6404 92.9034 71.9121C100.645 69.1838 108.387 100.56 116.129 97.8317C123.871 95.1034 131.613 47.4332 139.355 47.4332C147.097 47.4332 155.506 58.5234 163.248 58.5234C170.99 58.5234 178.065 43.7073 185.807 42.0845C193.549 40.4617 203.425 61.243 211.167 60.5171C218.909 59.7912 235.973 33.7274 243.715 33.7274C250.6 34.5138 250.6 44.5178 273.512 49.0196C281.254 49.0196 285.916 22.966 293.658 19.5183C301.4 16.0706 311.841 31.431 319.583 27.511C327.325 23.591 332.368 16.0064 340.11 16.0064Z",fill:"url(#paint0_linear_5149_43265)"}),Object(Q.jsx)(oe.Defs,{children:Object(Q.jsxs)(oe.LinearGradient,{id:"paint0_linear_5149_43265",x1:"179",y1:"0",x2:"179",y2:"160",gradientUnits:"userSpaceOnUse",children:[Object(Q.jsx)(oe.Stop,{stopColor:"#3D3D4D"}),Object(Q.jsx)(oe.Stop,{offset:"1",stopColor:"#1D1D2A",stopOpacity:"0"})]})})]}))},Vu=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=Object(y.default)();if(null!==n){var i=Object(ll.calculateGains)({basePrice:r,price:n}),c=i.gainText,l=i.percentageGain,s=i.gainTextColor;t=Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(te.default.Body2Strong,{color:s,children:[c,"(",l,")"]}),Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ee.default,{name:"ExclamationTriangleMini",size:16}),Object(Q.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:a.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})})]});return Object(Q.jsx)(N.default,{flexDirection:"column",children:Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:t})})},Gu=function(e){var t,n=e.data,r=e.isFetching,o=e.children,a=Object(Pr.default)().formatDate,c=Object(i.useState)(),l=x()(c,2),s=l[0],u=l[1],d=Object(i.useState)(a(new Date)),f=x()(d,2),b=f[0],j=f[1],p=null!=n&&n.length?n[0][1]:0,O=null!=n&&n.length?n[n.length-1][1]:0;t=n?"undefined"===s||void 0===s?O:"string"===typeof s?+s:s:null;var m=Object(i.useCallback)((function(e){var t;t=e.time instanceof Date?a(e.time):"number"===typeof e.time?a(new Date(e.time)):"string"===typeof e.time?a(new Date(+e.time)):a(new Date),j(t),u(e.price)}),[a]),h=n?Object(Q.jsx)(Sl,{isFetching:r,height:350,data:n,onHover:m}):Object(Q.jsx)(Uu,{width:"100%",height:"100%",preserveAspectRatio:"none"}),g=n&&0===n.length?Object(Q.jsx)(It.default,{}):h;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",children:[Object(Q.jsx)(te.default.DisplayXLarge,{my:"1",children:t?Object(Vc.formatDecimalZero)(t):""}),Object(Q.jsx)(N.default,{w:"280px",children:o})]}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Vu,{price:t,time:b,basePrice:p})}),Object(Q.jsx)(N.default,{h:"350px",mt:"30px",justifyContent:"center",alignItems:"center",children:g})]})};Gu.displayName="ChartWithLabel";var qu=Gu,Yu=function(){return String(Math.ceil(Date.now()/36e5))};var Ku=function(e){var t=e.fromToken,n=e.toToken,r=e.style,o=Object(i.useState)(0),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(0),u=x()(s,2),d=u[0],f=u[1],b=function(){var e=Object(i.useState)(Yu()),t=x()(e,2),n=t[0],r=t[1],o=Object(i.useCallback)((function(){return r(Yu())}),[]);return Object(z.useInterval)(o,18e5),n}(),j=Object(i.useRef)({}),p=Object(i.useCallback)(function(){var e=Sn()((function*(e){var t,n,r,o,a=e.contractAdress,i=e.newTimeValue,c=e.networkId,s=Ml.indexOf(i);if(!(null==(t=j.current)||null==(n=t[c])||null==(r=n[a])||null==(o=r[b])?void 0:o[s])){var u=[];try{var d,f;if(l((function(e){return e+1})),null!=(d=u=yield yl({contract:a,networkId:c,days:Al[s],points:"100",vs_currency:"usd"}))&&d.length)null!=(f=j.current)&&f[c]||(j.current[c]={}),j.current[c][a]||(j.current[c][a]={}),j.current[c][a][b]||(j.current[c][a][b]=[]),j.current[c][a][b][s]=u}finally{l((function(e){return e-1}))}}}));return function(t){return e.apply(this,arguments)}}(),[j,b]);Object(i.useEffect)((function(){p({newTimeValue:Ml[d],networkId:n.networkId,contractAdress:n.tokenIdOnNetwork})}),[n,p,d]),Object(i.useEffect)((function(){p({newTimeValue:Ml[d],networkId:t.networkId,contractAdress:t.tokenIdOnNetwork})}),[t,p,d]);var O=Object(i.useCallback)(function(){var e=Sn()((function*(e){var r=Ml.indexOf(e),o=p({newTimeValue:e,networkId:t.networkId,contractAdress:t.tokenIdOnNetwork}),a=p({newTimeValue:e,networkId:n.networkId,contractAdress:n.tokenIdOnNetwork});yield Promise.all([o,a]),f(r)}));return function(t){return e.apply(this,arguments)}}(),[t,n,p]),m=Object(i.useMemo)((function(){var e,r,o,a,i,c,l=null==(e=j.current[t.networkId])||null==(r=e[t.tokenIdOnNetwork])||null==(o=r[b])?void 0:o[d],s=null==(a=j.current[n.networkId])||null==(i=a[n.tokenIdOnNetwork])||null==(c=i[b])?void 0:c[d];if(l&&s){var u=Math.min(l.length,s.length);return l.slice(0,u-1).map((function(e,t){return[e[0],e[1]/s[t][1]]}))}return[]}),[n,t,d,c,b]);return Object(Q.jsx)(N.default,{style:r,children:Object(Q.jsx)(qu,{isFetching:0!==c,data:m,children:Object(Q.jsx)(Rl,{enabled:0===c&&!!m,selectedIndex:d,onTimeChange:O})})})};Ku.displayName="SwapChart";var Xu=Ku,Qu=n(162),Zu=n(4187),Ju=n(582),$u=n(4124),ed=function(){var e=Object(y.default)(),t=Object(i.useRef)(!1),n=Object(z.useNavigation)(),r=Object($u.useLimitOrderParams)(),o=Object(i.useContext)(ba),a=Object(ae.useAppSelector)((function(e){return e.limitOrder.instantRate})),c=Object(ja.useSwapSend)(),l=Object(ja.useSwapSignMessage)(),s=Object(i.useCallback)(Sn()((function*(){if(r&&a){var t=Object(Lo.getWalletIdFromAccountId)(r.activeAccount.id),i=yield W.default.engine.getWallet(t);null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})});var s=yield W.default.serviceLimitOrder.buildLimitOrder({params:r,instantRate:a}),u=Math.floor(Date.now()/1e3);if(s){var d=[],f=function(){var t=Sn()((function*(){var t=yield W.default.serviceLimitOrder.getEIP712TypedData({domain:{networkId:r.tokenIn.networkId},message:s}),i=r.activeAccount.id,c=r.tokenIn.networkId,d=r.tokenIn,f=r.tokenOut;null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__submitting_order_str"},{0:""})}),yield l({accountId:i,networkId:c,unsignedMessage:{type:4,message:JSON.stringify(t)},onSuccess:function(){var e=Sn()((function*(e){var o=Qu.ethers.utils._TypedDataEncoder.hash(t.domain,{LimitOrder:t.types.LimitOrder},t.message);yield W.default.serviceLimitOrder.submitLimitOrder({order:s,networkId:r.tokenIn.networkId,signature:e}),W.default.dispatch(Object(da.addLimitOrderTransaction)({networkId:d.networkId,accountId:i,limitOrder:{networkId:d.networkId,accountId:i,orderHash:o,tokenIn:d,tokenInValue:s.makerAmount,tokenOut:f,tokenOutValue:s.takerAmount,remainingFillable:s.takerAmount,rate:a,createdAt:u,expiredIn:Number(s.expiry)}})),zo.appUIEventBus.emit(zo.AppUIEventBusNames.LimitOrderCompleted),W.default.serviceLimitOrder.resetState(),setTimeout((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.TransactionSubmitted,params:{orderHash:o}}})}),650)}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){zo.appUIEventBus.emit(zo.AppUIEventBusNames.LimitOrderError)}})}));return function(){return t.apply(this,arguments)}}();d.unshift(f);var j,p,O=!1,m=yield W.default.engine.getTokenAllowance({networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,tokenIdOnNetwork:r.tokenIn.tokenIdOnNetwork,spender:Ju.ZeroExchangeAddress});m&&(O=new Cn.a(Object(qo.getTokenAmountString)(r.tokenIn,m)).lt(s.makerAmount));var x=yield W.default.serviceSwap.needToResetApproval(r.tokenIn);if(O&&x&&Number(m||"0")>0&&(p=yield W.default.engine.buildEncodedTxFromApprove({spender:Ju.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:"0"})),O&&(j=yield W.default.engine.buildEncodedTxFromApprove({spender:Ju.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:Object(qo.getTokenAmountValue)(r.tokenIn,s.makerAmount).toFixed()}),p&&p.nonce&&(j.nonce=Number(p.nonce)+1)),j){var h=function(){var t=Sn()((function*(t){null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield c({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:j,gasEstimateFallback:Boolean(p),onSuccess:function(){var e=Sn()((function*(){"hw"===i.type&&n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.HardwareContinue}}),yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();d.unshift(h)}if(p){var g=function(){var t=Sn()((function*(t){null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__resetting_authorizing_str"},{0:""})}),yield c({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:p,onSuccess:function(){var e=Sn()((function*(){yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();d.unshift(g)}p?Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Zu.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:Sn()((function*(){try{null==o||null==o.openProgressStatus||o.openProgressStatus(),yield Object(qo.combinedTasks)(d)}finally{null==o||null==o.closeProgressStatus||o.closeProgressStatus()}}))})})):yield Object(qo.combinedTasks)(d)}else qt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else qt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})})),[r,a,e,l,c,n,o]),u=Object(i.useCallback)(Sn()((function*(){if(!t.current){t.current=!0;try{null==o||null==o.openProgressStatus||o.openProgressStatus(),yield s()}finally{t.current=!1,null==o||null==o.closeProgressStatus||o.closeProgressStatus()}}})),[s,o]);return o.progressStatus?Object(Q.jsx)(ha,{}):Object(Q.jsx)(re.default,{size:"xl",type:"primary",onPress:u,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order")},td=function(){var e=Object(y.default)(),t=Object(ae.useAppSelector)((function(e){return e.limitOrder.loading})),n=Object($u.useLimitOrderOutput)(),r=Object($u.useCheckLimitOrderInputBalance)(),o=Object(qo.lte)(n,0);return t||o?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:o,isLoading:t,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order"):r&&r.insufficient?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:r.token.symbol})},"insufficient_balance_error"):Object(Q.jsx)(ed,{})},nd=function(){var e=Object(y.default)();return Object(ae.useAppSelector)((function(e){return e.swapTransactions.limitOrderMaintain}))?Object(Q.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"limitOrderMaintain"):Object(Q.jsx)(td,{})},rd=function(){return Object(Q.jsx)(Oa,{children:Object(Q.jsx)(nd,{})})};function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var id=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=Object(y.default)(),c=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenOut})),l=Object(ti.useTokenPrice)(c);return Object(Q.jsx)(N.default,ad(ad({},o),{},{position:"relative",children:Object(Q.jsx)(N.default,{position:"relative",children:Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Q.jsx)($.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:c?Object(Q.jsx)(ni,{token:c}):Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:Object(Q.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Q.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Q.jsx)(N.default,{position:"absolute",bottom:"7",right:2,children:Object(Q.jsx)(N.default,{pointerEvents:"none",children:Object(Q.jsx)(te.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(Q.jsx)(ei.FormatCurrency,{numbers:[null!=l?l:0,null!=t?t:0],render:function(e){return Object(Q.jsx)(te.default.Caption,{ml:3,color:"text-subdued",children:l?e:"-"})}})})})}),Object(Q.jsx)(Ht.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",color:"text-subdued",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isDisabled:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]})})}))},cd=n(352);function ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ud=function(e){var t=e.account,n=e.token,r=Object(y.default)(),o=Object(z.useNavigation)(),a=Object(z.useActiveWalletAccount)().walletId,c=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,onSelected:function(e){W.default.dispatch(Object(cd.setActiveAccount)(e))}}}})}),[n,o]),l=Object(on.useCreateAccountInWallet)({networkId:null==n?void 0:n.networkId,walletId:a}).createAccount;return null===t?Object(Q.jsx)($.default,{onPress:l,children:Object(Q.jsx)(N.default,{py:"1",px:"2",flexDirection:"row",bg:"surface-neutral-subdued",borderRadius:"12",children:Object(Q.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"action__create_account"})})})}):Object(Q.jsx)($.default,{borderRadius:"12",overflow:"hidden",onPress:c,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?Object(Q.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",mr:"1",children:[Object(Q.jsx)(te.default.Body2Strong,{mr:"1",maxW:"120",isTruncated:!0,children:t.name}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),Object(Q.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]}):Object(Q.jsx)(N.default,{py:"1",px:"2",borderRadius:"12",children:Object(Q.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})},dd=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,c=Object(y.default)(),l=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenIn})),s=Object(z.useAppSelector)((function(e){return e.limitOrder.activeAccount})),u=Object(ti.useTokenBalance)(l,null==s?void 0:s.id),d=Object(ti.useTokenPrice)(l),f=null!=u?u:"0",b=Object(i.useCallback)(Sn()((function*(){if(l&&f)if(l.tokenIdOnNetwork)W.default.serviceLimitOrder.userInputValue(f);else{var e=yield W.default.serviceSwap.getReservedNetworkFee(l.networkId),t=Cn.a.max(0,new Cn.a(f).minus(e));t.gt(0)?W.default.serviceLimitOrder.userInputValue(t.toFixed()):Number(f)>0&&qt.default.show({title:c.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:e+" "+l.symbol.toUpperCase()})},{type:"error"})}})),[l,f,c]),j=Object(qo.formatAmount)(f,6);return f&&0!==Number(f)&&!Number.isNaN(+f)||(j="0"),Object(Q.jsx)(N.default,sd(sd({},o),{},{position:"relative",children:Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(ud,{account:s,token:l}),Object(Q.jsx)($.default,{onPress:function(){a||b()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:l?j+" "+l.symbol.toUpperCase():"-"}),Object(Q.jsx)(N.default,{h:"4",w:"8",ml:"1",justifyContent:"center",alignItems:"center",borderRadius:4,backgroundColor:"surface-neutral-default",children:Object(Q.jsx)(te.default.Caption,{color:"text-default",children:c.formatMessage({id:"action__max"})})})]})})]}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Q.jsx)($.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:l?Object(Q.jsx)(ni,{token:l}):Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.DisplayMedium,{fontWeight:600,children:c.formatMessage({id:"title__select_a_token"})})})}),Object(Q.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:Object(Q.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Q.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Q.jsx)(N.default,{position:"absolute",bottom:"7",right:2,children:Object(Q.jsx)(N.default,{pointerEvents:"none",children:Object(Q.jsx)(te.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(Q.jsx)(ei.FormatCurrency,{numbers:[null!=d?d:0,null!=t?t:0],render:function(e){return Object(Q.jsx)(te.default.Caption,{ml:3,color:"text-subdued",children:d?e:"-"})}})})})}),Object(Q.jsx)(Ht.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:a,rightCustomElement:null})]})})})]})]})}))},fd=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(ae.useActiveWalletAccount)(),r=n.wallet,o=n.network,a=Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),c=!r||!o||a,l=Object(ae.useAppSelector)((function(e){return e.limitOrder.typedValue})),s=Object($u.useLimitOrderOutput)(),u=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.LimitOrderInput}})}),[t]),d=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.LimitOrderOutput}})}),[t]),f=Object(i.useCallback)((function(e){W.default.serviceLimitOrder.userInputValue(e)}),[]),j=Object(i.useCallback)((function(){W.default.serviceLimitOrder.switchTokens()}),[]),p=Object(i.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]),O=Object(qo.formatAmount)(s,8);return 0===Number(O)&&(O=Object(qo.formatAmount)(s,16)),Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsxs)(N.default,{position:"relative",children:[Object(Q.jsx)(N.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Q.jsx)(dd,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:l,onChange:f,onPress:u,containerProps:p.upper})}),Object(Q.jsx)(N.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:Object(Q.jsx)(N.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:Object(Q.jsx)(T.default,{children:Object(Q.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Q.jsx)(vt.default,{w:35,h:35,borderColor:"background-default",name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:j,size:"lg",bgColor:"surface-neutral-subdued"})})})})}),Object(Q.jsx)(N.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Q.jsx)(id,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:O,onPress:d,containerProps:p.lower})}),c?Object(Q.jsx)(N.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})};function bd(e){var t=Math.floor(e/1440);if(t>0)return t+"D";var n=Math.floor(e/60);return n>0?n+"H":e+"M"}function jd(){var e,t=Object(y.default)(),n=Object(z.useAppSelector)((function(e){return e.limitOrder.typedPrice})),r=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenIn})),o=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenOut})),a=Object(z.useAppSelector)((function(e){return e.limitOrder.instantRate})),c=Object(z.useAppSelector)((function(e){return e.limitOrder.mktRate})),l=Object(i.useCallback)((function(e){W.default.dispatch(Object(cd.setTypedPrice)({reversed:n.reversed,value:e}));var t=n.reversed?Object(qo.formatAmountExact)(Object(qo.div)(1,e)):e;W.default.dispatch(Object(cd.setInstantRate)(t))}),[n.reversed]),s=Object(i.useCallback)((function(){var e=n.reversed?Object(qo.formatAmountExact)(Object(qo.div)(1,c)):c;l(e)}),[c,n.reversed,l]),u=Object(i.useCallback)((function(){var e=!n.reversed,t=e?Object(qo.formatAmountExact)(Object(qo.div)(1,a)):a;W.default.dispatch(Object(cd.setTypedPrice)({reversed:e,value:t}))}),[n.reversed,a]),d=n.reversed?null==o?void 0:o.symbol:null==r?void 0:r.symbol,f=n.reversed?null==r?void 0:r.symbol:null==o?void 0:o.symbol;return Object(Q.jsxs)(N.default,{flex:"1",backgroundColor:"surface-subdued",px:"4",pb:"4",pt:"3",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(te.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:t.formatMessage({id:"form__str_price"},{0:null!=d?d:""})})}),Object(Q.jsx)($.default,{onPress:s,children:Object(Q.jsx)(te.default.CaptionUnderline,{children:t.formatMessage({id:"action__set_to_mkt"})})})]}),Object(Q.jsxs)(N.default,{flexDirection:"row",w:"full",alignItems:"center",children:[Object(Q.jsx)(N.default,{flex:"1",children:Object(Q.jsx)(Ht.default,{borderWidth:0,placeholder:"0.00",fontSize:20,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderRadius:0,pl:0,rightCustomElement:null,focusOutlineColor:"transparent",value:null!=(e=n.value)?e:"",onChangeText:l})}),Object(Q.jsx)(N.default,{children:Object(Q.jsxs)($.default,{flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",py:"1",px:"1.5",borderRadius:8,onPress:u,children:[Object(Q.jsx)(te.default.CaptionStrong,{color:"text-subdued",mr:"1",children:null!=f?f:""}),Object(Q.jsx)(ee.default,{name:"ArrowsRightLeftMini",size:10})]})})]})]})}function pd(){var e=Object(y.default)(),t=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__str_minute"},{0:10}),value:10},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hours"},{0:24}),value:1440},{label:e.formatMessage({id:"form__str_day"},{0:7}),value:10080},{label:e.formatMessage({id:"form__str_day"},{0:30}),value:43200}]}),[e]),n=Object(z.useAppSelector)((function(e){return e.limitOrder.expireIn})),r=Object(i.useCallback)((function(e){W.default.dispatch(Object(cd.setExpireIn)(e))}),[]);return Object(Q.jsxs)(N.default,{px:"4",pb:"4",pt:"3",w:"124px",backgroundColor:"surface-subdued",ml:"1",justifyContent:"space-between",children:[Object(Q.jsx)(te.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:e.formatMessage({id:"form__expires_in"})}),Object(Q.jsx)(Y.default,{title:e.formatMessage({id:"form__expires_in"}),isTriggerPlain:!0,footer:null,value:n,defaultValue:n,headerShown:!1,options:t,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(e){var t=e.activeOption;return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(Q.jsx)(te.default.DisplayMedium,{children:bd(t.value)}),Object(Q.jsx)(ee.default,{size:20,name:"ChevronDownMini"})]})},onChange:r})]})}function Od(){return Object(Q.jsxs)(N.default,{flexDirection:"row",w:"full",h:"20",mt:"1",overflow:"hidden",children:[Object(Q.jsx)(jd,{}),Object(Q.jsx)(pd,{})]})}function md(e){var t=Object(z.useNavigation)();return Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.LimitOrderDetails,params:{orderHash:e.orderHash}}})}),[e.orderHash,t])}var xd=function(e){var t=e.details,n=Object(i.useState)(!1),r=x()(n,2),o=r[0],a=r[1],c=Object(z.useAccount)({accountId:t.accountId,networkId:t.networkId}).account,l=Object($u.useCancelLimitOrderCallback)(),s=Object(i.useCallback)(Sn()((function*(){if(c){a(!0);try{yield l({activeAccount:c,details:t})}finally{a(!1)}}})),[t,c,l]);return Object(Q.jsx)(vt.default,{isLoading:o,name:"XMarkMini",type:"plain",isDisabled:t.canceled,onPress:s})},hd=function(e){var t=e.order,n=Object(y.default)(),r=md(t),o=t.tokenIn,a=t.tokenOut,i=t.tokenInValue,c=t.tokenOutValue,l=t.remainingFillable,s=t.canceled,u=Object(qo.formatAmountExact)(Object(qo.getTokenAmountValue)(o,i)),d=Object(qo.formatAmountExact)(Object(qo.getTokenAmountValue)(a,c)),f=u+" "+o.symbol.toUpperCase()+" \u2192 "+d+" "+a.symbol.toUpperCase(),b=0===Number(l)?n.formatMessage({id:"form_opened"}):n.formatMessage({id:"form__str_filled"},{0:Math.floor(Number(Object(qo.getLimitOrderPercent)(t)))+"%"});return Object(Q.jsxs)($.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",onPress:r,children:[Object(Q.jsxs)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(N.default,{mr:"1",children:Object(Q.jsx)(At.default,{size:"10",borderRadius:"full",token:o,bgColor:"surface-neutral-default"})}),Object(Q.jsxs)(N.default,{flex:"1",children:[Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.Body2Strong,{children:f})}),Object(Q.jsx)(N.default,{flexDirection:"row",children:s?Object(Q.jsx)(st.default,{type:"warning",size:"sm",title:n.formatMessage({id:"badge__cancelling"})}):Object(Q.jsx)(st.default,{type:"info",size:"sm",title:b})})]})]}),Object(Q.jsx)(N.default,{w:"9",flexDirection:"row",alignItems:"center",children:s?null:Object(Q.jsx)(N.default,{children:Object(Q.jsx)(xd,{details:t})})})]})},gd=function(e){var t=e.orders,n=Object(y.default)();return t&&0!==t.length?Object(Q.jsx)(Oe.default,{space:"4",py:"4",children:t.map((function(e){return Object(Q.jsx)(hd,{order:e},e.orderHash)}))}):Object(Q.jsx)(N.default,{py:"4",children:Object(Q.jsx)(xt.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})},vd=function(e){var t=e.order,n=t.tokenIn,r=t.tokenOut,o=t.tokenInValue,a=t.tokenOutValue,i=t.remainingFillable,c=t.canceled,l=t.expiredIn,s=Object(y.default)(),u=md(t),d=Object(qo.formatAmountExact)(Object(qo.getTokenAmountValue)(n,o)),f=Object(qo.formatAmountExact)(Object(qo.getTokenAmountValue)(r,a)),b=Object(Pr.default)().formatDate,j=0===Number(i)?s.formatMessage({id:"form_opened"}):s.formatMessage({id:"form__str_filled"},{0:Math.floor(Number(Object(qo.getLimitOrderPercent)(t)))+"%"});return Object(Q.jsxs)($.default,{onPress:u,children:[Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsxs)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(N.default,{mr:"1",children:Object(Q.jsx)(At.default,{size:"8",borderRadius:"full",token:r,bgColor:"surface-neutral-default"})}),Object(Q.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Q.jsxs)(te.default.Body2Strong,{overflow:"clip",children:[f," ",r.symbol.toUpperCase()]})})]}),Object(Q.jsx)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Q.jsxs)(te.default.Body2Strong,{overflow:"clip",children:[d," ",n.symbol.toUpperCase()]})})}),Object(Q.jsx)(N.default,{w:"30%",flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(te.default.Body2Strong,{overflow:"clip",children:b(new Date(1e3*l))})})}),Object(Q.jsx)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:c?Object(Q.jsx)(st.default,{type:"warning",size:"sm",title:s.formatMessage({id:"badge__cancelling"})}):Object(Q.jsx)(st.default,{type:"info",size:"sm",title:j})}),Object(Q.jsx)(N.default,{w:"10%",children:c?null:Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(xd,{details:t})})})]}),Object(Q.jsx)(mt.default,{color:"text-subdued",my:"4"})]})},yd=function(e){var t=e.orders,n=Object(y.default)();return t&&0!==t.length?Object(Q.jsxs)(N.default,{py:"4",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsx)(N.default,{w:"20%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"action__receive"}).toUpperCase()})}),Object(Q.jsx)(N.default,{w:"20%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__pay"}).toUpperCase()})}),Object(Q.jsx)(N.default,{w:"30%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__expiration"}).toUpperCase()})}),Object(Q.jsx)(N.default,{w:"20%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__status"}).toUpperCase()})}),Object(Q.jsx)(N.default,{w:"10%"})]}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Oe.default,{space:"4",py:"4",children:t.map((function(e){return Object(Q.jsx)(vd,{order:e},e.orderHash)}))})})]}):Object(Q.jsx)(N.default,{py:"4",children:Object(Q.jsx)(xt.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})};function wd(){var e=Object(z.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=Object(z.useAppSelector)((function(e){return e.swap.mode})),n=Object($u.useLimitOrders)(null==e?void 0:e.id),r=Object(y.default)();return"limit"===t?Object(Q.jsxs)(N.default,{px:"4",children:[Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.Heading,{children:r.formatMessage({id:"title__open_order"})})}),Object(Q.jsx)(gd,{orders:n})]}):null}function kd(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.mode})),n=Object(z.useAppSelector)((function(e){return e.limitOrder})).activeAccount,r=Object($u.useLimitOrders)(null==n?void 0:n.id);return"limit"===t?Object(Q.jsxs)(N.default,{px:"4",mt:"4",children:[Object(Q.jsx)(N.default,{children:Object(Q.jsx)(te.default.Heading,{children:e.formatMessage({id:"title__open_order"})})}),Object(Q.jsx)(yd,{orders:r})]}):null}function _d(){var e,t=Object(y.default)(),n=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenIn})),r=Object(z.useAppSelector)((function(e){return e.limitOrder.instantRate})),o=Object(z.useAppSelector)((function(e){return e.limitOrder.mktRate})),a=Object(i.useMemo)((function(){if(r&&o&&r!==o){var e=new Cn.a(o).minus(r).absoluteValue().div(o).multipliedBy(100).decimalPlaces(2).toFixed();return Object(qo.gt)(e,5)&&Object(qo.gt)(o,r)?e+"%":""}return""}),[r,o]);return a?Object(Q.jsx)(N.default,{mb:"4",children:Object(Q.jsx)(lt.default,{title:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price"},{0:a}),description:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price_desc"},{0:null!=(e=null==n?void 0:n.symbol.toUpperCase())?e:""}),alertType:"warn",dismiss:!1})}):null}function Sd(){var e=Object(Ra.useSwapChartMode)(),t=Object(j.default)();return Object(Q.jsxs)(N.default,{children:[Object(Q.jsxs)(N.default,{borderRadius:t?void 0:"12",overflow:"hidden",children:[Object(Q.jsx)(fd,{}),Object(Q.jsx)(Od,{})]}),Object(Q.jsx)(Da,{children:Object(Q.jsxs)(N.default,{my:"6",children:[Object(Q.jsx)(_d,{}),Object(Q.jsx)(rd,{})]})}),"chart"!==e?Object(Q.jsx)(wd,{}):null]})}function Id(){var e=Object(z.useAppSelector)((function(e){return e.swap.mode})),t=Object(Ra.useProgressStatusContext)(),n=Object(Ra.useProgressStatusContext)();return Object(Q.jsx)(fa.Provider,{value:t,children:Object(Q.jsx)(ba.Provider,{value:n,children:Object(Q.jsx)(N.default,{children:"limit"===e?Object(Q.jsx)(Sd,{}):Object(Q.jsx)(Yi,{})})})})}var Cd=n(4065),Pd=function(){var e=Object(i.useState)(1),t=x()(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){var e=setInterval((function(){return r((function(e){return e>=3?1:e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var o=Object(i.useMemo)((function(){return Array.from({length:n},(function(e,t){return t}))}),[n]);return Object(Q.jsx)(gt.default,{w:"4",children:o.map((function(e){return Object(Q.jsx)(te.default.CaptionStrong,{children:"."},e)}))})},Md=function(e){var t=e.onPress,n=e.text,r=e.iconName,o=e.backgroundColor,a=e.borderColor,i=e.rightSlot;return Object(Q.jsx)($.default,{onPress:t,children:Object(Q.jsxs)(N.default,{py:"2",px:"3",flexDirection:"row",alignItems:"center",backgroundColor:o,borderColor:a,borderRadius:12,children:[Object(Q.jsx)(N.default,{mr:"2",children:Object(Q.jsx)(ee.default,{name:r,size:16})}),Object(Q.jsx)(te.default.CaptionStrong,{children:n}),i?Object(Q.jsx)(N.default,{ml:"2",children:i}):null]})})},Ad=function(e){var t=e.onPress,n=Object(y.default)(),r=Object(Cd.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type}));return Object(Q.jsx)(Md,{onPress:t,iconName:"ClockOutline",backgroundColor:"surface-highlight-default",text:n.formatMessage({id:"msg__str_in_progress"},{0:r.length}),rightSlot:Object(Q.jsx)(Pd,{})})},Td=function(e){var t=e.onPress,n=Object(y.default)(),r=Object(Cd.useWalletsSwapTransactions)(),o=r.filter((function(e){return"sucesss"===e.status&&!1===e.viewed})),a=r.filter((function(e){return("failed"===e.status||"canceled"===e.status)&&!1===e.viewed})),c=Object(i.useCallback)((function(){var e=r.filter((function(e){return"pending"!==e.status&&!1===e.viewed}));W.default.dispatch(Object(da.setTransactionViewed)({txids:e.map((function(e){return e.hash}))})),null==t||t()}),[r,t]);return a.length?Object(Q.jsx)(Md,{iconName:"XCircleOutline",onPress:c,text:n.formatMessage({id:"msg__str_swap_failed"},{0:a.length}),backgroundColor:"surface-critical-default",borderColor:"surface-critical-subdued"}):o.length?Object(Q.jsx)(Md,{iconName:"CheckCircleOutline",onPress:c,text:n.formatMessage({id:"msg__str_swap_done"},{0:o.length}),backgroundColor:"surface-success-default",borderColor:"surface-success-subdued"}):Object(Q.jsx)(vt.default,{type:"plain",name:"ClockOutline",onPress:t})},Dd=function(){var e=Object(Cd.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type})),t=Object(w.useNavigation)(),n=Object(i.useCallback)((function(){t.navigate(b.HomeRoutes.SwapHistory)}),[t]);return e.length>0?Object(Q.jsx)(Ad,{onPress:n}):Object(Q.jsx)(Td,{onPress:n})},Rd=function(){var e=Object(y.default)(),t=Object(z.useAppSelector)((function(e){return e.swap.mode})),n=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),r="swap"===t,o=Object(i.useCallback)((function(){n&&Ju.limitOrderNetworkIds.includes(n.networkId)||qt.default.show({title:e.formatMessage({id:"limit_orders_are_only_supported_for_str"},{0:"ETH, BSC, Polygon"})},{type:"default"}),W.default.serviceLimitOrder.setDefaultTokens(),W.default.dispatch(Object(Fo.setMode)("limit"))}),[n,e]);return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",h:"30px",children:[Object(Q.jsx)($.default,{mr:"3",onPress:function(){return W.default.dispatch(Object(Fo.setMode)("swap"))},children:Object(Q.jsx)(te.default.Body1Strong,{color:r?"text-default":"text-disabled",children:e.formatMessage({id:"title__swap"})})}),Object(Q.jsxs)($.default,{onPress:o,flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body1Strong,{color:r?"text-disabled":"text-default",children:e.formatMessage({id:"form__limit"})}),Object(Q.jsx)(N.default,{ml:"1",children:Object(Q.jsx)(st.default,{type:"info",size:"sm",title:"Beta"})})]})]})},Ed=function(){return Object(Q.jsxs)(N.default,{width:"full",flexDirection:"row",h:"9",justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(Rd,{}),Object(Q.jsx)(Dd,{})]})},Bd={params:void 0,count:0},Nd=function(){var e=Sn()((function*(e){var t=e.params,n=e.loading;if(Bd.params=t,t){n&&W.default.dispatch(Object(cd.setLoading)(!0)),Bd.count+=1;try{var r=yield Uo.SwapQuoter.client.fetchLimitOrderQuote(t);r&&Bd.params===t&&W.default.serviceLimitOrder.setRate(r.instantRate)}finally{Bd.count-=1,0===Bd.count&&W.default.dispatch(Object(cd.setLoading)(!1))}}else W.default.dispatch(Object(cd.setInstantRate)(""),Object(cd.setMktRate)(""),Object(cd.setLoading)(!1),Object(cd.setTypedPrice)({reversed:!1,value:""}))}));return function(t){return e.apply(this,arguments)}}(),Ld=function(){var e=Object($u.useLimitOrderParams)();return Object(i.useEffect)((function(){Nd({params:e,loading:!0})}),[e]),null},Wd=function(){var e=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenIn})),t=Object(z.useAppSelector)((function(e){return e.limitOrder.tokenOut}));return Object(i.useEffect)((function(){W.default.dispatch(Object(cd.setMktRate)(""),Object(cd.setInstantRate)(""),Object(cd.setTypedPrice)({value:""}))}),[e,t]),null},zd=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ld,{}),Object(Q.jsx)(Wd,{})]})},Hd=function(){var e=Object(z.useNavigation)(),t=Object(w.useIsFocused)();return Object(i.useEffect)((function(){function n(){return(n=Sn()((function*(){!(yield W.default.serviceSwap.getSwapWelcomeShown())&&t&&e.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.Welcome}})}))).apply(this,arguments)}var r=setTimeout((function(){return n.apply(this,arguments)}),1e3);return function(){return clearTimeout(r)}}),[e,t]),null},Fd=function(){return Object(Q.jsx)(Hd,{})},Ud=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(zd,{}),Object(Q.jsx)(ia,{}),Object(Q.jsx)(Fd,{})]})},Vd=n(4560),Gd=function(){var e=Object(Cd.useWalletsSwapTransactions)(),t=Object(i.useMemo)((function(){return e.filter((function(e){return"pending"===e.status}))}),[e]);return Object(Q.jsx)(Q.Fragment,{children:t.map((function(e){return Object(Q.jsx)(Vd.default,{tx:e},e.hash)}))})},qd=function(){var e=Object(z.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=Object(i.useCallback)((function(){e&&W.default.serviceLimitOrder.syncAccount({accountId:null==e?void 0:e.id})}),[e]);return Object(i.useEffect)((function(){t();var e=setInterval(t,6e4);return function(){return clearInterval(e)}}),[t]),null},Yd=function(){return Object(i.useEffect)((function(){W.default.serviceSwap.getSwapConfig(),W.default.serviceSwap.setDefaultInputToken()}),[]),null},Kd=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Yd,{}),Object(Q.jsx)(Gd,{}),Object(Q.jsx)(qd,{})]})},Xd=function(){var e=Object(y.default)(),t=Object(Ra.useSwapChartMode)();return Object(Q.jsxs)(N.default,{h:"16",px:"8",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(Q.jsx)(te.default.Heading,{children:e.formatMessage({id:"title__Swap_Bridge"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Y.default,{isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:t,onChange:function(e){W.default.serviceSwap.setSwapChartMode(e)},options:[{label:e.formatMessage({id:"title__simple_mode"}),value:"simple"},{label:e.formatMessage({id:"title__chart_mode"}),value:"chart"}],dropdownProps:{width:"40"},dropdownPosition:"right",renderTrigger:function(e){var t=e.onPress;return Object(Q.jsx)($.default,{onPress:t,children:function(e){var t=e.isHovered;return Object(Q.jsx)(N.default,{bg:t?"surface-hovered":"transparent",w:"10",h:"10",justifyContent:"center",alignItems:"center",borderRadius:"full",children:Object(Q.jsx)(ee.default,{name:"EllipsisVerticalOutline",size:24})})}})}})})]})},Qd=function(){return Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(T.default,{children:Object(Q.jsxs)(N.default,{maxW:{md:"480px"},width:"full",children:[Object(Q.jsx)(N.default,{flexDirection:"row",justifyContent:"space-between",px:"4",mb:"4",zIndex:1,children:Object(Q.jsx)(Ed,{})}),Object(Q.jsx)(N.default,{px:"4",children:Object(Q.jsx)(Id,{})})]})}),Object(Q.jsx)(Kd,{}),Object(Q.jsx)(Ud,{})]})},Zd=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken}));return e&&t?Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Xu,{fromToken:e,toToken:t})}):null},Jd=function(){var e=Object(z.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(z.useAppSelector)((function(e){return e.swap.outputToken}));return Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",children:[Object(Q.jsx)(T.default,{w:"9",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Q.jsx)(At.default,{token:e,size:8})}),Object(Q.jsx)(T.default,{w:"9",ml:"-4",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Q.jsx)(At.default,{token:t,size:8})})]}),Object(Q.jsxs)(te.default.Heading,{ml:"2",color:"text-default",fontSize:18,children:[null==e?void 0:e.symbol.toUpperCase()," / ",null==t?void 0:t.symbol.toUpperCase()]})]})},$d=function(){var e=Object(z.useNavigation)(),t=Object(Ra.useSwapChartMode)();return Object(i.useLayoutEffect)((function(){e.setOptions({headerShown:!1})}),[e]),Object(Q.jsxs)(Xt.ScrollView,{children:[Object(Q.jsx)(Xd,{}),Object(Q.jsx)(N.default,{mt:"12",children:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"center",px:"chart"===t?"8":void 0,overflow:"hidden",children:["chart"===t?Object(Q.jsxs)(N.default,{flex:"1",children:[Object(Q.jsx)(N.default,{minH:"52px",children:Object(Q.jsx)(Jd,{})}),Object(Q.jsx)(Zd,{}),Object(Q.jsx)(kd,{})]}):null,Object(Q.jsx)(N.default,{w:"480px",bg:"background-default",children:Object(Q.jsx)(Qd,{})})]})})]})},ef=function(){var e=Object(i.useState)(!1),t=x()(e,2),n=t[0],r=t[1],o=Object(i.useCallback)((function(){r(!0),zo.appUIEventBus.emit(zo.AppUIEventBusNames.SwapRefresh),setTimeout((function(){return r(!1)}),500)}),[]);return Object(Q.jsx)(pe.default,{refreshControl:Object(Q.jsx)(Tu.default,{refreshing:n,onRefresh:o}),children:Object(Q.jsx)(T.default,{children:Object(Q.jsxs)(N.default,{maxW:{md:"480px"},width:"full",children:[Object(Q.jsx)(N.default,{px:"4",mb:"4",zIndex:1,children:Object(Q.jsx)(Ed,{})}),Object(Q.jsx)(Id,{}),Object(Q.jsx)(Ud,{}),Object(Q.jsx)(Kd,{})]})})})},tf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.hideBottomTabBar,Object(j.default)());return t?Object(Q.jsx)(N.default,{flex:1,children:Object(Q.jsx)(ef,{})}):Object(Q.jsx)($d,{})},nf=n(271),rf=n(4024),of=function(){var e=Object(z.useAppSelector)((function(e){return e.market.listSort}));return Object(i.useMemo)((function(){return e}),[e])},af=function(){var e=Object(rf.useMarketSelectedCategory)();return Object(i.useMemo)((function(){var t;if((null==e?void 0:e.categoryId)===nf.MARKET_FAVORITES_CATEGORYID)return null==(t=e.coingeckoIds)?void 0:t.join(",")}),[null==e?void 0:e.categoryId,null==e?void 0:e.coingeckoIds])},cf=[{key:b.TabRoutes.Swap},{key:b.TabRoutes.Market}],lf=function(e){W.default.serviceMarket.switchMarketTopTab(e),Object(yn.getAppNavigation)().dispatch(w.TabActions.jumpTo(e))},sf=n(4351),uf=function(e){var t=e.onPressSearch,n=Object(y.default)();return Object(Q.jsxs)(gt.default,{height:{base:"56px",md:"64px"},alignItems:"center",pl:{base:"16px",md:"32px"},pr:{base:"10px",md:"32px"},children:[Object(Q.jsx)(ve.default,{typography:{sm:"PageHeading",md:"Heading"},children:n.formatMessage({id:"market__market"})}),Object(Q.jsx)(N.default,{ml:"16px",mr:"8px",h:"16px",w:"1px",bgColor:"divider"}),Object(Q.jsxs)($.default,{onPress:t,flexDirection:"row",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Q.jsx)(ee.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",ml:2,children:n.formatMessage({id:"form__search_tokens"})})]})]})};function df(e){var t=e.marketTopTabName,n=e.onPressSearch,r=Object(y.default)();return Object(Q.jsxs)(N.default,{px:"4",py:"4",flexDirection:"row",alignItems:"center",justifyContent:"space-between",zIndex:1,children:[Object(Q.jsxs)(N.default,{flexDirection:"row",h:"9",alignContent:"center",children:[Object(Q.jsx)($.default,{mr:"3",onPress:function(){lf(b.TabRoutes.Swap)},children:Object(Q.jsx)(te.default.DisplayMedium,{color:t===b.TabRoutes.Swap?"text-default":"text-disabled",children:r.formatMessage({id:"title__Swap_Bridge"})})}),Object(Q.jsx)($.default,{onPress:function(){lf(b.TabRoutes.Market)},children:Object(Q.jsx)(te.default.DisplayMedium,{color:t===b.TabRoutes.Market?"text-default":"text-disabled",children:r.formatMessage({id:"market__market"})})})]}),Object(Q.jsx)(N.default,{children:t===b.TabRoutes.Market?Object(Q.jsx)(vt.default,{size:"base",name:"MagnifyingGlassMini",type:"plain",onPress:n}):null})]})}var ff=Object(i.memo)((function(e){var t=e.marketTopTabName,n=Object(w.useNavigation)(),r=Object(j.default)(),o=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Market,params:{screen:sf.MarketRoutes.MarketSearchModal}})}),[n]);return r?Object(Q.jsx)(df,{onPressSearch:o,marketTopTabName:t}):t===b.TabRoutes.Swap?null:Object(Q.jsx)(uf,{onPressSearch:o})})),bf=n(766),jf=Object(i.memo)((function(e){var t=e.categorys,n=Object(rf.useMarketSelectedCategoryId)(),r=Object(i.useMemo)((function(){if(n)return t.findIndex((function(e){return e.categoryId===n}));var e=t.findIndex((function(e){return e.defaultSelected}));return-1!==e?e:0}),[t,n]),o=Object(y.default)(),a=Object(i.useMemo)((function(){return t.map((function(e){var t,n={text:null!=(t=e.name)?t:""};return e.categoryId===nf.MARKET_FAVORITES_CATEGORYID&&(n.text=o.formatMessage({id:"form__Watchlist"})),n}))}),[t,o]),c=Object(i.useCallback)((function(e){!function(e,t){var n=t[e];n&&W.default.serviceMarket.toggleCategory({categoryId:n.categoryId,coingeckoIds:n.coingeckoIds,type:n.type})}(e,t)}),[t]);return Object(Q.jsx)(N.default,{children:Object(Q.jsx)(N.default,{flex:1,width:"full",children:t.length>0?Object(Q.jsx)(Wt.default,{leftIconSize:0,buttons:a,selectedIndex:r,onButtonPress:c,bg:"background-default"}):Object(Q.jsx)(N.default,{flex:1,width:"full",flexDirection:"row",children:bf.MARKET_FAKE_SKELETON_CATEGORY_ARRAY.map((function(e,t){return Object(Q.jsx)(N.default,{mr:"6",w:"10",h:"8",borderRadius:"9999px",overflow:"hidden",children:Object(Q.jsx)(Ft.default,{})},t)}))})})})})),pf=n(4192);function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xf=Object(i.memo)((function(e){var t=e.headTags,n=of(),r=Object(y.default)(),o=Object(j.default)(),a=Object(ye.default)().size,c=Object(i.useMemo)((function(){return["NORMAL"].includes(a)}),[a]),l=Object(i.useMemo)((function(){return o?N.default:Gt.default}),[o]),s=Object(i.useMemo)((function(){return o||c}),[c,o]);return Object(Q.jsxs)(N.default,{mt:"2",w:"full",children:[Object(Q.jsx)(l,{flexDirection:"row",px:2,py:1.5,my:.5,children:t.map((function(e){if(e.id===bf.EMarketCellData.CollectionStar)return Object(Q.jsx)(Gt.default.Column,{text:{label:"#",labelProps:{typography:"Subheading",textAlign:e.textAlign,color:"text-subdued"}},w:e.minW},e.id);if(e.id===bf.EMarketCellData.TokenInfo||e.id===bf.EMarketCellData.TokenPrice||e.id===bf.EMarketCellData.Token24hChange||e.id===bf.EMarketCellData.Token24hVolume||e.id===bf.EMarketCellData.TokenMarketCap||e.id===bf.EMarketCellData.TokenSparklineChart){var t,o,a,i,c,l=e.id===bf.EMarketCellData.Token24hChange?{w:e.minW}:{flex:1},u=s&&null!=(t=null==(o=e.dislocation)?void 0:o.id)?t:e.id,d=s&&null!=(a=null==(i=e.dislocation)?void 0:i.title)?a:e.title;return Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsxs)($.default,mf(mf({onPress:function(){var e="down";n&&n.id===u&&"down"===n.direction&&(e="up"),W.default.serviceMarket.updateMarketListSort({id:u,direction:e})},flexDirection:"row",alignItems:"center",justifyContent:e.id===bf.EMarketCellData.TokenInfo?"flex-start":"flex-end"},l),{},{children:[Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",textAlign:e.textAlign,children:r.formatMessage({id:d})}),Object(Q.jsx)(ee.default,{name:n&&n.id===u&&"up"===n.direction?"ChevronUpMini":"ChevronDownMini",size:16,color:n&&n.id===u?"icon-success":"icon-subdued"})]}))},(null!=(c=e.title)?c:"")+"--"+e.id)}var f;return e.id===bf.EMarketCellData.TokenSwapStatus?Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(N.default,{flex:1})},(null!=(f=e.title)?f:"")+"--"+e.id):null}))}),o?null:Object(Q.jsx)(mt.default,{})]})}));function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vf,yf=function(e){var t=e.name,n=e.symbol,r=e.onPress,o=e.icon,a=e.coingeckoId,c=e.isSelected,l=e.index,s=Object(j.default)(),u=Object(Uc.useGridBoxStyle)({index:l,outPadding:s?32:48}),d=Object(i.useMemo)((function(){return c?a:void 0}),[a,c]);return Object(Q.jsxs)($.default,gf(gf({height:"64px",borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between",onPress:function(){r(!c,a)}},u),{},{children:[Object(Q.jsxs)(N.default,{ml:"3",alignItems:"center",flexDirection:"row",flex:1,children:[Object(Q.jsx)(ft.default,{borderRadius:16,src:o,size:8}),Object(Q.jsxs)(N.default,{flexDirection:"column",ml:"2",flex:1,children:[Object(Q.jsx)(te.default.Body2Strong,{children:n}),Object(Q.jsx)(te.default.Caption,{numberOfLines:1,color:"text-subdued",children:t})]})]}),Object(Q.jsx)(N.default,{size:5,flexDirection:"row",alignItems:"center",justifyContent:"center",mr:1,children:Object(Q.jsx)(Ot.default,{isChecked:c,value:d,onChange:function(){r(!c,a)},pointerEvents:"box-only"})})]}))},wf=Object(i.memo)((function(e){var t,n=e.tokens,r=Object(i.useState)((function(){var e;return null!=(e=null==n?void 0:n.map((function(e){return e.coingeckoId})))?e:[]})),o=x()(r,2),a=o[0],c=o[1],l=Object(y.default)(),s=Object(j.default)(),u=Object(i.useCallback)((function(e,t){c(e?function(e){return e.find((function(e){return e===t}))?e:[t].concat(g()(e))}:function(e){var n=g()(e),r=e.indexOf(t);return-1!==r&&n.splice(r,1),n})}),[]);return Object(Q.jsx)(N.default,{flex:1,alignItems:"center",justifyContent:"center",children:Object(Q.jsxs)(N.default,{mt:s?"40px":"56px",maxW:Uc.GRID_MAX_WIDTH,children:[Object(Q.jsxs)(N.default,{mb:"32px",justifyContent:"center",alignItems:"center",children:[Object(Q.jsx)(te.default.DisplayLarge,{children:l.formatMessage({id:"empty__your_watchlist_is_empty"})}),Object(Q.jsx)(te.default.Body1,{mt:2,children:l.formatMessage({id:"empty__your_watchlist_is_empty_desc"})})]}),Object(Q.jsx)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",width:"full",children:null==n?void 0:n.map((function(e,t){var n,r,o,i,c;return Object(Q.jsx)(yf,{name:null!=(r=e.name)?r:"",icon:null!=(o=e.iconUrl)?o:"",symbol:null!=(i=e.symbol)?i:"",coingeckoId:null!=(c=e.coingeckoId)?c:"",isSelected:null==a?void 0:a.includes(e.coingeckoId),onPress:u,index:t},(null!=(n=e.name)?n:"token")+"-i")}))}),Object(Q.jsx)(re.default,{size:"xl",mt:"5",type:"primary",isDisabled:!(a&&a.length>0),onPress:function(){if(null!=a&&a.length){var e=a.map((function(e){var t={coingeckoId:e},r=null==n?void 0:n.find((function(t){return t.coingeckoId===e}));return r&&Object.assign(t,{symbol:r.symbol}),t}));W.default.serviceMarket.saveMarketFavoriteTokens(null!=e?e:[])}},children:l.formatMessage({id:"action__add_str_tokens"},{0:""+(null!=(t=null==a?void 0:a.length)?t:0)})})]})})})),kf=n(4366),_f=Object(i.memo)((function(e){var t=e.onPress,n=e.marketTokenId,r=e.onLongPress,o=Object(z.useSettings)().selectedFiatMoneySymbol,a=Object(Hc.useCurrencyUnit)(o),c=Object(Bl.useMarketTokenItem)({coingeckoId:n,isList:!0}),l=Object(i.useMemo)((function(){return null!=c&&c.marketCap?Object(Vc.formatMarketUnitPosition)(a,Object(Vc.formatMarketValueForInfo)(null==c?void 0:c.marketCap)):""}),[null==c?void 0:c.marketCap,a]),s=Object(i.useMemo)((function(){return null!=c&&c.price?Object(Vc.formatMarketUnitPosition)(a,c.price<=1?Object(Vc.formatDecimalZero)(c.price):Object(Vc.formatMarketValueForComma)(c.price)):""}),[null==c?void 0:c.price,a]),u=Object(i.useMemo)((function(){return null!=c&&c.priceChangePercentage24H?Object(Vc.formatMarketVolatility)(c.priceChangePercentage24H)+"%":""}),[null==c?void 0:c.priceChangePercentage24H]);return Object(Q.jsx)($.default,{onLongPress:function(){c&&r&&r(c)},onPress:function(){c&&t&&t(c)},children:function(e){var t=e.isPressed;return Object(Q.jsxs)(N.default,{px:2,py:1.5,my:.5,alignItems:"center",flexDirection:"row",borderRadius:"xl",bgColor:t?"surface-pressed":void 0,children:[Object(Q.jsxs)(N.default,{alignItems:"center",flexDirection:"row",flex:1,children:[c&&void 0!==c.logoURI?Object(Q.jsx)(At.default,{size:8,mr:3,token:{logoURI:c.logoURI,name:c.name,symbol:c.symbol}}):Object(Q.jsx)(N.default,{mr:3,children:Object(Q.jsx)(ne.default,{shape:"Avatar",size:32})}),Object(Q.jsxs)(N.default,{children:[c&&void 0!==c.symbol?Object(Q.jsx)(te.default.Body1Strong,{children:c.symbol}):Object(Q.jsx)(ne.default,{shape:"Body2"}),c&&void 0!==c.marketCap?Object(Q.jsx)(te.default.Body2,{numberOfLines:1,color:"text-subdued",children:l}):Object(Q.jsx)(ne.default,{shape:"Body2"})]})]}),Object(Q.jsx)(N.default,{children:c&&void 0!==c.price?Object(Q.jsx)(te.default.Body2Strong,{children:s}):Object(Q.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Q.jsx)(ne.default,{shape:"Body2"})})}),Object(Q.jsx)(N.default,{children:c&&c.priceChangePercentage24H?Object(Q.jsx)(N.default,{w:"100px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Q.jsx)(N.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:c.priceChangePercentage24H>=0?"focused-default":"focused-critical",alignItems:"center",justifyContent:"center",children:Object(Q.jsx)(te.default.Body2Strong,{textAlign:"center",color:"text-on-primary",children:u})})}):Object(Q.jsx)(N.default,{w:"90px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Q.jsx)(ne.default,{shape:"Body2"})})})]})}})})),Sf=Object(i.memo)((function(){var e,t=Object(ye.default)().size,n="SMALL"===t,r=Object(rf.useMarketCategoryList)(),o=Object(rf.useMarketFavoriteRecommentedList)(),a=Object(rf.useMarketFavoriteCategoryTokenIds)(),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pollingInterval,n=void 0===t?60:t,r=Object(w.useIsFocused)(),o=Object(rf.useMarketSelectedCategory)(),a=Object(j.default)(),c=Object(Uc.useMarketMidLayout)(),l=of(),s=Object(i.useMemo)((function(){var e;return!!((null==o?void 0:o.categoryId)!==nf.MARKET_FAVORITES_CATEGORYID||null!=(e=o.coingeckoIds)&&e.length)}),[o]),u=af();Object(i.useEffect)((function(){var e;return r&&null!=o&&o.categoryId&&s&&(l||W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c}),e=setInterval((function(){Object(Jt.isAtAppRootTab)(b.TabRoutes.Market)&&W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c})}),1e3*n)),function(){clearInterval(e)}}),[null==o?void 0:o.categoryId,r,a,n,l,s,c,u]);var d=Object(i.useCallback)(Sn()((function*(){yield W.default.serviceMarket.fetchMarketCategorys(),o&&(yield W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c}))})),[c,a,o,u]);return{selectedCategory:o,onRefreshingMarketList:d}}(),l=c.selectedCategory,s=c.onRefreshingMarketList,u=Object(i.useMemo)((function(){return"NORMAL"===t?bf.ListHeadTags.filter((function(e){return e.showNorMalDevice})):n?bf.ListHeadTags.filter((function(e){return e.showVerticalLayout})):bf.ListHeadTags}),[n,t]),d=Object(w.useNavigation)(),f=Object(i.useRef)(null),p=Object(i.useCallback)((function(e){var t=e.item;return n?Object(Q.jsx)(_f,{marketTokenId:t,onPress:function(){d.navigate(b.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;Object(pf.showMarketCellMoreMenu)(e,{header:""+(null!=(t=null!=(n=e.symbol)?n:e.name)?t:"")})}}):Object(Q.jsx)(kf.default,{marketTokenId:t,headTags:u,onPress:function(){d.navigate(b.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;Object(pf.showMarketCellMoreMenu)(e,{header:""+(null!=(t=null!=(n=e.symbol)?n:e.name)?t:"")})}})}),[n,u,d]),O=Object(i.useState)(!1),m=x()(O,2),h=m[0],g=m[1],v=Object(i.useCallback)((function(e){var t=e.nativeEvent.contentOffset.y;g((null!=t?t:0)>200)}),[]),y=Object(i.useState)(!1),k=x()(y,2),_=k[0],S=k[1],I=Object(i.useCallback)((function(){S(!0),s().finally((function(){S(!1)}))}),[s]),C=Object(i.useMemo)((function(){return l&&l.categoryId===nf.MARKET_FAVORITES_CATEGORYID&&!a.length&&o.length>0}),[a.length,o.length,l]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ht.default,{flex:1,mt:3,px:n?2:3,refreshing:_,onRefresh:I,ref:f,bg:"background-default",onScroll:v,contentContainerStyle:{paddingBottom:24},keyExtractor:function(e,t){return e+"-"+t},stickyHeaderIndices:[0],scrollEventThrottle:200,data:C?null:null!=l&&null!=(e=l.coingeckoIds)&&e.length?l.coingeckoIds:bf.MARKET_FAKE_SKELETON_LIST_ARRAY,renderItem:p,ItemSeparatorComponent:n?null:mt.default,ListHeaderComponent:Object(Q.jsxs)(N.default,{pt:1,mt:-1,bgColor:"background-default",children:[Object(Q.jsx)(jf,{categorys:r}),C?Object(Q.jsx)(wf,{tokens:o}):Object(Q.jsx)(xf,{headTags:u})]})}),h&&Object(Q.jsx)(vt.default,{circle:!0,name:"UploadMini",position:"absolute",size:"base",type:"basic",bottom:"80px",right:"20px",onPress:function(){var e;null==(e=f.current)||e.scrollToOffset({offset:0,animated:!0})}})]})})),If=n(3749),Cf=Object(If.SceneMap)(((vf={})[b.TabRoutes.Swap]=function(){return Object(Q.jsx)(tf,{hideBottomTabBar:!0})},vf[b.TabRoutes.Market]=Sf,vf)),Pf=Object(i.memo)((function(e){var t=e.routeName,n=Object(i.useRef)(t),r=Object(i.useState)(!1),o=x()(r,2),a=o[0],c=o[1],l=Object(dt.default)(),s=Object(i.useCallback)((function(){return Object(Q.jsx)(ff,{marketTopTabName:t})}),[t]),u=Object(i.useMemo)((function(){return{index:cf.findIndex((function(e){return e.key===t})),routes:cf}}),[t]),f=Object(i.useCallback)((function(e){n.current=cf[e].key,d.default.isNativeIOS&&setTimeout((function(){return lf(n.current)}))}),[]),b=Object(i.useCallback)((function(){Qt.enableOnPressAnim.value=0}),[]),j=Object(i.useCallback)((function(){d.default.isNativeAndroid&&lf(n.current),setTimeout((function(){Qt.enableOnPressAnim.value=1}),100)}),[]),p=Object(i.useMemo)((function(){return{width:l.width}}),[l.width]);return Object(Q.jsx)(Ka.Provider,{value:c,children:Object(Q.jsx)(Et.TabView,{renderTabBar:s,navigationState:u,renderScene:Cf,onIndexChange:f,onSwipeStart:b,onSwipeEnd:j,swipeEnabled:a,initialLayout:p,animationEnabled:!1})})})),Mf=new(n(1189).default)(null);function Af(e){var t=e.routeName,n=Object(je.default)().top,r=Object(j.default)()&&!1;return Object(w.useFocusEffect)(Object(i.useCallback)((function(){r&&Mf.update(Object(Q.jsx)(Ce.PortalEntry,{target:t+"-portal",children:Object(Q.jsx)(Pf,{routeName:t})}))}),[t,r])),Object(Q.jsx)(N.default,{flex:1,mt:n+"px",children:r?Object(Q.jsx)(Ce.PortalExit,{name:t+"-portal"},t+"-portal"):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ff,{marketTopTabName:t}),t===b.TabRoutes.Swap?Object(Q.jsx)(tf,{hideBottomTabBar:!0}):Object(Q.jsx)(Sf,{})]})})}function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rf=b.TabRoutes.Market,Ef=Df(Df({},_e[Rf]),{},{component:Zt(rn((function(){return Object(Q.jsx)(Af,{routeName:b.TabRoutes.Market})}),{rootTabName:Rf}),Rf),children:[{name:b.HomeRoutes.MarketDetail,component:zu,alwaysShowBackButton:!0}]}),Bf=function(e){var t=e.title,n=e.description,r=e.isChecked,o=e.onChange;return Object(Q.jsxs)(Oe.default,{space:3,children:[Object(Q.jsxs)(gt.default,{alignItems:"center",justifyContent:"space-between",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:t}),Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:r,onToggle:o})]}),Object(Q.jsx)(ve.default,{typography:"Caption",children:n})]})};var Nf=Object(i.memo)((function(){var e,t=Object(y.default)(),n=Object(z.useNavigation)(),r=Object(Kt.default)().themeVariant,o=null==(e=Object(z.useAppSelector)((function(e){var t;return null==(t=e.settings.advancedSettings)?void 0:t.useDustUtxo})))||e,a=Object(i.useCallback)((function(){W.default.dispatch(Object(mi.setAdvancedSettings)({useDustUtxo:!o}))}),[o]);return Object(i.useLayoutEffect)((function(){var e=t.formatMessage({id:"form__advanced"});n.setOptions({title:e})}),[n,t]),Object(Q.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:Object(Q.jsxs)(Oe.default,{space:3,children:[Object(Q.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:"BITCOIN, LITECOIN, BITCOIN CASH, DOGECOIN"}),Object(Q.jsx)(Oe.default,{space:5,bg:"surface-default",borderRadius:"12",p:4,borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:Object(Q.jsx)(Bf,{title:t.formatMessage({id:"form__spend_dust_utxo"}),description:t.formatMessage({id:"content__after_enable_use_btc_utxo_will_increase_tx_fee_and_reduce_anonymity_and_privacy_its_recommend_to_disable_dust_utxo"}),isChecked:o,onChange:a})})]})})}));function Lf(){return(Lf=Sn()((function*(){return Promise.resolve(!0)}))).apply(this,arguments)}n(4353);var Wf=function(e){var t=e.title,n=e.onPress,r=e.desc;return Object(Q.jsx)(Gt.default,{onPress:n,children:Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:t,description:r}})})},zf=function(){var e=Object(y.default)(),t=Object(z.useNavigation)();Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__clear_cache"});t.setOptions({title:n})}),[t,e]);var n=Object(i.useCallback)((function(){(function(){return Lf.apply(this,arguments)})().then((function(){qt.default.show({title:e.formatMessage({id:"msg__cleared"})})}))}),[e,t]);return Object(Q.jsx)(N.default,{mt:{base:0,md:4},w:"full",h:"full",bg:"background-default",p:"8px",maxW:768,mx:"auto",children:Object(Q.jsx)(N.default,{children:Object(Q.jsxs)(Oe.default,{w:"full",space:"16px",children:[Object(Q.jsx)(Wf,{onPress:function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ClearCache,params:{screen:b.ClearCacheModalRoutes.ClearCacheModal,params:void 0}})},title:e.formatMessage({id:"action__clear_all_cache_on_app"}),desc:e.formatMessage({id:"action__clear_all_cache_on_app_desc"})}),Object(Q.jsx)(Wf,{onPress:n,title:e.formatMessage({id:"action__clear_cache_of_web_browser"}),desc:e.formatMessage({id:"action__clear_cache_of_web_browser_desc"})})]})})})},Hf=n(4034),Ff=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Yt.default)().locale,r=Object(i.useState)(""),o=x()(r,2),a=o[0],c=o[1],l=Object(ae.useActiveWalletAccount)().wallet,s=Object(i.useState)(!1),u=x()(s,2),d=u[0],f=u[1],j=Object(i.useState)(!1),p=x()(j,2),O=p[0],m=p[1],h=Object(i.useState)(null),g=x()(h,2),v=g[0],k=g[1],_=Object(i.useState)(""),S=x()(_,2),I=S[0],C=S[1],P=Object(i.useState)(null),A=x()(P,2),T=A[0],D=A[1],R=Object(i.useState)([]),E=x()(R,2),B=E[0],L=E[1];Object(i.useEffect)((function(){c("https://lite.onekey.so/?language="+n)}),[n]),Object(i.useEffect)((function(){l&&W.default.engine.getWallets().then((function(e){return L(e.filter((function(e){return"hd"===e.type})))}))}),[l]);var z=Object(i.useMemo)((function(){var t=[];return t.push({label:e.formatMessage({id:"action__restore_with_onekey_lite"}),value:"restore",iconProps:{name:"SaveAsOutline"}}),t.push({label:e.formatMessage({id:"action__change_pin"}),value:"change_pin",iconProps:{name:"PencilAltOutline"}}),t.push({label:e.formatMessage({id:"action__reset_onekey_lite"}),value:"reset",iconProps:{name:"TrashOutline",color:"icon-critical"},color:"icon-critical"}),t}),[e]),H=Object(i.useCallback)((function(){return Object(Q.jsx)(Y.default,{dropdownPosition:"right",title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),onChange:function(e){T!==e&&D(e)},footer:null,activatable:!1,triggerProps:{width:"40px"},dropdownProps:{width:248},options:z,renderTrigger:function(){return Object(Q.jsx)(N.default,{mr:"android"!==M.default.OS?4:0,alignItems:"flex-end",children:Object(Q.jsx)(ee.default,{name:"DotsHorizontalOutline"})})}})}),[e,z,T]);Object(i.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),headerRight:function(){return H()}})}),[e,z,t]);var F=function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CreateWallet,params:{screen:b.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal}})};Object(i.useEffect)((function(){switch(T){case"restore":F(),D(null);break;case"change_pin":t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.OnekeyLiteChangePinInputPin,params:{screen:b.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal}}),D(null);break;case"reset":m(!0),D(null)}}),[T]),Object(i.useEffect)((function(){"RESET"===I.toUpperCase()?k(!0):0===I.trim().length?k(null):k(!1)}),[I]);var U=Object(i.useMemo)((function(){return B.length?Object(Q.jsx)(re.default,{onPress:function(){f(!0)},size:"xl",m:4,type:"primary",children:e.formatMessage({id:"action__back_up_to_onekey_lite"})}):Object(Q.jsx)(re.default,{size:"xl",m:4,type:"primary",onPress:function(){F()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}),[B.length,e]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(N.default,{flexDirection:"column",flex:1,children:[Object(Q.jsx)(N.default,{flex:1,children:Object(Q.jsx)(Hf.default,{src:a})}),Object(Q.jsx)(N.default,{bg:"surface-subdued",pb:"ios"===M.default.OS?4:0,children:U}),Object(Q.jsx)(Tt.default,{visible:O,footerMoreView:Object(Q.jsx)(N.default,{mb:3,children:Object(Q.jsx)(yt.default,{w:"full",value:I,isInvalid:null!=v&&!v,onChangeText:C,placeholder:"RESET"})}),contentProps:{iconType:"danger",title:e.formatMessage({id:"action__reset_onekey_lite"}),content:e.formatMessage({id:"modal__reset_onekey_lite_desc"},{0:"RESET"})},footerButtonProps:{onPrimaryActionPress:function(e){var n=e.onClose;null==n||n(),setTimeout((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.OnekeyLiteReset,params:{screen:b.OnekeyLiteResetModalRoutes.OnekeyLiteResetModal}})}),500)},primaryActionTranslationId:"action__delete",primaryActionProps:{isDisabled:!v,type:"destructive"}},onClose:function(){m(!1),C("")}})]}),Object(Q.jsx)(Y.default,{visible:d,onVisibleChange:f,onChange:function(e){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BackupWallet,params:{screen:b.BackupWalletModalRoutes.BackupWalletLiteModal,params:{walletId:e.id}}})},title:e.formatMessage({id:"title_select_wallet"}),footer:null,activatable:!1,dropdownPosition:"right",containerProps:{zIndex:5},options:B.map((function(t){return{label:t.name,description:e.formatMessage({id:"form__str_accounts"},{count:t.accounts.length.toString()}),value:t}})),renderItem:function(e,t,n){return Object(Q.jsxs)($.default,{onPress:function(){return null==n?void 0:n(e.value,e)},flexDirection:"row",alignItems:"center",height:"68px",paddingLeft:"18px",children:[Object(Q.jsx)(le.default,{walletImage:e.value.type,avatar:e.value.avatar,size:"sm",circular:!0}),Object(Q.jsxs)(N.default,{flexDirection:"column",ml:"12px",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:e.label}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.description})]})]})},renderTrigger:function(){return Object(Q.jsx)(N.default,{})}})]})},Uf=function(e){var t=e.onClose,n=Object(y.default)();return Object(Q.jsxs)(N.default,{px:4,w:"100%",children:[Object(Q.jsx)(xt.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__re_enable_extension_mannually"}),subTitle:n.formatMessage({id:"title__re_enable_extension_mannually_desc"})}),Object(Q.jsx)(re.default,{mt:4,type:"primary",onPress:function(){window.location.reload(),t()},children:n.formatMessage({id:"action__restart"})})]})};var Vf=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(Kt.default)().themeVariant,r=Object(j.default)(),o=W.default.dispatch,a=W.default.serviceHardware,c=Object(z.useAppSelector)((function(e){return e.settings.hardwareConnectSrc})),l=Object(i.useCallback)((function(e){o(Object(mi.setHardwareConnectSrc)(e.label)),a.updateSettings({hardwareConnectSrc:e.label}),Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(ut.default,{title:"",closeOverlay:e,showHeader:!1,modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:Object(Q.jsx)(Uf,{onClose:e})})}))}),[o,a]);Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__hardware_bridge_sdk_url"});t.setOptions({title:n})}),[e,t]);var s=Object(i.useMemo)((function(){return[{label:rs.SHORT_ONEKEYSO_URL,description:e.formatMessage({id:"form__default"}),isActive:null==c?void 0:c.includes(rs.SHORT_ONEKEYSO_URL)},{label:rs.SHORT_ONEKEYCN_URL,description:e.formatMessage({id:"form__optimized_for_china_mainland_network"}),isActive:null==c?void 0:c.includes(rs.SHORT_ONEKEYCN_URL)}]}),[e,c]),u=Object(i.useMemo)((function(){if(!r)return"light"===n?1:void 0}),[r,n]),d=Object(i.useMemo)((function(){return r?0:4}),[r]);return Object(Q.jsxs)(pe.default,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:[Object(Q.jsx)(Oe.default,{p:d,space:4,borderRadius:"12",borderWidth:u,borderColor:"border-subdued",children:s.map((function(e){return Object(Q.jsx)($.default,{onPress:function(){l(e)},children:Object(Q.jsxs)(gt.default,{alignItems:"center",justifyContent:"space-between",children:[Object(Q.jsxs)(Oe.default,{children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:e.label}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.description})]}),e.isActive&&Object(Q.jsx)(ee.default,{name:"CheckMini",color:"icon-success",size:20})]})})}))}),Object(Q.jsx)(ve.default,{my:3,typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge_desc"})})]})})),Gf=n(1648),qf=n(4077),Yf=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(j.default)(),r=Object(Gf.useHelpLink)({path:"categories/360000170236"}),o=Object(Gf.useHelpLink)({path:""}),a=Object(Gf.useHelpLink)({path:"articles/360002123856"}),i=[{title:"",options:[{label:e.formatMessage({id:"form__submit_a_request"}),value:"submit_request",iconProps:{name:n?"ChatBubbleBottomCenterTextOutline":"ChatBubbleBottomCenterTextMini"}},{label:e.formatMessage({id:"form__s_request_history"}),value:"history",iconProps:{name:n?"ClockOutline":"ClockMini"}}]},{title:"",options:[{label:e.formatMessage({id:"form__help_support"}),value:"support",iconProps:{name:n?"LifebuoyOutline":"LifebuoyMini"}},{label:e.formatMessage({id:"form__beginner_guide"}),value:"guide",iconProps:{name:n?"MapOutline":"MapMini"}},{label:e.formatMessage({id:"form__hardware_wallet_manuals"}),value:"hardware_wallet",iconProps:{name:n?"BookOpenOutline":"BookOpenMini"}}]},{title:"",options:[{label:e.formatMessage({id:"title__official_website"}),value:"website",iconProps:{name:n?"GlobeAltOutline":"GlobeAltMini"}},{label:e.formatMessage({id:"title__buy_onekey_hardware"}),value:"shop",iconProps:{name:n?"ShoppingBagOutline":"ShoppingBagMini"}},{label:e.formatMessage({id:"title__client_download"}),value:"download",iconProps:{name:n?"ArrowDownTrayOutline":"ArrowDownTrayMini"}}]}];return Object(Q.jsx)(Y.default,{title:n?e.formatMessage({id:"title__help"}):void 0,dropdownPosition:"top-right",dropdownProps:n?{}:{minW:"240px",height:"320px"},positionTranslateY:-4,headerShown:!1,options:i,isTriggerPlain:!0,footer:null,activatable:!1,onChange:function(n){setTimeout((function(){switch(n){case"submit_request":d.default.isExtensionUiPopup?(W.default.serviceApp.openExtensionExpandTab({routes:[b.RootRoutes.Modal,b.ModalRoutes.SubmitRequest],params:{screen:b.SubmitRequestModalRoutes.SubmitRequestModal}}),setTimeout((function(){window.close()}),300)):t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.SubmitRequest,params:{screen:b.SubmitRequestModalRoutes.SubmitRequestModal}});break;case"guide":Object(zn.openUrlByWebview)(r,e.formatMessage({id:"form__beginner_guide"}));break;case"support":Object(zn.openUrlByWebview)(o,e.formatMessage({id:"form__help_support"}));break;case"hardware_wallet":Object(zn.openUrlByWebview)(a,e.formatMessage({id:"form__hardware_wallet_manuals"}));break;case"history":t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.HistoryRequest,params:{screen:qf.HistoryRequestRoutes.HistoryRequestModal}});break;case"website":Object(zn.openUrlByWebview)("https://help.onekey.so/hc/",e.formatMessage({id:"title__official_website"}));break;case"shop":Object(zn.openUrlByWebview)("https://shop.onekey.so/",e.formatMessage({id:"title__buy_onekey_hardware"}));break;case"download":Object(zn.openUrlByWebview)("https://onekey.so/download",e.formatMessage({id:"title__client_download"}))}}),200)},renderTrigger:function(){return Object(Q.jsx)(T.default,{width:"50px",height:"50px",bg:"action-secondary-default",borderRadius:"25px",borderWidth:"1px",borderColor:"border-default",children:Object(Q.jsx)(ee.default,{size:24,name:"QuestionMarkCircleMini"})})}})},Kf=function(){var e=Object(y.default)(),t=d.default.isNativeAndroidGooglePlay||d.default.isNativeIOS,n=Object(i.useCallback)((function(){}),[e]);return t?Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:n,children:[Object(Q.jsx)(ee.default,{name:"StarOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"form__rate_our_app"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null},Xf=n(1371),Qf=function(){var e,t=Object(y.default)(),n=W.default.dispatch,r=Object(ae.useAutoUpdate)(),o=r.state,a=r.progress,c=r.latest,l=(null!=(e=Object(ae.useSettings)().updateSetting)?e:{}).autoDownload,s=void 0===l||l,u=Object(i.useState)(!0),f=x()(u,2),b=f[0],j=(f[1],Object(i.useCallback)((function(){var e;null==(e=Xf.default.checkUpdate(!0))||e.then((function(e){e||qt.default.show({title:t.formatMessage({id:"msg__using_latest_release"})})})).catch((function(){})).finally((function(){}))}),[t]));Object(i.useEffect)((function(){}),[o,c]);var p=Object(i.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.downloadUpdate?void 0:e.downloadUpdate()}),[]),O=Object(i.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.installUpdate?void 0:e.installUpdate()}),[]),m=Object(i.useMemo)((function(){return null}),[o,j,t,b,c,p,O,a.percent]);return d.default.isAppleStoreEnv?null:Object(Q.jsxs)(Q.Fragment,{children:[m,d.default.supportAutoUpdate&&Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Q.jsx)(ee.default,{name:"ArrowDownTrayOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__download_when_available"})}),Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:s,onToggle:function(){return n(Object(mi.setUpdateSetting)({autoDownload:!s}))}})]})]})},Zf=function(){var e,t=Object(y.default)(),n=W.default.dispatch,r=Object(Kt.default)().themeVariant,o=Object(Gf.useHelpLink)({path:"articles/360002014776"}),a=Object(Gf.useHelpLink)({path:"articles/360002003315"}),c=Object(ae.useSettings)(),l=0,s=Object(i.useCallback)((function(e){Object($r.copyToClipboard)(e),qt.default.show({title:t.formatMessage({id:"msg__copied"})})}),[t]);return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:"2",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__about_uppercase"})})}),Object(Q.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:[Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){!function(){var t=new Date;void 0===e||Math.round(t.getTime()-e.getTime())>5e3?(e=t,l=0):l+=1,l>=9&&n(Object(mi.setDevMode)(!0))}(),s(c.version+(c.buildNumber?"-"+c.buildNumber:""))},children:[Object(Q.jsx)(ee.default,{name:"HashtagOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,_web:{style:{WebkitUserSelect:"none",userSelect:"none"}},children:t.formatMessage({id:"form__version"})}),Object(Q.jsxs)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:[c.version,c.buildNumber?"-"+c.buildNumber:""]})]}),Object(Q.jsx)(Qf,{}),Object(Q.jsx)(Kf,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(zn.openUrlByWebview)(o,t.formatMessage({id:"form__user_agreement"}))},children:[Object(Q.jsx)(ee.default,{name:"UserCircleOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__user_agreement"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(zn.openUrlByWebview)(a,t.formatMessage({id:"form__privacy_policy"}))},children:[Object(Q.jsx)(ee.default,{name:"EllipsisHorizontalCircleOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__privacy_policy"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(zn.openUrlByWebview)("https://www.onekey.so",t.formatMessage({id:"form__website"}))},children:[Object(Q.jsx)(ee.default,{name:"GlobeAltOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__website"})}),Object(Q.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(zn.openUrlExternal)("https://www.discord.gg/onekey")},children:[Object(Q.jsx)(ee.default,{name:"DiscordOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Discord"}),Object(Q.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){return Object(zn.openUrlExternal)("https://www.twitter.com/onekeyhq")},children:[Object(Q.jsx)(ee.default,{name:"TwitterOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Twitter"}),Object(Q.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]})]})]})},Jf=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Kt.default)().themeVariant;return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:"2",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__advanced__uppercase",defaultMessage:"ADVANCED"})})}),Object(Q.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.AdvancedSettings)},children:[Object(Q.jsx)(ee.default,{name:"CircleStackOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__crypto_settings"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},$f=n(1095),eb=n(4363),tb=n(338),nb=n(403),rb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(yn.default)(),r=Object(yn.default)(),o=Object(Kt.default)().themeVariant,a=Object(eb.useAddressBook)().showAddressBookModal;return Object(Q.jsx)(N.default,{w:"full",mb:"6",children:Object(Q.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:[nb.MigrationEnable&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){r.navigate(b.RootRoutes.Onboarding,{screen:tb.EOnboardingRoutes.Migration,params:{}})},children:[Object(Q.jsx)(ee.default,{name:"ArrowPathRoundedSquareOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__migration"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsx)(mt.default,{})]}),$f.default&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.ScreenOnekeyLiteDetail)},children:[Object(Q.jsx)(ee.default,{name:"OnekeyLiteOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"app__hardware_name_onekey_lite"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsx)(mt.default,{})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Onboarding,{screen:tb.EOnboardingRoutes.KeyTag})},children:[Object(Q.jsx)(ee.default,{name:"KeytagOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__onekey_keytag"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsx)(mt.default,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){a()},children:[Object(Q.jsx)(ee.default,{name:"BookOpenOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__address_book"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})},ob=n(5286),ab=function(){var e=Sn()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),ib=function(){var e=Object(y.default)(),t=Object(Kt.default)().themeVariant,n=Object(w.useNavigation)(),r=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"txt",t=(new Date).toISOString().replace(/[-:.]/g,"");return"log-"+t+"."+e}),[]),o=Object(i.useCallback)(Sn()((function*(){var e=r(),t=document.createElement("a"),n=yield W.default.serviceApp.getLoggerInstance(),o=new Blob(n,{type:"text/plain",endings:"native"});t.href=URL.createObjectURL(o),t.download=e,document.body.appendChild(t),t.click()})),[r]),a=Object(i.useCallback)(Sn()((function*(){var e=r("zip"),t=yield Object(K.getLogZipPath)(e),n=yield ab();n&&n.open({url:t,title:e,filename:e}).catch((function(){}))})),[r]),c=Object(i.useCallback)((function(){o()}),[o,a]),l=Object(i.useCallback)((function(){Object($r.copyToClipboard)("hi@onekey.so"),qt.default.show({title:e.formatMessage({id:"msg__copied"})})}),[e]);return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:c,children:[Object(Q.jsx)(ee.default,{name:"DocumentTextOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"content__state_logs"})}),Object(Q.jsx)(ve.default,{mr:"4",typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.formatMessage({id:"action__export"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ArrowDownTrayOutline",color:"icon-subdued",size:20})})]})}),Object(Q.jsx)($.default,{onPress:l,children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",mt:"2",children:e.formatMessage({id:"content__state_logs_desc"},{0:"hi@onekey.so"})})}),Object(Q.jsx)(N.default,{mt:"24px",borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.HomeRoutes.ClearCache)},children:[Object(Q.jsx)(ee.default,{name:"FolderMinusOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"action__clear_cache"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},cb=n(743);function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ub(e){var t,n,r=e.title,o=e.activeOption,a=e.hideDivider,i=e.iconName,c=a?void 0:{borderBottomWidth:"1",borderBottomColor:"divider"};return Object(Q.jsxs)(N.default,sb(sb({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:{base:4,md:6},py:4},c),{},{children:[i&&Object(Q.jsx)(ee.default,{name:i}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:r}),Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(ve.default,{mr:1,typography:{sm:"Body1Strong",md:"Body2Strong"},children:null!=(t=o.label)?t:"-"}),o.description&&Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:null!=(n=o.description)?n:"-"})]}),Object(Q.jsx)(ee.default,{name:"ChevronDownMini",color:"icon-subdued",size:20})]})]}))}var db=n(4352),fb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(w.useNavigation)(),r=W.default.dispatch,o=W.default.serviceNotification,a=Object(ae.useSettings)(),c=a.theme,l=a.locale,s=a.selectedFiatMoneySymbol,u=Object(Kt.default)().themeVariant,d=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"}].concat(cb.LOCALES_OPTION)}),[e]);return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:2,children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__general_uppercase",defaultMessage:"GENERAL"})})}),Object(Q.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===u?1:void 0,borderColor:"border-subdued",children:Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsx)(Y.default,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:c,onChange:function(e){r(Object(mi.setTheme)(e))},options:[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"},{label:e.formatMessage({id:"form__light",defaultMessage:"Light"}),value:"light"},{label:e.formatMessage({id:"form__dark",defaultMessage:"Dark"}),value:"dark"}],dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Q.jsx)(ub,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),activeOption:n,iconName:"SunOutline"})}})}),Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsx)(Y.default,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),isTriggerPlain:!0,footer:null,defaultValue:l,headerShown:!1,onChange:function(e){r(Object(mi.setLocale)(e)),o.syncPushNotificationConfig()},options:d,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Q.jsx)(ub,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),activeOption:n,iconName:"LanguageOutline"})}})}),Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CurrencySelect,params:{screen:db.CurrencySelectModal.CurrencySelectHome}})},children:[Object(Q.jsx)(ee.default,{name:"CurrencyDollarOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__fiat_currency"})}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(te.default.Body1Strong,{mr:1,children:s.toLocaleUpperCase()}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]})}),Xa.supportedHaptics?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(mt.default,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.VolumeHaptic)},children:[Object(Q.jsx)(ee.default,{name:"SpeakerWaveOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__sound_n_vibration"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null]})})]})},bb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Kt.default)().themeVariant,r=Object(z.useAppSelector)((function(e){return e.settings.hardwareConnectSrc}));return Object(i.useMemo)((function(){return!0}),[])?Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:"2",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge",defaultMessage:"HARDWARE BRIDGE"})})}),Object(Q.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:[Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:"1",borderBottomColor:"divider",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.HardwareBridgeSettings)},children:[Object(Q.jsx)(ee.default,{name:"FolderMinusOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_sdk_url"})}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:r}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){Object(zn.openUrlExternal)("http://127.0.0.1:21320/status/")},children:[Object(Q.jsx)(ee.default,{name:"DocumentArrowDownOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_status"})}),Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Q.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})})]})]})]}):null},jb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Kt.default)().themeVariant;return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:"2",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__alert_uppercase",defaultMessage:"ALERT"})})}),Object(Q.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.PushNotification)},children:[Object(Q.jsx)(ee.default,{name:"BellOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__notification"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},pb=n(1647),Ob=n(1473),mb=n(4327),xb=n(4335),hb=n(2306),gb=function(e){var t=e.onConfirm,n=e.onClose,r=Object(j.default)(),o=Object(y.default)(),a=Object(i.useState)(""),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)(!1),d=x()(u,2),f=d[0],b=d[1];return Object(Q.jsx)(Tt.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__delete",primaryActionProps:{type:"destructive",isDisabled:"RESET"!==l.toUpperCase(),isLoading:f},onPrimaryActionPress:function(){b(!0),t(),setTimeout((function(){b(!1),null==n||n()}),600)},onSecondaryActionPress:n},contentProps:{iconType:"danger",title:o.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"}),content:o.formatMessage({id:"modal__reset_app_desc"},{0:"RESET"}),input:Object(Q.jsx)(N.default,{w:"full",mt:"4",children:Object(Q.jsx)(yt.default,{w:"full",value:l,size:r?"xl":"default",onChangeText:function(e){return s(e.trim())},placeholder:"RESET"})})}})},vb=function(){var e=Object(y.default)(),t=Object(i.useCallback)((function(){Object(Mn.showDialog)(Object(Q.jsx)(gb,{onConfirm:function(){Object(hb.showSplashScreen)(),W.default.serviceApp.resetApp().then((function(){0}))}}))}),[]),n=Object(i.useCallback)((function(){Object(Mn.showOverlay)((function(n){return Object(Q.jsx)(Tt.default,{visible:!0,onClose:n,footerButtonProps:{hideSecondaryAction:!0,onPrimaryActionPress:function(){n(),setTimeout(t,500)},primaryActionTranslationId:"action__i_got_it",primaryActionProps:{type:"primary"}},contentProps:{iconType:"info",title:e.formatMessage({id:"modal__back_up_your_wallet",defaultMessage:"Back Up Your Wallet"}),content:e.formatMessage({id:"modal__back_up_your_wallet_desc",defaultMessage:"Before resetting the App, make sure you've backed up all of your wallets."})}})}))}),[e,t]),r=Object(i.useCallback)(Sn()((function*(){0===(yield W.default.engine.getWallets()).filter((function(e){return!e.backuped})).length?t():n()})),[n,t]);return Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:r,children:[Object(Q.jsx)(ee.default,{name:"RestoreOutline",color:"icon-critical"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-critical",flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})},yb=function(){var e=Object(y.default)(),t=W.default.dispatch,n=W.default.serviceCloudBackup,r=Object(i.useState)(!1),o=x()(r,2),a=o[0],c=o[1];Object(i.useEffect)((function(){Ob.isSupportedPlatform&&Ob.isContextSupportWebAuthn&&Object(Ob.isMac)()&&Object(Ob.isUserVerifyingPlatformAuthenticatorAvailable)().then((function(e){return c(e)}))}),[]);var l=Object(ae.useAppSelector)((function(e){return e.settings.enableWebAuthn})),s=Object(ae.useAppSelector)((function(e){return e.settings.enableAppLock})),u=Object(ae.useAppSelector)((function(e){return e.settings.appLockDuration})),f=Object(ae.useAppSelector)((function(e){return e.settings.enableLocalAuthentication})),j=Object(ae.useAppSelector)((function(e){return e.data.isPasswordSet})),p=Object(ae.useAppSelector)((function(e){return e.status.authenticationType})),O=Object(pb.useLocalAuthentication)().isOk,m=Object(w.useNavigation)(),h=Object(Kt.default)().themeVariant,g=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__always"}),value:0},{label:e.formatMessage({id:"form__str_minute"},{0:1}),value:1},{label:e.formatMessage({id:"form__str_minute"},{0:5}),value:5},{label:e.formatMessage({id:"form__str_minute"},{0:30}),value:30},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hour"},{0:4}),value:240}]}),[e]),v=Object(i.useCallback)((function(e){t(Object(mi.setAppLockDuration)(e))}),[t]),k=Object(i.useCallback)((function(){t(Object(mi.setEnableAppLock)(!s))}),[s,t]),_=Math.min(240,u),S=d.default.isNativeIOS||d.default.isNativeAndroidGooglePlay;return Object(Q.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Q.jsx)(N.default,{pb:"2",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__security_uppercase",defaultMessage:"SECURITY"})})}),Object(Q.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===h?1:void 0,borderColor:"border-subdued",children:[S?Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){n.loginIfNeeded(!1).then((function(t){t?m.navigate(b.HomeRoutes.CloudBackup):n.loginIfNeeded(!0).then((function(e){e&&m.navigate(b.HomeRoutes.CloudBackup)})).catch((function(t){"NETWORK"===t.message&&qt.default.show({title:e.formatMessage({id:"title__no_connection_desc"})},{type:"error"})}))}))},children:[Object(Q.jsx)(ee.default,{name:"CloudOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__backup"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):void 0,Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Password,params:{screen:xb.PasswordRoutes.PasswordRoutes}})},children:[Object(Q.jsx)(ee.default,{name:"KeyOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:j?"form__change_password":"title__set_password"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),a&&Ob.isContextSupportWebAuthn?Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){},children:[Object(Q.jsx)(ee.default,{name:"FingerPrintOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__touch_id"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:l,onToggle:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.EnableLocalAuthentication,params:{screen:mb.EnableLocalAuthenticationRoutes.EnableWebAuthn}})}})})]}):void 0,O&&j?Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Q.jsx)(ee.default,{name:"FACIAL"===p?"FaceIdOutline":"FingerPrintOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:"FACIAL"===p?e.formatMessage({id:"content__face_id"}):e.formatMessage({id:"content__touch_id"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:f,onToggle:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.EnableLocalAuthentication,params:{screen:mb.EnableLocalAuthenticationRoutes.EnableLocalAuthenticationModal}})}})})]}):null,j?Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Q.jsx)(ee.default,{name:"LockClosedOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__app_lock",defaultMessage:"App Lock"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:s,onToggle:k})})]}):null,s?Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsx)(Y.default,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),isTriggerPlain:!0,footer:null,value:_,defaultValue:_,headerShown:!1,options:g,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Q.jsx)(ub,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),activeOption:n,iconName:"ClockOutline"})},onChange:v})}):null,Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){m.navigate(b.HomeRoutes.Protected)},children:[Object(Q.jsx)(ee.default,{name:"ShieldCheckOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__protection"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsx)(vb,{})]})]})},wb=n(1085),kb=n(4332),_b=function(){var e=Object(y.default)(),t=Object(Kt.default)().themeVariant,n=Object(w.useNavigation)(),r=(Object(w.useNavigation)(),Object(z.useAppSelector)((function(e){return e.data.isPasswordSet}))),o=Object(i.useCallback)((function(){W.default.serviceApp.lock(!0)}),[]);return Object(Q.jsx)(N.default,{w:"full",mb:"6",children:Object(Q.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:[null,r?Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:o,children:[Object(Q.jsx)(ee.default,{name:"LockClosedOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__lock_now"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null,d.default.isExtensionUiPopup?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(mt.default,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){W.default.serviceApp.openExtensionExpandTab({routes:""})},children:[Object(Q.jsx)(ee.default,{name:"ArrowsPointingOutOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__expand_view"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null,Object(Q.jsx)(mt.default,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){Object(wb.gotoScanQrcode)()},children:[Object(Q.jsx)(ee.default,{name:"ViewfinderCircleOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__scan_qr_code"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Q.jsx)(mt.default,{}),Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageConnectedSites,params:{screen:kb.ManageConnectedSitesRoutes.ManageConnectedSitesModel}})},children:[Object(Q.jsx)(ee.default,{name:"LinkOutline"}),Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__connected_sites",defaultMessage:"Connected Sites"})}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})},Sb=Object(i.memo)((function(e){var t=(Object(ae.useSettings)().devMode||{}).enable,n=Object(je.default)();return Object(Q.jsxs)(N.default,{bg:"background-default",flex:"1",children:[Object(Q.jsx)(pe.default,{px:4,py:{base:6,md:8},bg:"background-default",children:Object(Q.jsxs)(N.default,{w:"full",maxW:768,mx:"auto",pb:n.bottom+"px",children:[Object(Q.jsx)(_b,{}),Object(Q.jsx)(rb,{}),Object(Q.jsx)(fb,{}),Object(Q.jsx)(yb,{}),Object(Q.jsx)(jb,{}),Object(Q.jsx)(Jf,{}),Object(Q.jsx)(Zf,{}),Object(Q.jsx)(bb,{}),Object(Q.jsx)(ib,{}),t?Object(Q.jsx)(ob.DevSettingSection,{}):null]})}),Object(Q.jsx)(N.default,{position:"absolute",bottom:{base:4,md:8},right:{base:4,md:8},children:Object(Q.jsx)(Yf,{})})]})})),Ib=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:o,onToggle:n},null==o||null==o.toString?void 0:o.toString())})]})},Cb=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(z.useAppSelector)((function(e){return e.status.authenticationType})),r=Object(ae.useSettings)().enableHaptics,o=void 0===r?Xa.defaultHapticStatus:r,a=Object(Kt.default)().themeVariant,c=W.default.dispatch;return Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__sound_n_vibration"});t.setOptions({title:n})}),[t,e,n]),Object(Q.jsx)(N.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsx)(N.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===a?1:void 0,borderColor:"border-subdued",children:Object(Q.jsx)(Ib,{title:e.formatMessage({id:"form__vibrate"}),isChecked:o,onToggle:function(){c(Object(mi.setEnableHaptics)(!o))}})})})})})),Pb=n(504),Mb=n(4177),Ab=n(4074),Tb=function(){var e=Object(y.default)();return Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",py:"4",children:[Object(Q.jsx)(T.default,{rounded:"full",size:"12",bgColor:"surface-neutral-subdued",children:Object(Q.jsx)(It.default,{})}),Object(Q.jsxs)(N.default,{pl:"1",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:e.formatMessage({id:"content__uploading_encrypted_backup"})}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__uploading_encrypted_backup_desc"})})]})]})},Db=function(e){var t=e.lastBackup,n=e.inProgress,r=Object(y.default)(),o=Object(Pr.default)(),a=W.default.serviceCloudBackup,c=Object(i.useCallback)((function(){Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Tt.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__disable",secondaryActionTranslationId:"action__dismiss",primaryActionProps:{type:"destructive",onPromise:function(){var t=Sn()((function*(){yield a.disableService(),e()}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconName:"CloudOutline",iconType:"success",title:r.formatMessage({id:"dialog__your_wallets_are_backed_up"}),content:r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc"},{cloudName:Object(Pb.backupPlatform)().cloudName,platform:Object(Pb.backupPlatform)().platform})+"\n\n"+r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc_2"},{cloudName:Object(Pb.backupPlatform)().cloudName})}})}))}),[r,a]);return n?Object(Q.jsx)(Tb,{}):Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(Mb.default,{enabled:!0}),Object(Q.jsxs)(N.default,{px:"16px",flex:"1",justifyContent:"center",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:r.formatMessage({id:"content__backup_enabled"})}),t>0?Object(Q.jsx)(ve.default,{mt:1,typography:"Body2",color:"text-subdued",children:o.format(new Date(t),"MMM d, yyyy, HH:mm:ss")}):void 0]}),Object(Q.jsx)(vt.default,{type:"plain",size:"lg",name:"EllipsisVerticalOutline",circle:!0,onPress:c})]})},Rb=function(){var e=Object(y.default)(),t=Object(j.default)(),n=W.default.serviceCloudBackup;return Object(Q.jsxs)(N.default,{flexDirection:t?"column":"row",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(Q.jsx)(Mb.default,{enabled:!1}),Object(Q.jsxs)(N.default,{pl:"2",flex:"1",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",children:e.formatMessage({id:"content__backup_disabled"})}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__backup_disabled_desc"},{cloudName:Object(Pb.backupPlatform)().cloudName})})]})]}),Object(Q.jsx)(re.default,{onPress:function(){n.enableService()},mt:{base:6,sm:0},size:t?"xl":"base",alignSelf:"center",w:{base:"full",sm:"auto"},children:e.formatMessage({id:"action__backup_to_icloud"},{cloudName:Object(Pb.backupPlatform)().cloudName})})]})},Eb=function(){var e=Object(y.default)(),t=Object(z.useNavigation)();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",pb:2,mt:6,children:e.formatMessage({id:"content__previous_backups_desc"})}),Object(Q.jsx)(N.default,{mt:"1",borderRadius:"12",background:"surface-default",borderWidth:1,borderColor:"border-subdued",children:Object(Q.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:4,py:4,onPress:function(){t.navigate(b.HomeRoutes.CloudBackupPreviousBackups)},children:[Object(Q.jsx)(ee.default,{name:"ClockOutline",size:24}),Object(Q.jsx)(ve.default,{typography:"Body1Strong",flex:"1",numberOfLines:1,px:"3",children:e.formatMessage({id:"content__previous_backups"})}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})},Bb=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=W.default.serviceCloudBackup;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__backup"});t.setOptions({title:n})}),[t,e]);var r=Object(ae.useAppSelector)((function(e){return e.cloudBackup})),o=r.isAvailable,a=r.enabled,c=r.inProgress,l=r.lastBackup,s=void 0===l?0:l,u=Object(i.useState)(!1),f=x()(u,2),b=f[0],j=f[1];return Object(i.useEffect)((function(){(function(){var e=Sn()((function*(){var e=yield n.getBackupStatus();j(e.hasPreviousBackups)}));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(Q.jsxs)(Ab.default,{children:[Object(Q.jsx)(ve.default,{typography:"Heading",mb:4,children:Object(Pb.backupPlatform)().cloudName}),o?Object(Q.jsxs)(N.default,{children:[a?Object(Q.jsx)(Db,{lastBackup:s,inProgress:c}):Object(Q.jsx)(Rb,{}),b?Object(Q.jsx)(G.default,{visible:b,initial:{opacity:0,translateY:-8},animate:{opacity:1,translateY:0,transition:{duration:150}},children:Object(Q.jsx)(Eb,{})}):void 0]}):Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-critical",children:e.formatMessage({id:"content__log_in_icloud_to_enable_backup"},{cloudName:Object(Pb.backupPlatform)().cloudName})}),Object(Q.jsx)(N.default,{w:"full",py:"6",children:Object(Q.jsx)(N.default,{borderBottomWidth:A.default.hairlineWidth,borderBottomColor:"divider"})}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__wont_backup"},{cloudName:Object(Pb.backupPlatform)().cloudName})}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued"}),d.default.isNativeAndroid&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(N.default,{w:"full",children:Object(Q.jsx)(N.default,{borderBottomWidth:A.default.hairlineWidth,borderBottomColor:"divider"})}),Object(Q.jsx)(re.default,{mt:"6",onPress:function(){Object(Pb.logoutFromGoogleDrive)(!1).then((function(){t.goBack()}))},size:"xl",children:e.formatMessage({id:"action__logout"})})]})]})},Nb=n(4176),Lb=n(4311),Wb=n(4125),zb=function(e){var t=e.onClose,n=Object(y.default)();return Object(Q.jsxs)(N.default,{px:4,w:"100%",children:[Object(Q.jsx)(xt.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__refresh_website_to_take_effect"}),subTitle:n.formatMessage({id:"title__refresh_website_to_take_effect_desc"})}),Object(Q.jsx)(re.default,{onPress:function(){W.default.serviceSetting.disableExtSwitchTips(),t()},my:3,children:n.formatMessage({id:"action__dont_show_again"})}),Object(Q.jsx)(re.default,{mb:6,type:"primary",onPress:t,children:n.formatMessage({id:"action__i_got_it"})})]})},Hb=n(5288),Fb=n.n(Hb),Ub=n(5289),Vb=n.n(Ub),Gb=n(5290),qb=n.n(Gb),Yb=n(5291),Kb=n.n(Yb),Xb=n(5292),Qb=n.n(Xb),Zb=n(5293),Jb=n.n(Zb),$b=n(5294),ej=n.n($b),tj=n(5295),nj=n.n(tj),rj=n(5296),oj=n.n(rj),aj=n(5297),ij=n.n(aj),cj=n(5298),lj=n.n(cj),sj={"EVM-Metamask":{logo:Jb.a,title:"Metamask",propertyKeys:["ethereum"],enable:!0},"COSMOS-Keplr":{logo:Qb.a,title:"Keplr",propertyKeys:["keplr","getOfflineSigner","getOfflineSignerOnlyAmino","getOfflineSignerAuto"],enable:!0},"APTOS-Petra":{logo:Vb.a,title:"Petra",propertyKeys:["aptos"],enable:!0},"APTOS-Martian":{logo:Fb.a,title:"Martian",propertyKeys:["martian"],enable:!1},"SUI-Sui Wallet":{logo:ij.a,title:"Sui Wallet",propertyKeys:["suiWallet"],enable:!0},"SOLANA-Phantom":{logo:nj.a,title:"Phantom",propertyKeys:["solana","phantom"],enable:!0},"TRON-TronLink":{logo:lj.a,title:"TronLink",propertyKeys:["tronLink","tronWeb","sunWeb"],enable:!0},"CARDAND-Nami":{logo:qb.a,title:"Nami",propertyKeys:["cardano"],enable:!0},"STARCOIN-StarMask":{logo:oj.a,title:"StarMask",propertyKeys:["starcoin"],enable:!0},"CONFLUX-Fluent":{logo:Kb.a,title:"Fluent",propertyKeys:["conflux"],enable:!0},"POLKADOT-polkadot-js":{logo:ej.a,title:"Polkadot.js",propertyKeys:["polkadot-js"],enable:!1}},uj=n(5299),dj=n.n(uj),fj=n(5300),bj=n.n(fj),jj=function(e){var t=e.baseLogoImage,n=e.enable;return Object(Q.jsxs)(N.default,{w:"40px",h:"40px",justifyContent:"center",alignItems:"center",children:[Object(Q.jsx)(ft.default,{source:t,size:8}),Object(Q.jsx)(N.default,{position:"absolute",right:"0",bottom:"0",children:Object(Q.jsx)(ft.default,{src:n?bj.a:dj.a,size:4})})]})},pj=function(e){var t=e.toggleWalletSwitch,n=e.walletId,r=function(e){var t=e.walletId,n=Object(z.useAppSelector)((function(e){return e.settings.walletSwitchData}));return Object(i.useMemo)((function(){return null==n?void 0:n[t]}),[t,n])}({walletId:n}),o=Object(i.useState)(!(null==r||!r.enable)),a=x()(o,2),c=a[0],l=a[1];return r?Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:2,children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(jj,{baseLogoImage:r.logo,enable:c}),Object(Q.jsx)(te.default.Body1Strong,{ml:2,children:r.title})]}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{mr:1,labelType:"false",isChecked:c,onToggle:function(){l(!c),setTimeout((function(){W.default.serviceSetting.toggleWalletSwitchConfig(n,!c),t(n,!c)}),100)}})})]}):null},Oj=function(){var e=Object(z.useNavigation)(),t=Object(z.useAppSelector)((function(e){return e.settings.disableExtSwitchTips})),n=Object(y.default)();Object(i.useEffect)((function(){e.setOptions({title:n.formatMessage({id:"form__wallet_switch"})})}),[n,e]);var r=function(){var e=Object(z.useAppSelector)((function(e){return e.settings.walletSwitchData}));return Object(i.useEffect)((function(){e&&Object.keys(e).length===Object.keys(sj).length||W.default.serviceSetting.setWalletSwitchConfig(sj)}),[e]),{walletSwitchSectionData:Object(i.useMemo)((function(){if(e){var t=[];return Object.keys(e).forEach((function(e){var n=e.split("-")[0],r=t.find((function(e){return e.title===n}));r?r.data.push(e):t=[].concat(g()(t),[{title:n,data:[e]}])})),t}return[]}),[e])}}().walletSwitchSectionData,o=Object(i.useCallback)((function(e){var n=e.item;return Object(Q.jsx)(pj,{toggleWalletSwitch:function(){t||Object(Mn.showOverlay)((function(e){return Object(Q.jsx)(Wb.OverlayPanel,{closeOverlay:e,modalProps:{headerShown:!1,hideBackButton:!0},modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:Object(Q.jsx)(zb,{onClose:e})})}))},walletId:n})}),[t]),a=Object(i.useCallback)((function(e){var t=e.section.title;return Object(Q.jsx)(te.default.Subheading,{mt:4,color:"text-subdued",children:t})}),[]),c=Object(i.useMemo)((function(){return Object(Q.jsxs)(N.default,{borderRadius:"12px",bgColor:"surface-neutral-subdued",p:4,flexDirection:"row",mb:2,children:[Object(Q.jsx)(ee.default,{name:"InformationCircleMini"}),Object(Q.jsx)(te.default.Body2Strong,{ml:2,children:n.formatMessage({id:"content__when_the_option_is_turned_on_the_inject_cnonection_method_for_that_wallet_will_be_overridden_by_onekey"})}),Object(Q.jsx)(N.default,{})]})}),[n]);return Object(Q.jsx)(N.default,{flex:1,p:4,children:Object(Q.jsx)(_t.default,{sections:r,renderItem:o,renderSectionHeader:a,ListHeaderComponent:c})})},mj=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),Object(Q.jsx)(N.default,{children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:o,onToggle:n})})]})},xj=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(z.useAppSelector)((function(e){return e.status.authenticationType})),r=Object(z.useSettings)().validationSetting,o=void 0===r?{}:r,a=Object(Kt.default)().themeVariant;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__protection"});t.setOptions({title:n})}),[t,e,n]);var c=Object(i.useCallback)((function(e,t){W.default.dispatch(Object(mi.setValidationState)({key:e,value:t}))}),[]);return Object(Q.jsx)(N.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(te.default.Caption,{mt:"2",color:"text-subdued",children:e.formatMessage({id:"content__password_required_even_unlocked"})}),Object(Q.jsx)(N.default,{w:"full",mt:"6",children:Object(Q.jsxs)(N.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===a?1:void 0,borderColor:"border-subdued",children:[Object(Q.jsx)(mj,{title:e.formatMessage({id:"form__create_transactions"}),isChecked:o.Payment,divider:!0,onToggle:function(){return c(as.ValidationFields.Payment,!o.Payment)}}),Object(Q.jsx)(mj,{title:e.formatMessage({id:"form__create_delete_wallets"}),isChecked:o.Wallet,divider:!0,onToggle:function(){return c(as.ValidationFields.Wallet,!o.Wallet)}}),Object(Q.jsx)(mj,{title:e.formatMessage({id:"form__create_delete_accounts"}),isChecked:o.Account,onToggle:function(){return c(as.ValidationFields.Account,!o.Account)}}),Object(Q.jsx)(Lt.default,{children:Object(Q.jsx)(mj,{title:e.formatMessage({id:"form__view_recovery_phrase_private_key"}),isChecked:o.Secret,onToggle:function(){return c(as.ValidationFields.Secret,!o.Secret)}})})]})})]})})};function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hj(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vj=[5,8,10],yj=function(e){var t=e.title,n=e.onChange,r=e.value,o=e.desc,a=e.divider;return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:4,borderBottomWidth:a?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:a?void 0:"12px",children:[Object(Q.jsxs)(N.default,{flex:"1",children:[Object(Q.jsx)(ve.default,{typography:"Body1Strong",numberOfLines:1,children:t}),o&&Object(Q.jsx)(ve.default,{color:"text-subdued",typography:"Body2",numberOfLines:2,children:o})]}),Object(Q.jsx)(N.default,{ml:"3",children:Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:r,onToggle:function(){return null==n?void 0:n(!r)}})})]})},wj=function(e){var t=e.title,n=e.desc;return Object(Q.jsxs)(N.default,{flexDirection:"row",p:"4",children:[Object(Q.jsx)(ve.default,{flex:1,typography:"Body1Strong",children:t}),Object(Q.jsx)(ve.default,{mr:"19px",children:n}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})},kj=function(e){var t=e.title,n=e.desc,r=e.onPress;return Object(Q.jsx)($.default,{onPress:r,children:Object(Q.jsxs)(N.default,{flexDirection:"row",p:"4",children:[Object(Q.jsx)(ve.default,{flex:1,typography:"Body1Strong",children:t}),Object(Q.jsx)(ve.default,{mr:"19px",children:n}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})},_j=function(e){var t=e.title,n=e.value,r=e.onChange,o=e.options;return Object(Q.jsx)(Y.default,{title:t,isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:n,onChange:r,options:o,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(){return Object(Q.jsx)(wj,{title:t,desc:n+"%"})}})},Sj=function(e){var t,n=e.title,r=e.switchs,o=e.footer,a=e.extraText,c=Object(Kt.default)().themeVariant,l=r.length;return Object(Q.jsxs)(Q.Fragment,{children:[n&&Object(Q.jsx)(ve.default,{mt:6,color:"text-subdued",children:n}),Object(Q.jsxs)(N.default,{w:"full",mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===c?1:void 0,borderColor:"border-subdued",children:[r.map((function(e,t){return Object(i.createElement)(yj,gj(gj({},e),{},{key:e.title,divider:!!o||t!==l-1}))})),null!=r&&null!=(t=r[0])&&t.value&&o?o:null]}),a&&Object(Q.jsx)(ve.default,{mt:2,color:"text-subdued",typography:"Caption",children:a})]})},Ij=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(w.useIsFocused)(),r=Object(z.useAppSelector)((function(e){return e.status.authenticationType})),o=Object(gs.usePriceAlertlist)(),a=o.alerts,c=o.fetchPriceAlerts,l=Object(gs.useEnabledAccountDynamicAccounts)(),s=l.enabledAccounts,u=l.refresh,d=Object(ae.useSettings)(),f=d.pushNotification,j=void 0===f?mi.defaultPushNotification:f,p=d.devMode,O=W.default.serviceNotification;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__notification"});t.setOptions({title:n})}),[t,e,r]);var m=Object(i.useCallback)((function(e){return function(t){var n;(0,W.default.dispatch)(Object(mi.setPushNotificationConfig)(((n={})[e]=t,n))),O.syncPushNotificationConfig()}}),[O]);Object(i.useEffect)((function(){n&&(u(),c())}),[c,n,u]);var x=Object(i.useMemo)((function(){return null!=p&&p.enableZeroNotificationThreshold?[0].concat(vj):vj}),[null==p?void 0:p.enableZeroNotificationThreshold]),h=Object(i.useMemo)((function(){return null!=j&&j.pushEnable?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Sj,{title:e.formatMessage({id:"form__market_uppercase"}),switchs:[{title:e.formatMessage({id:"form__btc_and_eth_movement"}),desc:e.formatMessage({id:"form__btc_and_eth_movement_desc"}),value:j.btcAndEthPriceAlertEnable,onChange:m("btcAndEthPriceAlertEnable")},{title:e.formatMessage({id:"title__favorite"}),desc:e.formatMessage({id:"form__favorite_desc"}),value:j.favoriteTokensPriceAlertEnable,onChange:m("favoriteTokensPriceAlertEnable")}],footer:Object(Q.jsx)(_j,{title:e.formatMessage({id:"form__manage_threshold"}),value:j.threshold||x[0],onChange:m("threshold"),options:x.map((function(e){return{label:e+"%",value:e}}))})}),Object(Q.jsx)(Sj,{title:e.formatMessage({id:"form__alert_uppercase"}),switchs:[{title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"form__price_alert_desc"}),value:j.priceAlertEnable,onChange:m("priceAlertEnable")}],footer:Object(Q.jsx)(kj,{title:e.formatMessage({id:"form__manage"}),desc:void 0===a?Object(Q.jsx)(It.default,{size:"sm"}):String(a.length),onPress:function(){return t.navigate(b.HomeRoutes.PushNotificationManagePriceAlert,{alerts:a||[]})}})}),Object(Q.jsx)(Sj,{title:e.formatMessage({id:"form__account_uppercase"}),switchs:[{title:e.formatMessage({id:"form__account_dynamic_notification"}),desc:e.formatMessage({id:"form__account_dynamic_notification_desc"}),value:j.accountActivityPushEnable,onChange:m("accountActivityPushEnable")}],footer:Object(Q.jsx)(kj,{title:e.formatMessage({id:"form__manage"}),desc:void 0===s?Object(Q.jsx)(It.default,{size:"sm"}):String(s.length),onPress:function(){return t.navigate(b.HomeRoutes.PushNotificationManageAccountDynamic)}})})]}):null}),[s,a,t,e,m,j,x]);return Object(Q.jsxs)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:[Object(Q.jsx)(Sj,{extraText:e.formatMessage({id:"content__receive_notifications_of_account_dynamics_and_asset_changes"}),switchs:[{title:e.formatMessage({id:"form__notification"}),value:j.pushEnable,onChange:m("pushEnable")}]}),h,Object(Q.jsx)(N.default,{height:10})]})},Cj=n(74),Pj=n(4182);function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tj=function(e){var t,n,r=e.divider,o=e.account,a=e.onChange,c=e.checked,l=e.icon,s=Object(i.useState)(!1),u=x()(s,2),d=u[0],f=u[1];return Object(Q.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:r?void 0:"12px",children:[Object(Q.jsxs)(N.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[l,Object(Q.jsx)(N.default,{mx:"3",flex:"1",children:Object(Q.jsx)(it.default,{hiddenAvatar:!0,address:null!=(t=null!=(n=null==o?void 0:o.displayAddress)?n:null==o?void 0:o.address)?t:"",name:o.name,containerProps:{flex:1}})})]}),d?Object(Q.jsx)(It.default,{}):Object(Q.jsx)(Pt.default,{labelType:"false",isChecked:c,onToggle:function(){return e=!c,f(!0),void a(e).finally((function(){return setTimeout((function(){f(!1)}),200)}));var e}})]})},Dj=function(e){var t=e.name,n=e.type,r=e.accounts,o=e.avatar,a=e.enabledAccounts,c=e.refreash,l=e.passphraseState,s=Object(y.default)(),u=Object(Kt.default)().themeVariant,d=W.default.serviceNotification,f=Object(i.useCallback)(function(){var e=Sn()((function*(e,t){t?yield d.addAccountDynamic({accountId:e.id,address:e.address,name:e.name,passphrase:!!l}):yield d.removeAccountDynamic({address:e.address}),yield c()}));return function(t,n){return e.apply(this,arguments)}}(),[d,c,l]),b=r.length,j=Object(i.useMemo)((function(){return[Cj.WALLET_TYPE_IMPORTED,Cj.WALLET_TYPE_WATCHING,Cj.WALLET_TYPE_EXTERNAL].includes(n)?Object(Q.jsx)(le.default,{size:"sm",avatarBgColor:"surface-neutral-default",walletImage:n,circular:!0}):Object(Q.jsx)(N.default,{bg:(null==o?void 0:o.bgColor)||"#000",w:"8",h:"8",borderRadius:"50",justifyContent:"center",alignItems:"center",children:null==o?void 0:o.emoji})}),[n,o]),p=Object(i.useMemo)((function(){switch(n){case Cj.WALLET_TYPE_IMPORTED:return s.formatMessage({id:"wallet__imported_accounts"});case Cj.WALLET_TYPE_WATCHING:return s.formatMessage({id:"wallet__watched_accounts"});case Cj.WALLET_TYPE_EXTERNAL:return s.formatMessage({id:"content__external_account"})}return t}),[n,t,s]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(te.default.Subheading,{children:p}),Object(Q.jsx)(N.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===u?1:void 0,borderColor:"border-subdued",children:r.map((function(e,t){return Object(Q.jsx)(Tj,{icon:j,account:e,checked:!!a.find((function(t){return t.address===e.address})),onChange:function(t){return f(e,t)},divider:t!==b-1},e.id)}))})]})},Rj=function(){var e=Object(y.default)(),t=Object(gs.useEnabledAccountDynamicAccounts)(),n=t.wallets,r=t.enabledAccounts,o=t.refresh,a=t.loading,c=Object(z.useNavigation)(),l=Object(i.useMemo)((function(){return n.map((function(e){return Aj(Aj({},e),{},{accounts:e.accounts.filter((function(e){return Object(ps.isCoinTypeCompatibleWithImpl)(e.coinType,Pn.IMPL_EVM)}))})})).filter((function(e){return!!e.accounts.length}))}),[n]),s=Object(js.useAsync)(Sn()((function*(){return W.default.serviceNotification.filterContractAddresses(l.map((function(e){return e.accounts.map((function(e){return e.address}))})).flat())})),[l]),u=s.result,d=s.loading;return Object(i.useLayoutEffect)((function(){var t=e.formatMessage({id:"title__manage_account_dynamic"});c.setOptions({title:t})}),[c,e]),l.length?Object(Q.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:l.map((function(e){return Object(Q.jsx)(Dj,Aj(Aj({},e),{},{accounts:e.accounts.filter((function(e){return null==u?void 0:u.includes(e.address)})),refreash:o,enabledAccounts:r}),e.id)}))}):Object(Q.jsx)(Pj.ListEmptyComponent,{isLoading:a||d,desc:e.formatMessage({id:"content__there_are_no_accounts_available_for_subscriptions"})})},Ej=n(4333),Bj=function(e){var t=e.alerts,n=e.onRemove,r=t.length,o=Object(Kt.default)().themeVariant,a=Object(i.useCallback)((function(e){null==n||n(t.find((function(t){return t.price===e})))}),[n,t]);return Object(Q.jsx)(N.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:t.map((function(e,t){return Object(Q.jsx)(Ej.default,{alert:e,divider:t!==r-1,onRemove:a},e.price+"-"+e.currency)}))})},Nj=function(){var e=Object(y.default)(),t=Object(z.useNavigation)(),n=Object(gs.usePriceAlertlist)(),r=n.alerts,o=n.loading,a=n.fetchPriceAlerts;return Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"title__manage_price_alert"});t.setOptions({title:n})}),[t,e]),r.length?Object(Q.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Q.jsx)(Bj,{alerts:r,onRemove:a})}):Object(Q.jsx)(Pj.ListEmptyComponent,{isLoading:o,symbol:"token"})};function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lj(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zj=b.TabRoutes.Me,Hj=Wj(Wj({},_e[zj]),{},{component:Zt(rn(Sb,{rootTabName:zj,freezeWhenBlur:!0}),zj),children:[{name:b.HomeRoutes.ScreenOnekeyLiteDetail,component:Ff},{name:b.HomeRoutes.Protected,component:xj},{name:b.HomeRoutes.WalletSwitch,component:Oj},{name:b.HomeRoutes.VolumeHaptic,component:Cb},{name:b.HomeRoutes.CloudBackup,component:Bb},{name:b.HomeRoutes.CloudBackupPreviousBackups,component:Lb.default},{name:b.HomeRoutes.CloudBackupDetails,component:Nb.default},{name:b.HomeRoutes.PushNotification,component:Ij},{name:b.HomeRoutes.PushNotificationManagePriceAlert,component:Nj},{name:b.HomeRoutes.PushNotificationManageAccountDynamic,component:Rj},{name:b.HomeRoutes.ClearCache,component:zf},{name:b.HomeRoutes.AdvancedSettings,component:Nf},{name:b.HomeRoutes.HardwareBridgeSettings,component:Vf}]}),Fj=n(4078),Uj=n(4041),Vj=Object(i.createContext)(null);function Gj(){return Object(i.useContext)(Vj)}var qj=function(){var e=Object(y.default)();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)(Gt.default.Column,{flex:3,text:{label:e.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{flex:2,text:{label:e.formatMessage({id:"content__time"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Q.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},Yj=function(){var e,t,n,r=null==(e=Gj())?void 0:e.context,o=Object(Pr.default)().formatDistanceToNow,a=Object(to.useCollectionDetail)(),c=Object(i.useCallback)((function(e){var t,n,i=e.item;return Object(Q.jsxs)(Gt.default,{onPress:function(){var e;a({contractAddress:i.contractAddress,networkId:null==r||null==(e=r.selectedNetwork)?void 0:e.id,title:i.contractName})},children:[Object(Q.jsxs)(sr.default,{flex:3,space:"12px",alignItems:"center",children:[Object(Q.jsx)(wr.default,{src:i.collection.logoUrl,width:"40px",height:"40px",verified:i.collection.openseaVerified}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:i.collection.contractName,labelProps:{isTruncated:!0},description:i.tokenId?"ID "+i.tokenId:"\u2013",descriptionProps:{numberOfLines:1}}})]}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:Object(kr.PriceString)({price:new In.BigNumber(null!=(t=i.mintPrice)?t:"0").decimalPlaces(6).toString(),networkId:null==r||null==(n=r.selectedNetwork)?void 0:n.id}),labelProps:{textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{flex:2,text:{label:i.mintTimestamp?o(i.mintTimestamp):"_",labelProps:{textAlign:"right"}}})]})}),[null==r||null==(t=r.selectedNetwork)?void 0:t.id,o,a]),l=Object(i.useCallback)((function(){return Object(Q.jsx)(qj,{})}),[]);return void 0===(null==r?void 0:r.liveMintList)||0===(null==r||null==(n=r.liveMintList)?void 0:n.length)||r.loading?Object(Q.jsx)(Uj.default,{ListHeaderComponent:l,isTab:null==r?void 0:r.isTab,numberOfData:null!=r&&r.isTab?5:10}):Object(Q.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},style:{flex:1},children:Object(Q.jsx)(Vt.default,{ListHeaderComponent:l,data:null==r?void 0:r.liveMintList,renderItem:c,showDivider:!0,keyExtractor:function(e){return""+e.contractAddress+e.tokenId}})})},Kj=function(){var e,t,n,r=null==(e=Gj())?void 0:e.context,o=Object(Pr.default)().formatDistanceToNow,a=Object(to.useCollectionDetail)(),c=Object(i.useCallback)((function(e){var t,n,i=e.item;return Object(Q.jsxs)(Gt.default,{onPress:function(){var e;a({contractAddress:i.contractAddress,networkId:null==r||null==(e=r.selectedNetwork)?void 0:e.id,title:i.contractName})},children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(wr.default,{src:i.collection.logoUrl,width:"56px",height:"56px",verified:i.collection.openseaVerified})}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:i.collection.contractName,labelProps:{isTruncated:!0},description:i.tokenId?"ID "+i.tokenId:"\u2013",descriptionProps:{numberOfLines:1}}}),Object(Q.jsx)(Gt.default.Column,{text:{label:Object(kr.PriceString)({price:new In.BigNumber(null!=(t=i.mintPrice)?t:"0").decimalPlaces(6).toString(),networkId:null==r||null==(n=r.selectedNetwork)?void 0:n.id}),labelProps:{textAlign:"right",numberOfLines:1},description:i.mintTimestamp?o(i.mintTimestamp):"\u2013",descriptionProps:{textAlign:"right",numberOfLines:1}}})]})}),[null==r||null==(t=r.selectedNetwork)?void 0:t.id,o,a]),l=Object(i.useCallback)((function(){return Object(Q.jsx)(N.default,{h:"4px"})}),[]),s=Object(i.useCallback)((function(){return Object(Q.jsx)(N.default,{height:"20px"})}),[]);return void 0===(null==r?void 0:r.liveMintList)||0===(null==r||null==(n=r.liveMintList)?void 0:n.length)||r.loading?Object(Q.jsx)(Uj.default,{isTab:null==r?void 0:r.isTab,numberOfData:null!=r&&r.isTab?5:10}):Object(Q.jsx)(B.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(Q.jsx)(Vt.default,{data:null==r?void 0:r.liveMintList,renderItem:c,keyExtractor:function(e){return""+e.contractAddress+e.tokenId},ItemSeparatorComponent:l,ListFooterComponent:s})})};function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xj(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zj=function(){var e,t=Object(w.useNavigation)(),n=Object(to.useDefaultNetWork)(),r=Object(i.useState)(n),o=x()(r,2),a=o[0],c=o[1],l=null==(e=Gj())?void 0:e.setContext,s=Object(y.default)();return Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",mb:"16px",children:[Object(Q.jsx)(ve.default,{typography:"Heading",children:"Live Minting"}),Object(Q.jsxs)(gt.default,{alignItems:"center",space:"20px",children:[Object(Q.jsx)(Fj.default,{selectedNetwork:a,onChange:function(e){c(e),l&&l((function(t){return Qj(Qj({},t),{},{selectedNetwork:e})}))}}),Object(Q.jsx)(N.default,{m:"-8px",mr:"-12px",children:Object(Q.jsxs)($.default,{onPress:function(){t.navigate(b.HomeRoutes.NFTMarketLiveMintingList,{network:a})},p:"8px",rounded:"xl",flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",mr:"4px",children:s.formatMessage({id:"action__see_all"})}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})]})},Jj=function(){var e,t,n,r,o=Object(j.default)(),a=null==(e=Gj())?void 0:e.context,c=null==(t=Gj())?void 0:t.setContext,l=W.default.serviceNFT,s=Object(w.useIsFocused)(),u=Object(i.useMemo)((function(){var e;return!(null==a||null==(e=a.selectedNetwork)||!e.id)&&!!s}),[null==a||null==(n=a.selectedNetwork)?void 0:n.id,s]),d=function(){var e=Sn()((function*(){if(c){var e;c((function(e){return Qj(Qj({},e),{},{loading:!0})}));var t=yield l.getLiveMinting({chain:null==a||null==(e=a.selectedNetwork)?void 0:e.id,limit:null!=a&&a.isTab?5:20});c(t?function(e){var n=e.isTab;return Qj(Qj({},e),{},{liveMintList:n?t.slice(0,5):t,loading:!1})}:function(e){return Qj(Qj({},e),{},{liveMintList:[],loading:!1})})}return[]}));return function(){return e.apply(this,arguments)}}();return Object(Xi.default)("liveMinting",d,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!u}}),Object(i.useEffect)((function(){Sn()((function*(){if(c){var e;c((function(e){return Qj(Qj({},e),{},{loading:!0})}));var t=yield l.getLiveMinting({chain:null==a||null==(e=a.selectedNetwork)?void 0:e.id,limit:null!=a&&a.isTab?5:20});c(t?function(e){var n=e.isTab;return Qj(Qj({},e),{},{liveMintList:n?t.slice(0,5):t,loading:!1})}:function(e){return Qj(Qj({},e),{},{liveMintList:[],loading:!1})})}}))()}),[null==a?void 0:a.isTab,null==a||null==(r=a.selectedNetwork)?void 0:r.id,l,c]),o?Object(Q.jsx)(Kj,{}):Object(Q.jsx)(Yj,{})},$j=function(){var e=Object(to.useDefaultNetWork)(),t=Object(i.useState)({isTab:!0,selectedNetwork:e}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Q.jsxs)(Vj.Provider,{value:a,children:[Object(Q.jsx)(Zj,{}),Object(Q.jsx)(Jj,{})]})},ep=n(4368),tp=n(5170),np=["contractName","priceTextProps","netImageProps","verified"];function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ap=function(e){var t=e.contractName,n=e.priceTextProps,r=e.netImageProps,o=e.verified,a=O()(e,np),c=Object(y.default)();return Object(Q.jsxs)(tp.MotiPressable,op(op({},a),{},{animate:Object(i.useCallback)((function(e){return{opacity:e.hovered?.8:1}}),[]),children:[Object(Q.jsx)(N.default,{borderRadius:"12px",overflow:"hidden",children:Object(Q.jsx)(Dt.default,op({width:"220px",height:"147px"},r))}),Object(Q.jsxs)(N.default,{mt:"8px",width:"220px",flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(ve.default,{mr:"4px",typography:"Body1Strong",isTruncated:!0,children:t}),!!o&&Object(Q.jsx)(ee.default,{name:"BadgeCheckMini",size:16,color:"icon-success"})]}),Object(Q.jsx)(kr.default,op({prefix:c.formatMessage({id:"content__floor"}),mt:"4px",typography:"Body2",color:"text-subdued"},n))]}))};ap.displayName="CollectionCard";var ip=ap,cp=function(){var e=Object(j.default)()?[1,2]:[1,2,3,4,5];return Object(Q.jsx)(ht.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,data:e,renderItem:function(){return Object(Q.jsxs)(N.default,{mr:"16px",flexDirection:"column",children:[Object(Q.jsx)(Ft.default,{width:"220px",height:"147px",borderRadius:"12px"}),Object(Q.jsx)(N.default,{mt:"8px",children:Object(Q.jsx)(ne.default,{shape:"Body1"})}),Object(Q.jsx)(N.default,{mt:"4px",children:Object(Q.jsx)(ne.default,{shape:"Body2"})})]})},keyExtractor:function(e){return""+e}})},lp=function(e){var t=e.listData,n=e.onSelectCollection,r=Object(i.useRef)(null),o=Object(i.useCallback)((function(e,t){var r=e.bannerUrl,o=e.contractName,a=e.floorPrice,i=e.chain,c=e.priceSymbol,l=e.openseaVerified;return Object(Q.jsx)(ip,{onPress:function(){n(e)},contractName:o,verified:l,netImageProps:{src:r},priceTextProps:{price:a,networkId:i,symbol:c},style:{marginRight:16}},e.contractAddress+" "+t)}),[n]),a=Object(i.useMemo)((function(){return t.map((function(e,t){return o(e,t)}))}),[t,o]);return Object(Q.jsx)(ep.default,{justifyContent:"center",bg:"transparent",ref:r,leftButtonProps:{size:"base",type:"basic",ml:"16px"},rightButtonProps:{size:"base",type:"basic",mr:"16px"},children:a})},sp=Object(i.memo)((function(){var e=W.default.serviceNFT,t=Object(i.useState)([]),n=x()(t,2),r=n[0],o=n[1],a=Object(y.default)(),c=Object(to.useCollectionDetail)();Object(i.useEffect)((function(){Sn()((function*(){var t=yield e.getMarketCollection();o(null!=t?t:[])}))()}),[e]);var l=Object(i.useCallback)((function(e){c({networkId:e.chain,contractAddress:e.contractAddress,collection:e})}),[c]);return Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(ve.default,{typography:"Heading",mb:"16px",children:a.formatMessage({id:"content__notable_collections"})}),Object(Q.jsx)(N.default,{mr:{base:"-16px",md:0},children:0===r.length?Object(Q.jsx)(cp,{}):Object(Q.jsx)(B.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(Q.jsx)(lp,{listData:r,onSelectCollection:l})})})]})})),up=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(w.useNavigation)(),r=Object(to.useCollectionDetail)(),o=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:ar.NFTMarketRoutes.SearchModal,params:{onSelectCollection:function(e){var t=e.networkId,n=e.contractAddress,o=e.collection;r({networkId:t,contractAddress:n,collection:o})}}}})}),[r,t]),a=Object(i.useCallback)((function(){n.navigate(b.HomeRoutes.NFTPNLScreen)}),[n]);return Object(Q.jsxs)(gt.default,{height:{base:"56px",md:"64px"},alignItems:"center",pl:{base:"16px",md:"32px"},pr:{base:"10px",md:"32px"},children:[Object(Q.jsxs)(gt.default,{flex:1,alignItems:"center",children:[Object(Q.jsx)(ve.default,{typography:{sm:"PageHeading",md:"Heading"},children:"NFT"}),Object(Q.jsx)(Lt.default,{from:"base",till:"md",children:Object(Q.jsxs)(gt.default,{justifyContent:"space-between",flex:1,children:[Object(Q.jsxs)(gt.default,{alignItems:"center",children:[Object(Q.jsx)(N.default,{ml:"16px",mr:"8px",h:"16px",w:"1px",bgColor:"divider"}),Object(Q.jsxs)($.default,{onPress:function(){o()},flexDirection:"row",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Q.jsx)(ee.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",ml:2,children:e.formatMessage({id:"form__nft_search_placeholder"})})]})]}),Object(Q.jsx)(re.default,{onPress:function(){a()},type:"plain",leftIconName:"DocumentChartBarMini",rightIcon:Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20}),mx:-4,children:e.formatMessage({id:"action__profit_and_loss"})})]})})]}),Object(Q.jsx)(Lt.default,{from:"md",children:Object(Q.jsxs)(gt.default,{space:"8px",alignItems:"center",children:[Object(Q.jsx)(re.default,{leftIconName:"DocumentChartBarMini",size:"sm",onPress:function(){a()},children:"PnL"}),Object(Q.jsx)(vt.default,{name:"MagnifyingGlassOutline",type:"plain",size:"lg",circle:!0,onPress:function(){o()}})]})})]})},dp=function(e){var t=e.title,n=e.onChange,r=Object(y.default)(),o=[{title:r.formatMessage({id:"content__hours"}),label:"6h",value:0},{title:r.formatMessage({id:"content__hours"}),label:"12h",value:1},{title:r.formatMessage({id:"content__day"}),label:"1d",value:2}];return Object(Q.jsx)(N.default,{m:"-8px",children:Object(Q.jsx)(Y.default,{title:r.formatMessage({id:"content__duration"}),dropdownPosition:"left",headerShown:!1,options:o,isTriggerPlain:!0,footer:null,activatable:!1,onChange:n,renderTrigger:function(e){var n=e.isHovered,r=e.isPressed;return Object(Q.jsxs)(sr.default,{alignItems:"center",p:"8px",bgColor:r?"surface-pressed":n?"surface-hovered":"transparent",borderRadius:"xl",children:[Object(Q.jsx)(ve.default,{color:"text-subdued",typography:"Body2Strong",children:t}),Object(Q.jsx)(N.default,{ml:"4px",children:Object(Q.jsx)(ee.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}})})},fp=n(4023),bp=function(){var e=Object(y.default)();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{w:"160px",text:{label:e.formatMessage({id:"content__market_cap"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Q.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},jp=function(e){var t,n,r=e.listData,o=null==(t=Object(fp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(to.useCollectionDetail)(),l=Object(i.useCallback)((function(e){var t,n,r,i=e.item,l=e.index;return Object(Q.jsxs)(Gt.default,{onPress:function(){var e;c({contractAddress:i.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:i.contract_name})},children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(wr.default,{src:i.logo_url,width:"40px",height:"40px",verified:i.openseaVerified})}),Object(Q.jsx)(Gt.default.Column,{text:{label:""+(l+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:i.contract_name,labelProps:{isTruncated:!0},description:Object(kr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:i.floor_price,networkId:null==o||null==(t=o.selectedNetwork)?void 0:t.id}),descriptionProps:{numberOfLines:1}}}),Object(Q.jsx)(Gt.default.Column,{w:"160px",text:{label:Object(kr.PriceString)({price:Object(Vc.formatMarketValueForComma)(new In.BigNumber(null!=(n=i.market_cap)?n:"0").decimalPlaces(2).toNumber()),networkId:null==o||null==(r=o.selectedNetwork)?void 0:r.id}),labelProps:{textAlign:"right"}}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,a]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Q.jsx)(Uj.default,{ListHeaderComponent:function(){return bp()},isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Q.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Q.jsx)(Vt.default,{ListHeaderComponent:function(){return bp()},data:r,showDivider:!0,renderItem:l,keyExtractor:function(e,t){return""+e.contract_address+t}})})},pp=function(){return Object(Q.jsx)(N.default,{h:"4px"})},Op=function(){return Object(Q.jsx)(N.default,{height:"20px"})},mp=function(e){var t,n,r=e.listData,o=null==(t=Object(fp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(to.useCollectionDetail)(),l=Object(i.useCallback)((function(e){var t,n,r,i=e.item,l=e.index;return Object(Q.jsxs)(Gt.default,{onPress:function(){var e;c({contractAddress:i.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:i.contract_name})},children:[Object(Q.jsx)(Gt.default.Column,{children:Object(Q.jsx)(wr.default,{src:i.logo_url,width:"56px",height:"56px",verified:i.openseaVerified})}),Object(Q.jsx)(Gt.default.Column,{text:{label:""+(l+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:i.contract_name,labelProps:{isTruncated:!0},description:Object(kr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:i.floor_price,networkId:null==o||null==(t=o.selectedNetwork)?void 0:t.id}),descriptionProps:{numberOfLines:1}}}),Object(Q.jsx)(Gt.default.Column,{text:{label:Object(Q.jsx)(ve.default,{typography:"Body1Strong",textAlign:"right",mb:"24px",numberOfLines:1,children:Object(kr.PriceString)({price:Object(Vc.formatMarketValueForComma)(new In.BigNumber(null!=(n=i.market_cap)?n:"0").decimalPlaces(2).toNumber()),networkId:null==o||null==(r=o.selectedNetwork)?void 0:r.id})})}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,a]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Q.jsx)(Uj.default,{isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Q.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Q.jsx)(Vt.default,{data:r,renderItem:l,keyExtractor:function(e,t){return""+e.contract_address+t},ItemSeparatorComponent:pp,ListFooterComponent:Op})})};function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gp=function(){var e,t,n,r,o,a=Object(j.default)(),c=null==(e=Object(fp.useStatsListContext)())?void 0:e.context,l=null==(t=Object(fp.useStatsListContext)())?void 0:t.setContext,s=W.default.serviceNFT;return Object(i.useEffect)((function(){Sn()((function*(){if(1===(null==c?void 0:c.selectedIndex)&&l){var e;l((function(e){return hp(hp({},e),{},{loading:!0})}));var t=yield s.getMarketCapCollection({chain:null==(e=c.selectedNetwork)?void 0:e.id,limit:c.isTab?5:100});t&&l((function(e){var n=e.isTab;return hp(hp({},e),{},{marketCapList:n?t.slice(0,5):t,loading:!1})}))}}))()}),[null==c||null==(n=c.selectedNetwork)?void 0:n.id,s,l]),a?Object(Q.jsx)(mp,{listData:null!=(r=null==c?void 0:c.marketCapList)?r:[]}):Object(Q.jsx)(jp,{listData:null!=(o=null==c?void 0:c.marketCapList)?o:[]})},vp=function(){var e,t=Object(y.default)(),n=null==(e=Object(fp.useStatsListContext)())?void 0:e.context,r=Object(ye.default)().screenWidth-224<900,o=Object(i.useMemo)((function(){switch(null==n?void 0:n.selectedTime){case 0:return t.formatMessage({id:"content__int_hours_sales"},{0:6});case 1:return t.formatMessage({id:"content__int_hours_sales"},{0:12});case 2:return t.formatMessage({id:"content__int_day_sales"},{0:1})}}),[null==n?void 0:n.selectedTime,t]),a=Object(i.useMemo)((function(){switch(null==n?void 0:n.selectedTime){case 0:return t.formatMessage({id:"content__int_hours_volume"},{0:6});case 1:return t.formatMessage({id:"content__int_hours_volume"},{0:12});case 2:return t.formatMessage({id:"content__int_day_volume"},{0:1})}}),[null==n?void 0:n.selectedTime,t]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Gt.default,{children:[Object(Q.jsx)(Gt.default.Column,{p:0,flex:1.9,text:{label:t.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:t.formatMessage({id:"content__uique_owner"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:t.formatMessage({id:"content__blue_chip_rates"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),!r&&Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:o,labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:a,labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Q.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},yp=function(e){var t,n,r=e.listData,o=null==(t=Object(fp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(to.useCollectionDetail)(),l=Object(ye.default)().screenWidth-224<900,s=Object(i.useCallback)((function(e){var t,n,r,i,s,u,d,f,b,j,p,O,m=e.item,x=e.index,h=(null!=(t=m.owners_total)?t:0)/(null!=(n=m.items_total)?n:0)*100,g=null!=(r=m.volume_change)?r:"-";return null!=m&&null!=(i=m.volume_change)&&i.startsWith("-")?(p="surface-critical-subdued",O="text-critical"):null!=m&&null!=(s=m.volume_change)&&s.startsWith("0.00%")?O="text-subdued":(p="surface-success-subdued",O="text-success"),Object(Q.jsxs)(Gt.default,{onPress:function(){var e;c({contractAddress:m.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:m.contract_name})},children:[Object(Q.jsxs)(sr.default,{flex:1.9,space:"12px",alignItems:"center",children:[Object(Q.jsx)(wr.default,{src:m.logo_url,width:"40px",height:"40px",verified:m.openseaVerified}),Object(Q.jsx)(Gt.default.Column,{text:{label:""+(x+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:m.contract_name,labelProps:{isTruncated:!0},description:Object(kr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:m.floor_price,networkId:null==o||null==(u=o.selectedNetwork)?void 0:u.id}),descriptionProps:{numberOfLines:1}}})]}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:h<=100?new In.BigNumber(null!=h?h:"0").decimalPlaces(2).toString()+"%":"",labelProps:{textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:null!=(d=null==(f=m.blueChip)?void 0:f.next_blue_chip_probability)?d:"-",labelProps:{textAlign:"right"}}}),!l&&Object(Q.jsx)(Gt.default.Column,{flex:1,text:{label:m.sales,labelProps:{textAlign:"right"}}}),Object(Q.jsx)(Gt.default.Column,{space:"2px",flex:1,text:{label:Object(kr.PriceString)({price:new In.BigNumber(null!=(b=m.volume)?b:"0").decimalPlaces(2).toString(),networkId:null==o||null==(j=o.selectedNetwork)?void 0:j.id}),labelProps:{textAlign:"right"},description:Object(Q.jsx)(N.default,{justifyContent:"flex-end",flex:1,width:"full",flexDirection:"row",children:Object(Q.jsx)(st.default,{size:"sm",bgColor:p,title:g,color:O})})}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,l,a]),u=Object(i.useCallback)((function(){return Object(Q.jsx)(vp,{})}),[]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Q.jsx)(Uj.default,{ListHeaderComponent:u,isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Q.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Q.jsx)(Vt.default,{ListHeaderComponent:u,data:r,showDivider:!0,renderItem:s,keyExtractor:function(e,t){return""+e.contract_address+t}})})},wp=n(4334);function kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sp={0:"6h",1:"12h",2:"1d"},Ip=function(){var e,t,n,r,o,a=Object(j.default)(),c=null==(e=Object(fp.useStatsListContext)())?void 0:e.context,l=null==(t=Object(fp.useStatsListContext)())?void 0:t.setContext,s=W.default.serviceNFT;return Object(i.useEffect)((function(){Sn()((function*(){if(0===(null==c?void 0:c.selectedIndex)&&l){var e;l((function(e){return _p(_p({},e),{},{loading:!0})}));var t=yield s.getMarketRanking({chain:null==(e=c.selectedNetwork)?void 0:e.id,time:Sp[c.selectedTime]});t&&l((function(e){var n=e.isTab;return _p(_p({},e),{},{rankingList:n?t.slice(0,5):t,loading:!1})}))}}))()}),[null==c||null==(n=c.selectedNetwork)?void 0:n.id,null==c?void 0:c.selectedTime,s,l]),a?Object(Q.jsx)(wp.default,{listData:null!=(r=null==c?void 0:c.rankingList)?r:[]}):Object(Q.jsx)(yp,{listData:null!=(o=null==c?void 0:c.rankingList)?o:[]})};function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mp,Ap=function(){var e,t,n=Object(to.useDefaultNetWork)(),r=Object(i.useState)(n),o=x()(r,2),a=o[0],c=o[1],l=Object(w.useNavigation)(),s=null==(e=Object(fp.useStatsListContext)())?void 0:e.setContext,u=null==(t=Object(fp.useStatsListContext)())?void 0:t.context,d=Object(y.default)();return Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",mb:"12px",children:[Object(Q.jsx)(ve.default,{typography:"Heading",children:d.formatMessage({id:"content__stats"})}),Object(Q.jsxs)(gt.default,{alignItems:"center",space:"20px",children:[Object(Q.jsx)(Fj.default,{selectedNetwork:a,onChange:function(e){c(e),s&&s((function(t){return Pp(Pp({},t),{},{selectedNetwork:e})}))}}),Object(Q.jsx)(N.default,{m:"-8px",mr:"-12px",children:Object(Q.jsxs)($.default,{onPress:function(){l.navigate(b.HomeRoutes.NFTMarketStatsList,{network:a,selectedIndex:null==u?void 0:u.selectedIndex})},p:"8px",rounded:"xl",flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Q.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",mr:"4px",children:d.formatMessage({id:"action__see_all"})}),Object(Q.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})]})},Tp=function(){var e,t,n,r,o=null==(e=Object(fp.useStatsListContext)())?void 0:e.context,a=null==(t=Object(fp.useStatsListContext)())?void 0:t.setContext,c=Object(i.useState)(null!=(n=null==o?void 0:o.selectedTime)?n:0),l=x()(c,2),s=l[0],u=l[1],d=Object(i.useState)(null!=(r=null==o?void 0:o.selectedIndex)?r:0),f=x()(d,2),b=f[0],p=f[1],O=Object(j.default)(),m=Object(y.default)(),h=Object(i.useMemo)((function(){switch(null==o?void 0:o.selectedTime){case 0:return m.formatMessage({id:"content__int_hours_volume"},{0:6});case 1:return m.formatMessage({id:"content__int_hours_volume"},{0:12});case 2:return m.formatMessage({id:"content__int_day_volume"},{0:1})}}),[null==o?void 0:o.selectedTime,m]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:"16px",children:[Object(Q.jsx)(Wt.default,{buttons:[{text:m.formatMessage({id:"content__ranking"})},{text:m.formatMessage({id:"content__market_cap"})}],size:"lg",selectedIndex:b,bg:"transparent",onButtonPress:function(e){p(e),a&&a((function(t){return Pp(Pp({},t),{},{selectedIndex:e})}))},flex:1}),(null==o?void 0:o.isTab)&&O&&Object(Q.jsx)(ve.default,{typography:"Body2",color:"text-subdued",textAlign:"right",children:0===b?m.formatMessage({id:"content__int_day_volume"},{0:1}):""}),!(null!=o&&o.isTab)&&0===(null==o?void 0:o.selectedIndex)&&O&&Object(Q.jsx)(dp,{title:h,onChange:function(e){u(e),a&&a((function(t){return Pp(Pp({},t),{},{selectedTime:e})}))}}),!(null!=o&&o.isTab)&&0===(null==o?void 0:o.selectedIndex)&&!O&&Object(Q.jsx)(N.default,{width:"160px",children:Object(Q.jsx)(St.default,{values:["6H","12H","1D"],selectedIndex:s,onChange:function(e){u(e),a&&a((function(t){return Pp(Pp({},t),{},{selectedTime:e})}))}})})]}),0===b?Object(Q.jsx)(Ip,{}):Object(Q.jsx)(gp,{})]})},Dp=function(){var e=Object(to.useDefaultNetWork)(),t=Object(i.useState)({isTab:!0,selectedNetwork:e,selectedIndex:0,selectedTime:2}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Q.jsxs)(fp.StatsListContext.Provider,{value:a,children:[Object(Q.jsx)(Ap,{}),Object(Q.jsx)(Tp,{})]})};!function(e){e.BannerSection="BannerSection",e.Collection="Collection",e.Stats="Stats",e.Category="Category",e.LiveMinting="LiveMinting"}(Mp||(Mp={}));var Rp=function(){var e=Object(je.default)().bottom,t=[{id:Mp.Collection},{id:Mp.Stats},{id:Mp.LiveMinting}],n=Object(i.useCallback)((function(e){var t=e.item.id;return t===Mp.Collection?Object(Q.jsx)(sp,{}):t===Mp.Stats?Object(Q.jsx)(Dp,{}):t===Mp.LiveMinting?Object(Q.jsx)($j,{}):Object(Q.jsx)(N.default,{})}),[]),r=Object(i.useCallback)((function(){return Object(Q.jsx)(N.default,{h:{base:"32px",md:"48px"}})}),[]);return Object(Q.jsx)(ht.default,{data:t,ItemSeparatorComponent:r,renderItem:n,keyExtractor:function(e){return e.id},p:{base:"16px",md:"32px"},showsVerticalScrollIndicator:!1,contentContainerStyle:{width:"100%",maxWidth:992,paddingBottom:e,alignSelf:"center"}})},Ep=Object(i.memo)((function(){var e=Object(je.default)().top;return Object(Q.jsxs)(N.default,{flex:1,mt:e+"px",children:[Object(Q.jsx)(up,{}),Object(Q.jsx)(Rp,{})]})}));function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lp=function(){var e,t,n=Object(je.default)().bottom,r=Object(w.useNavigation)(),o=null==(e=Gj())?void 0:e.setContext,a=null==(t=Gj())?void 0:t.context,c=Object(to.useDefaultNetWork)(),l=Object(i.useCallback)((function(){var e;return Object(Q.jsx)(Fj.default,{selectedNetwork:null!=(e=null==a?void 0:a.selectedNetwork)?e:c,onChange:function(e){o&&o((function(t){return Np(Np({},t),{},{selectedNetwork:e})}))},tiggerProps:{paddingRight:"16px"}})}),[null==a?void 0:a.selectedNetwork,c,o]);return Object(i.useLayoutEffect)((function(){r.setOptions({title:"Live Minting",headerRight:l})}),[l,r]),Object(Q.jsx)(pe.default,{p:{base:"16px",md:"32px"},contentContainerStyle:{width:"100%",maxWidth:992,marginHorizontal:"auto",paddingBottom:n},children:Object(Q.jsx)(Jj,{})})},Wp=function(){var e=Object(w.useRoute)().params.network,t=Object(i.useState)({isTab:!1,selectedNetwork:e}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Q.jsx)(Vj.Provider,{value:a,children:Object(Q.jsx)(Lp,{})})};function zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fp=function(){var e=Object(je.default)().bottom,t=Object(w.useNavigation)(),n=Object(w.useRoute)().params,r=n.network,o=n.selectedIndex,a=Object(i.useState)(r),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)({isTab:!1,selectedIndex:o,selectedTime:2,selectedNetwork:l}),d=x()(u,2),f=d[0],b=d[1],j=Object(i.useCallback)((function(){return Object(Q.jsx)(Fj.default,{triggerSize:"lg",selectedNetwork:l,onChange:function(e){s(e),b&&b((function(t){return Hp(Hp({},t),{},{selectedNetwork:e})}))},tiggerProps:{paddingRight:"16px"}})}),[l]);Object(i.useLayoutEffect)((function(){t.setOptions({title:"Stats",headerRight:j})}),[j,t]);var p=Object(i.useMemo)((function(){return{context:f,setContext:b}}),[f]);return Object(Q.jsx)(fp.StatsListContext.Provider,{value:p,children:Object(Q.jsx)(pe.default,{p:{base:"16px",md:"32px"},contentContainerStyle:{width:"100%",maxWidth:992,paddingBottom:e,alignSelf:"center"},children:Object(Q.jsx)(Tp,{})})})};function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gp=b.TabRoutes.NFT,qp=Vp(Vp({},_e[Gp]),{},{component:Zt(rn(Ep,{rootTabName:Gp}),Gp),children:[{name:b.HomeRoutes.NFTMarketStatsList,component:Fp},{name:b.HomeRoutes.NFTMarketLiveMintingList,component:Wp},{name:b.HomeRoutes.NFTMarketCollectionScreen,component:Zr},{name:b.HomeRoutes.NFTPNLScreen,component:Co,alwaysShowBackButton:!0}]});function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xp=function(e){var t=e.status,n=Object(y.default)();return Object(Q.jsxs)(N.default,{children:["pending"===t?Object(Q.jsx)(st.default,{type:"info",size:"sm",color:"#599BFF",title:n.formatMessage({id:"transaction__pending"})}):null,"failed"===t?Object(Q.jsx)(st.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"canceled"===t?Object(Q.jsx)(st.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"sucesss"===t?Object(Q.jsx)(st.default,{type:"success",size:"sm",color:"text-success",title:n.formatMessage({id:"transaction__success"})}):null]})},Qp=function(e){var t,n,r,o,a,c,l,s,u,d,f=e.tx,j=Object(w.useNavigation)(),p=null==(t=f.tokens)?void 0:t.from.networkId,O=null==(n=f.tokens)?void 0:n.to.networkId,m=Object(z.useNetworkSimple)(p),x=Object(z.useNetworkSimple)(O),h=Object(i.useCallback)((function(){j.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.Transaction,params:{txid:f.hash,goBack:function(){return j.goBack()}}}})}),[j,f.hash]),g=Object(i.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?Object(qo.formatAmount)(n)+" "+t.symbol.toUpperCase():"-"}),[]);return Object(Q.jsx)(N.default,{children:Object(Q.jsxs)($.default,{py:"4",onPress:h,flexDirection:"row",alignItems:"center",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:[Object(Q.jsx)(N.default,{mr:"4",children:Object(Q.jsx)(At.default,{token:{logoURI:null==(r=f.tokens)?void 0:r.to.token.logoURI},size:"8"})}),Object(Q.jsxs)(N.default,{flex:"1",children:[Object(Q.jsx)(te.default.Body1Strong,{children:g({token:null==(o=f.tokens)?void 0:o.to.token,amount:null==(a=f.tokens)?void 0:a.to.amount})}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:null==x?void 0:x.shortName})]})]}),Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:Object(Q.jsx)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",children:Object(Q.jsxs)(N.default,{flex:"1",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[f.actualReceived?null:Object(Q.jsx)(te.default.Caption,{children:"~"}),Object(Q.jsx)(N.default,{flex:"1",children:Object(Q.jsx)(te.default.Body1Strong,{isTruncated:!0,children:g({token:null==(c=f.tokens)?void 0:c.from.token,amount:null==(l=f.tokens)?void 0:l.from.amount})})})]}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",children:null==m?void 0:m.shortName})]})})}),Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(Pi.default,{tokenA:null==(s=f.tokens)?void 0:s.from.token,tokenB:null==(u=f.tokens)?void 0:u.to.token,rate:null==(d=f.tokens)?void 0:d.rate,hideIcon:!0})}),Object(Q.jsx)(N.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:Object(Q.jsx)(te.default.Body2,{color:"text-subdued",ml:"3",isTruncated:!0,children:Object(Wc.default)(f.addedTime,"yyyy/MM/dd HH:mm:ss")})}),Object(Q.jsx)(N.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:Object(Q.jsx)(Si.default,{providers:f.providers,typography:"Body2Strong",color:"text-default"})}),Object(Q.jsx)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexBasis:"10%",children:Object(Q.jsx)(Xp,{status:f.status})})]})})},Zp=function(e){var t,n,r,o,a,c,l,s,u=e.tx,d=Object(w.useNavigation)(),f=null==(t=u.tokens)?void 0:t.from.networkId,j=null==(n=u.tokens)?void 0:n.to.networkId,p=Object(z.useNetworkSimple)(f),O=Object(z.useNetworkSimple)(j),m=Object(i.useCallback)((function(){d.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Go.SwapRoutes.Transaction,params:{txid:u.hash,goBack:function(){return d.goBack()}}}})}),[d,u.hash]),x=Object(i.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?Object(qo.formatAmount)(n)+" "+t.symbol.toUpperCase():"-"}),[]);return Object(Q.jsx)(N.default,{px:"4",children:Object(Q.jsxs)($.default,{p:"4",onPress:m,children:[Object(Q.jsxs)(N.default,{flexDirection:"row",width:"full",children:[Object(Q.jsx)(N.default,{mr:"4",children:Object(Q.jsx)(At.default,{token:{logoURI:null==(r=u.tokens)?void 0:r.from.token.logoURI},size:"8"})}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[Object(Q.jsx)(te.default.Body1Strong,{mr:"2",children:x({token:null==(o=u.tokens)?void 0:o.from.token,amount:null==(a=u.tokens)?void 0:a.from.amount})}),Object(Q.jsxs)(te.default.Body2,{color:"text-subdued",children:["(",null==p?void 0:p.shortName,")"]})]})]}),Object(Q.jsx)(T.default,{h:"4",w:"8",my:"1",children:Object(Q.jsx)(ee.default,{name:"ArrowDownMini",size:16})}),Object(Q.jsxs)(N.default,{flexDirection:"row",width:"full",children:[Object(Q.jsx)(N.default,{mr:"4",children:Object(Q.jsx)(At.default,{token:{logoURI:null==(c=u.tokens)?void 0:c.to.token.logoURI},size:"8"})}),Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[u.actualReceived?null:Object(Q.jsx)(te.default.Caption,{children:"~"}),Object(Q.jsx)(te.default.Body1Strong,{mr:"2",children:x({token:null==(l=u.tokens)?void 0:l.to.token,amount:null==(s=u.tokens)?void 0:s.to.amount})}),Object(Q.jsxs)(te.default.Body2,{color:"text-subdued",children:["(",null==O?void 0:O.shortName,")"]})]})]}),Object(Q.jsxs)(N.default,{flexDirection:"row",width:"full",justifyContent:"space-between",mt:"3",children:[Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",pl:"2",children:[Object(Q.jsx)(Si.default,{providers:u.providers,typography:"Body2",color:"text-subdued",fontWeight:500}),Object(Q.jsx)(te.default.Body2,{color:"text-subdued",ml:"3",fontWeight:500,children:Object(Wc.default)(u.addedTime,"MM/dd HH:mm")})]}),Object(Q.jsx)(Xp,{status:u.status})]})]})})},Jp=function(e){return Object(j.default)()?Object(Q.jsx)(Zp,Kp({},e)):Object(Q.jsx)(Qp,Kp({},e))},$p=function(e){var t=e.txs,n=Object(y.default)();return null!=t&&t.length?Object(Q.jsx)(N.default,{children:Object(Q.jsx)(lt.default,{title:n.formatMessage({id:"content__str_transactions_in_progress"},{content__str_transactions_in_progress:null==t?void 0:t.length}),dismiss:!1,alertType:"info"})}):null},eO=function(e){var t=e.txs,n=Object(y.default)(),r=Object(Ra.useSummaryTx)(),o=Object(i.useCallback)((function(){t.forEach((function(e){W.default.dispatch(Object(da.archiveTransaction)({accountId:e.accountId,networkId:e.networkId,txs:[e.hash]}))}))}),[t]);return 0===t.length?null:1===t.length?Object(Q.jsx)(N.default,{children:Object(Q.jsx)(lt.default,{title:r(t[0]),alertType:"error",onDismiss:o})}):Object(Q.jsx)(N.default,{children:Object(Q.jsx)(lt.default,{title:n.formatMessage({id:"content__str_transactions_failed"},{0:t.length}),alertType:"error",onDismiss:o})})},tO=function(){var e=Object(j.default)(),t=Object(Cd.useWalletsSwapTransactions)(),n=Object(i.useMemo)((function(){return t.filter((function(e){return"pending"===e.status}))}),[t]),r=Object(i.useMemo)((function(){return t.filter((function(e){return"failed"===e.status&&!e.archive}))}),[t]);return 0===n.length&&0===r.length?null:Object(Q.jsx)(T.default,{children:Object(Q.jsxs)(Oe.default,{px:e?"4":void 0,mb:e?void 0:"4",width:"full",space:4,children:[n.length?Object(Q.jsx)($p,{txs:n}):null,r.length?Object(Q.jsx)(eO,{txs:r}):null]})})},nO=function(){return Object(Q.jsx)(N.default,{mx:"4",children:Object(Q.jsx)(mt.default,{})})},rO=function(){return Object(Q.jsx)(N.default,{h:"4"})},oO=function(){var e=Object(y.default)();return Object(Q.jsx)(N.default,{py:"8",children:Object(Q.jsx)(xt.default,{title:e.formatMessage({id:"transaction__history_empty_title"}),subTitle:e.formatMessage({id:"transaction__history_empty_desc"}),emoji:"\ud83d\udd50"})})},aO=function(){var e=Object(j.default)(),t=Object(y.default)();return e?null:Object(Q.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"action__receive"})})}),Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__pay"})})}),Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"Rate"})})}),Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"content__created"})})}),Object(Q.jsx)(N.default,{flexBasis:"18%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__provider_uppercase"})})}),Object(Q.jsx)(N.default,{flexBasis:"10%",children:Object(Q.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__status"})})})]})},iO=function(){return Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(tO,{}),Object(Q.jsx)(aO,{})]})},cO=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Cd.useWalletsSwapTransactions)(),r=Object(i.useMemo)((function(){return n}),[n]);Object(i.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"transaction__history"})})}),[t,e]);var o=Object(i.useCallback)((function(e){var t=e.item;return Object(Q.jsx)(Jp,{tx:t})}),[]);return Object(Q.jsx)(ht.default,{data:r,renderItem:o,ItemSeparatorComponent:nO,ListFooterComponent:rO,ListHeaderComponent:iO,ListEmptyComponent:oO})},lO=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useCallback)((function(){o(!0)}),[]),c=Object(i.useCallback)((function(){W.default.serviceSwap.clearTransactions(),o(!1)}),[]);return Object(Q.jsxs)(N.default,{px:"4",children:[Object(Q.jsx)(vt.default,{type:"plain",name:"TrashOutline",onPress:a}),Object(Q.jsx)(Tt.default,{visible:r,contentProps:{iconName:"TrashMini",iconType:"danger",title:e.formatMessage({id:"action__clear_swap_history"}),content:e.formatMessage({id:"action__clear_swap_history_desc"})},footerButtonProps:{primaryActionTranslationId:"action__clear",primaryActionProps:{type:"destructive"},onPrimaryActionPress:c,onSecondaryActionPress:function(){o(!1)}}})]})},sO=function(e){var t=e.children,n=Object(w.useNavigation)(),r=Object(y.default)(),o=Object(j.default)(),a=Object(i.useCallback)((function(){n.goBack()}),[n]);return Object(i.useLayoutEffect)((function(){o?n.setOptions({headerRight:function(){return Object(Q.jsx)(lO,{})}}):n.setOptions({headerShown:!1})}),[n,o]),o?Object(Q.jsx)(N.default,{bg:"background-default",w:"full",h:"full",style:{maxWidth:768,marginHorizontal:"auto"},children:t}):Object(Q.jsxs)(N.default,{bg:"background-default",w:"full",h:"full",px:"8",children:[Object(Q.jsx)(N.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:Object(Q.jsx)(vt.default,{onPress:a,type:"plain",name:"ArrowLeftOutline"})}),Object(Q.jsxs)(N.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"4",children:[Object(Q.jsx)(te.default.DisplayLarge,{px:"4",children:r.formatMessage({id:"title__swap_history"})}),Object(Q.jsx)(lO,{})]}),t]})},uO=function(){return Object(Q.jsx)(sO,{children:Object(Q.jsx)(cO,{})})},dO=Object(i.memo)((function(){return Object(Q.jsx)(Af,{routeName:b.TabRoutes.Swap})}));function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jO=b.TabRoutes.Swap,pO=[Pu,Ef,bO(bO({},_e[jO]),{},{hideDesktopNavHeader:!0,component:Zt(rn(dO,{rootTabName:jO}),jO),children:[{name:b.HomeRoutes.SwapHistory,component:uO}]}),qp,mn,Hj],OO=we.map((function(e){var t=pO.find((function(t){return t.name===e}));if(t){if(t.hideOnProduction)return;return t}})).filter(Boolean),mO=n(3961),xO=n(4083),hO=function(e){var t=e.headerLeft,n=e.headerRight,r=e.showOnDesktop,o=e.i18nTitle,a=e.testID,i=Object(j.default)(),c=i?57:65,l=Object(Kt.default)().themeVariant,s=Object(Q.jsx)(fe.default,{children:Object(Q.jsx)(N.default,{testID:a,children:Object(Q.jsx)(xO.default,{style:{height:c},headerLeft:t,headerRight:n,i18nTitle:o})})});return i||r?Object(Q.jsx)(Q.Fragment,{children:"web"===M.default.OS?s:Object(Q.jsx)(mO.default,{intensity:0,tint:"light"===l?"light":"dark"===l?"dark":"default",children:s})}):null},gO=function(){return null};function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yO=function(e){var t=Object(z.useAppSelector)((function(e){return e.data.isPasswordSet})),n=gO(),r=Object(i.useMemo)((function(){var e=[{id:"action__scan",onPress:function(){return Object(wb.gotoScanQrcode)()},icon:"ViewfinderCircleMini"},d.default.isExtensionUiPopup&&{id:"form__expand_view",onPress:function(){W.default.serviceApp.openExtensionExpandTab({routes:""})},icon:"ArrowsPointingOutOutline"},t&&{id:"action__lock_now",onPress:function(){return W.default.serviceApp.lock(!0)},icon:"LockClosedMini"}];return n?e.concat(n):e}),[t,n]);return Object(Q.jsx)(Fc.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:r},e))},wO=function(){return Object(Q.jsx)(de,{})},kO=function(){return Object(Q.jsxs)(gt.default,{space:3,alignItems:"center",children:[Object(Q.jsx)(vn.NetworkAccountSelectorTriggerMobile,{allowSelectAllNetworks:!0}),Object(Q.jsx)(yO,{children:Object(Q.jsx)(vt.default,{name:"EllipsisVerticalOutline",type:"plain",size:"lg",circle:!0,m:-2})})]})};function _O(){return Object(Q.jsx)(hO,{testID:"App-Layout-Header-Mobile",showOnDesktop:!1,headerLeft:wO,headerRight:kO})}function SO(e){var t=e.i18nTitle,n=function(){var e,t=Object(ae.useAutoUpdate)(),n=t.latest,r=t.state,o=(null!=(e=Object(ae.useSettings)().updateSetting)?e:{}).autoDownload;return{showUpdateBadge:Object(i.useMemo)((function(){var e=!1;return o||"available"!==r||(e=!0),"ready"===r&&(e=!0),n&&"version"in n&&Xf.default.skipVersionCheck(n.version)&&(e=!1),K.default.autoUpdate.debug("useCheckUpdate render, showBadge: ",e),e}),[n,o,r]),showMobileUpdateBadge:Object(i.useMemo)((function(){return"available"===r&&(K.default.autoUpdate.debug("useCheckUpdate render, showMobileBadge: true"),!0)}),[r])}}().showUpdateBadge;Object(i.useEffect)((function(){K.default.autoUpdate.debug("LayoutHeaderDesktop showUpdateBadge effect: ",n)}),[n]);var r=Object(i.useCallback)((function(){return Object(Q.jsxs)(gt.default,{space:2,alignItems:"center",children:[Object(Q.jsx)(vn.NetworkAccountSelectorTriggerDesktop,{allowSelectAllNetworks:!0}),Object(Q.jsxs)(N.default,{children:[Object(Q.jsx)(yO,{children:Object(Q.jsx)(vt.default,{name:"EllipsisVerticalOutline",size:"lg",type:"plain",circle:!0,m:-2})}),n&&Object(Q.jsx)(N.default,{position:"absolute",top:"-3px",right:"-8px",rounded:"full",p:"2px",pr:"9px",children:Object(Q.jsx)(N.default,{rounded:"full",bgColor:"interactive-default",size:"8px"})})]})]})}),[n]);return Object(Q.jsx)(hO,{testID:"App-Layout-Header-Desktop",showOnDesktop:!0,i18nTitle:t,headerRight:r})}function IO(e){var t=e.i18nTitle,n=Object(j.default)()?Object(Q.jsx)(_O,{}):Object(Q.jsx)(SO,{i18nTitle:t});return Object(Q.jsx)(N.default,{testID:"WalletSelectorNavHeader",children:n})}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MO=["name","component"],AO=rt(),TO=Object(v.default)(),DO=function(e,t){var n=OO.find((function(t){return t.name===e})),r=[{name:Object(at.buildAppRootTabName)(n.name),component:n.component,alwaysShowBackButton:!1,i18nTitle:n.translationId}].concat(g()(n.children||[]));return function(){var e=Object(a.default)(["background-default","border-subdued"]),o=x()(e,2),i=o[0],c=o[1];return Object(Q.jsx)(TO.Navigator,{children:r.map((function(e,r){var o=e.name,a=e.component,l=O()(e,MO),s=function(e){var t=e.tab,n=e.index,r=(e.name,e.i18nTitle),o=e.stackOptions,a=e.bgColor,i=e.borderBottomColor,c=e.isVerticalLayout,l=!0;return 0===n?(c&&t.hideMobileNavHeader&&(l=!1),!c&&t.hideDesktopNavHeader&&(l=!1)):l=!0,{headerRender:"AccountSelector"===(0===n?t.navHeaderType:"SimpleTitle")?function(e){return Object(Q.jsx)(IO,{i18nTitle:r})}:function(e){return Object(Q.jsx)(xO.default,PO(PO({style:{backgroundColor:a,borderBottomWidth:0,shadowColor:i}},e),o))},headerShown:l}}({tab:n,index:r,name:o,i18nTitle:l.i18nTitle,stackOptions:l,bgColor:i,borderBottomColor:c,isVerticalLayout:t}),u=s.headerShown,d=s.headerRender;return Object(Q.jsx)(TO.Screen,{name:o,component:a,options:{header:d,headerShown:u}},o)}))})}},RO=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(j.default)(),n=Object(i.useMemo)((function(){return d.default.isNewRouteMode?function(){return null}:function(){return Object(Q.jsx)(_O,{})}}),[]),r=Object(i.useMemo)((function(){var n=OO;return t&&!d.default.isNewRouteMode&&(n=OO.filter((function(e){return e.name!==b.TabRoutes.Swap}))),n.map((function(n){return Object(Q.jsx)(AO.Screen,{name:n.name,component:d.default.isNewRouteMode||!t?DO(n.name,t):n.component,options:{tabBarIcon:n.tabBarIcon,tabBarLabel:e.formatMessage({id:n.translationId}),tabBarStyle:{display:"none",height:0}}},n.name)}))}),[e,t]);return Object(i.useMemo)((function(){return Object(Q.jsx)(ot.LazyDisplayView,{delay:100,hideOnUnmount:!1,isLazyDisabled:!1,children:Object(Q.jsx)(AO.Navigator,{screenOptions:{header:n,freezeOnBlur:!0,lazy:!0},children:r})})}),[n,r])}));function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var BO=Object(c.default)();t.default=Object(i.memo)((function(){var e=Object(a.default)("background-default"),t=Object(i.useMemo)((function(){var t={width:u(),backgroundColor:e};return d.default.isRuntimeBrowser&&(t.opacity=1),{headerShown:!1,drawerType:"back",drawerStyle:t,swipeEnabled:!1}}),[e]),n=Object(i.useCallback)((function(e){return Object(Q.jsx)(f.WalletSelectorMobile,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}),[]);return Object(Q.jsx)(BO.Navigator,{screenOptions:t,drawerContent:n,children:Object(Q.jsx)(BO.Screen,{name:b.MainRoutes.Tab,component:RO})})}))}}]);